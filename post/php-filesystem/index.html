<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="Treecatee">



<meta name="description" content="学习文件处理本质上面就是学习文件处理的函数。 ヾ(๑╹◡╹)ﾉ”">
<meta name="keywords" content="PHP语言">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP-文件系统">
<meta property="og:url" content="Treecatee.gitgub.io/post/php-filesystem/index.html">
<meta property="og:site_name" content="Treecatee">
<meta property="og:description" content="学习文件处理本质上面就是学习文件处理的函数。 ヾ(๑╹◡╹)ﾉ”">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://i.loli.net/2019/02/21/5c6e21be78910.png">
<meta property="og:updated_time" content="2019-03-06T16:37:44.250Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHP-文件系统">
<meta name="twitter:description" content="学习文件处理本质上面就是学习文件处理的函数。 ヾ(๑╹◡╹)ﾉ”">
<meta name="twitter:image" content="https://i.loli.net/2019/02/21/5c6e21be78910.png">

<link rel="apple-touch-icon" href="/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Treecatee" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>PHP-文件系统 | Treecatee</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/favicon.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Treecatee</a></h1>
        </hgroup>

        
        <p class="header-subtitle">得失弹指一挥间。</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="true">
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class="no-result">No results found <i class="fa fa-spinner fa-pulse"></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                            <li><a href="/book">资源</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/1003432683@qq.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" href="https://weibo.com/2828202205/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" title="新浪微博"></a>
                            
                                <a class="fa RSS" href="https://directoree.github.io" title="RSS"></a>
                            
                                <a class="fa 网易云音乐" href="https://music.163.com/#/user/home?id=455041480" title="网易云音乐"></a>
                            
                                <a class="fa LinkedIn" href="/links" title="LinkedIn"></a>
                            
                                <a class="fa QQ" href="http://sighttp.qq.com/msgrd?v=1&uin=1003432683" title="QQ"></a>
                            
                                <a class="fa LOFTER" href="/book" title="LOFTER"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARP欺骗/">ARP欺骗</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cookie/">Cookie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DVWA/">DVWA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hash函数/">Hash函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java学习/">Java学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java访问权限/">Java访问权限</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java语言/">Java语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Meterpreter命令/">Meterpreter命令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP语言/">PHP语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python语言/">Python语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLMAP命令/">SQLMAP命令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/User-Agen/">User-Agen</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Wireshark/">Wireshark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/msfvenom/">msfvenom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/信安数学/">信安数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分组密码/">分组密码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客搭建/">博客搭建</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安全指导/">安全指导</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安全笔记/">安全笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安卓渗透/">安卓渗透</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/序列密码/">序列密码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法学习/">算法学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/远程木马攻击/">远程木马攻击</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Treecatee</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/favicon.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Treecatee</a></h1>
            </hgroup>
            
            <p class="header-subtitle">得失弹指一挥间。</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                    <li><a href="/book">资源</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/1003432683@qq.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" target="_blank" href="https://weibo.com/2828202205/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" title="新浪微博"></a>
                            
                                <a class="fa RSS" target="_blank" href="https://directoree.github.io" title="RSS"></a>
                            
                                <a class="fa 网易云音乐" target="_blank" href="https://music.163.com/#/user/home?id=455041480" title="网易云音乐"></a>
                            
                                <a class="fa LinkedIn" target="_blank" href="/links" title="LinkedIn"></a>
                            
                                <a class="fa QQ" target="_blank" href="http://sighttp.qq.com/msgrd?v=1&uin=1003432683" title="QQ"></a>
                            
                                <a class="fa LOFTER" target="_blank" href="/book" title="LOFTER"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我">
</nav>
      <div class="body-wrap"><article id="post-PHP-FileSystem" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/post/php-filesystem/" class="article-date">
      <time datetime="2019-02-20T05:29:20.000Z" itemprop="datePublished">2019-02-20</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      PHP-文件系统
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/PHP/">PHP</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP语言/">PHP语言</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>学习文件处理本质上面就是学习<font color="#00B2EE"><strong>文件处理的函数。</strong></font> ヾ(๑╹◡╹)ﾉ”<br><a id="more"></a></p>
<p>&ensp;<br>&ensp;</p>
<center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>PHP 文件系统</strong></font></center>

<p>&emsp;<br>&emsp;</p>
<h3 id="一-读取文件"><a href="#一-读取文件" class="headerlink" title="一. 读取文件"></a><font color="#FF6347" face="Comic sans MS">一. 读取文件</font></h3><p>&emsp;</p>
<h4 id="1-1-readfile读取文件"><a href="#1-1-readfile读取文件" class="headerlink" title="1.1 readfile读取文件"></a><font color="#3CB371" face="Comic sans MS">1.1 readfile读取文件</font></h4><p>读取一个文件内容的函数：<font color="#00B2EE" face="Comic sans MS"><strong>int readfile ( string $文件名)</strong></font></p>
<blockquote>
<font color="#FF7F00"><strong>功能：传入一个文件路径，输出这个文件里面的内容。</strong></font>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">   //linux类的读取方式</span><br><span class="line">   readfile(<span class="string">"/home/paul/test.txt"</span>);</span><br><span class="line">   //windows类的读取方式</span><br><span class="line">   readfile(<span class="string">"c:\\boot.ini"</span>);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>注意：</strong>上面的代码中windows的斜线是\斜线，可能会转义掉一些字符。因此，我们写的时候写上两个斜线。</p>
</blockquote>
<p>&emsp;<br>&emsp;</p>
<h4 id="1-2-file-get-contents打开文件"><a href="#1-2-file-get-contents打开文件" class="headerlink" title="1.2 file_get_contents打开文件"></a><font color="#3CB371" face="Comic sans MS">1.2 file_get_contents打开文件</font></h4><font face="Comic sans MS">上面的是单纯打文件就直接输出了，有没有打开文件后，能够赋值给一个变量的操作方式呢。</font><br><font color="#00B2EE" face="Comic sans MS"><strong>string file_get_contents ( string filename)</strong></font>

<blockquote>
<font color="#FF7F00"><strong>功能：传入一个文件或文件路径，打开这个文件<font color="#00B2EE">返回</font>文件的内容。文件的内容是一个字符串。</strong></font>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">   <span class="variable">$filename</span> = <span class="string">'NoAlike.txt'</span>;</span><br><span class="line"></span><br><span class="line">   <span class="variable">$filestring</span> = file_get_contents(<span class="variable">$filename</span>);</span><br><span class="line">   <span class="built_in">echo</span> <span class="variable">$filestring</span>;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>上面的代码，就打开了一个文件，并且将文件当中的内容进行了输出。</p>
</blockquote>
<p>&emsp;<br>我们来针对之前的知识把代码进行一下扩展。用一用之前的知识点。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   <span class="comment">//假设我们有一个多行的文件叫NoAlike.txt，没有的话你可以新建一个这个文件</span></span><br><span class="line">    $filename = <span class="string">'NoAlike.txt'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">//打开这个文件，将文件内容赋值给$filestring</span></span><br><span class="line">   $filestring = file_get_contents($filename);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//因为每一行有一个回车即\n，我用\n来把这个字符串切割成数组</span></span><br><span class="line">   $filearray = explode(<span class="string">"\n"</span>, $filestring);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//把切割成的数组，下标赋值给$key,值赋值给$val，每次循环将$key加1。</span></span><br><span class="line">   <span class="keyword">while</span> (<span class="keyword">list</span>($key, $val) = each($filearray)) &#123;</span><br><span class="line">       ++$key;</span><br><span class="line">       $val = trim($val);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//用的单引号，单引号不解释变量进行了拼接而已</span></span><br><span class="line">       <span class="keyword">print</span> <span class="string">'Line'</span> . $key .<span class="string">':'</span>.  $val.<span class="string">'&lt;br /&gt;'</span>;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<font face="Comic sans MS">上述的<font color="#00B2EE">explode()、list()</font>两个字符串函数和<font color="#00B2EE">each()</font>数组函数。<br><font color="red"><strong>1. explode()函数：</strong></font><strong>把字符串打散为数组</strong>。</font><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_string_explode.asp" target="_blank" rel="noopener">PHP explode() 函数</a>]</font>&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/php_ref_string.asp" target="_blank" rel="noopener">PHP String 函数</a>]</font><br>语法：explode(separator,string,limit)<br><font color="red"></font>

<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">separator</td>
<td style="text-align:left">必需。规定在哪里分割字符串。</td>
</tr>
<tr>
<td style="text-align:center">string</td>
<td style="text-align:left">必需。要分割的字符串。</td>
</tr>
<tr>
<td style="text-align:center">limit</td>
<td style="text-align:left">可选。规定所返回的数组元素的数目。<br>可能的值：<br>大于 0 - 返回包含最多 limit 个元素的数组<br>小于 0 - 返回包含除了最后的 -limit 个元素以外的所有元素的数组<br>0 - 返回包含一个元素的数组</td>
</tr>
</tbody>
</table>
<p>&emsp;</p>
<font face="Comic sans MS"><font color="red"><strong>2. list()函数：</strong></font><strong>把数组中的值赋给一些变量,在一次操作中给一组变量赋值。</strong></font><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_array_list.asp" target="_blank" rel="noopener">PHP list() 函数</a>]</font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$my_array = <span class="keyword">array</span>(<span class="string">"Dog"</span>,<span class="string">"Cat"</span>,<span class="string">"Horse"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">list</span>($a, $b, $c) = $my_array;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"I have several animals, a $a, a $b and a $c."</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<font face="Comic sans MS"><font color="red"><strong>3. each()函数：</strong></font><strong>返回当前元素的键名和键值。该元素的键名和键值返回到带有四个元素的数组中。<br>两个元素（1 和 Value）包含键值，两个元素（0 和 Key）包含键名。</strong></font><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_array_each.asp" target="_blank" rel="noopener">PHP each() 函数</a>]</font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$people = <span class="keyword">array</span>(<span class="string">"Bill"</span>, <span class="string">"Steve"</span>, <span class="string">"Mark"</span>, <span class="string">"David"</span>);</span><br><span class="line">var_dump(each($people));</span><br><span class="line">var_dump(each($people));</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">运行结果：</span><br><span class="line">G:\WAMP\www\<span class="number">2</span><span class="number">-20</span><span class="number">-1.</span>php:<span class="number">3</span>:</span><br><span class="line"><span class="keyword">array</span> (size=<span class="number">4</span>)</span><br><span class="line">  <span class="number">1</span> =&gt; string <span class="string">'Bill'</span> (length=<span class="number">4</span>)</span><br><span class="line">  <span class="string">'value'</span> =&gt; string <span class="string">'Bill'</span> (length=<span class="number">4</span>)</span><br><span class="line">  <span class="number">0</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="string">'key'</span> =&gt; int <span class="number">0</span></span><br><span class="line">G:\WAMP\www\<span class="number">2</span><span class="number">-20</span><span class="number">-1.</span>php:<span class="number">4</span>:</span><br><span class="line"><span class="keyword">array</span> (size=<span class="number">4</span>)</span><br><span class="line">  <span class="number">1</span> =&gt; string <span class="string">'Steve'</span> (length=<span class="number">5</span>)</span><br><span class="line">  <span class="string">'value'</span> =&gt; string <span class="string">'Steve'</span> (length=<span class="number">5</span>)</span><br><span class="line">  <span class="number">0</span> =&gt; int <span class="number">1</span></span><br><span class="line">  <span class="string">'key'</span> =&gt; int <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>&emsp;<br>&emsp;</p>
<h4 id="1-3-fopen、fread、fclose操作读取文件"><a href="#1-3-fopen、fread、fclose操作读取文件" class="headerlink" title="1.3 fopen、fread、fclose操作读取文件"></a><font color="#3CB371" face="Comic sans MS">1.3 fopen、fread、fclose操作读取文件</font></h4><p>上面file_get_contents打开文件的方式简单、粗暴。下面的</p>
<font face="Comic sans MS"><font color="#00B2EE"><strong>resource fopen ( string $文件名, string 模式)<br>string fread ( resource $操作资源, int 读取长度)<br>bool fclose ( resource $操作资源 )</strong></font>

<p>通过上面的函数我们来讲解<strong>资源类型</strong>的通常操作方式：<br>1.打开资源<br>2.使用相关函数进行操作<br>3.关闭资源<br>&emsp;</p>
<font color="red"><strong>1. fopen函数：</strong></font><strong>打开文件，返回一个资源</strong><br>参数主要有两个：1.文件打开的路径，2.打开文件的模式<br>例：$fp=fopen(‘NoAlike.txt’, “r”);<br></font>

<blockquote>
<p><strong>返回类型是一个资源类型。<br>资源类型需要其他的函数来操作这个资源。</strong><font color="#FF7F00"><strong>所有的资源有打开就要有关闭。</strong></font></p>
</blockquote>
<font face="Comic sans MS"><font color="red"><strong>2. fread函数：</strong></font><strong>读取打开的文件资源。</strong><br>也包含两个参数，读取指定长度的文件资源，读取一部份向后移动一部份。至到文件结尾。<br>例：$contents = fread($fp, 1024);<br></font>

<p>&emsp;</p>
<font face="Comic sans MS"><font color="red"><strong>3. fclose函数：</strong></font><strong>fclose函数的功能是关闭资源。资源有打开就有关闭。</strong><br>包含一个参数，这个参数就是fopen()返回的资源。<br>例：fclose($fp);<br></font> 

<p>&emsp;    </p>
<font color="#FF7F00"><strong>fopen的模式</strong></font>有下面几个(。・∀・)ノ<br><font color="red"></font>

<table>
<thead>
<tr>
<th style="text-align:center">模式</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">r</td>
<td style="text-align:left">只读方式打开，将文件指针指向文件头。</td>
</tr>
<tr>
<td style="text-align:center">r+</td>
<td style="text-align:left">读写方式打开，将文件指针指向文件头。</td>
</tr>
<tr>
<td style="text-align:center">w</td>
<td style="text-align:left">写入方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建</td>
</tr>
<tr>
<td style="text-align:center">w+</td>
<td style="text-align:left">读写方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:left">写入方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建</td>
</tr>
<tr>
<td style="text-align:center">a+</td>
<td style="text-align:left">读写方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建之</td>
</tr>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:left">创建并以写入方式打开，将文件指针指向文件头。如果文件已存在，则 fopen() 调用失败并返回<br> FALSE，并生成一条 E_WARNING 级别的错误信息。如果文件不存在则尝试创建</td>
</tr>
<tr>
<td style="text-align:center">x+</td>
<td style="text-align:left">创建并以读写方式打开，将文件指针指向文件头。如果文件已存在，则 fopen() 调用失败并返回 <br>FALSE，并生成一条 E_WARNING 级别的错误信息。如果文件不存在则尝试创建</td>
</tr>
</tbody>
</table>
<p>&emsp;</p>
<font color="#00B2EE"><strong>r模式示例：</strong></font><br>1.打开文件：fopen()<br><font color="red"></font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   <span class="comment">//你可以创建一个NoAlike.txt，以只读模式打开</span></span><br><span class="line">   $fp = fopen(<span class="string">'NoAlike.txt'</span>, <span class="string">"r"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">//var_dump()操作一下$fp看看效果，输出的是不是只有类型提示的是resource</span></span><br><span class="line">   var_dump($fp);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;<br>2.读取文件：fread()</p>
<font color="red"></font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   $fp = fopen(<span class="string">'NoAlike.txt'</span>, <span class="string">"r"</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//打开一个文件类型后，读取长度</span></span><br><span class="line">   $contents = fread($fp, <span class="number">1024</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;<br>3.关闭文件：fclose()</p>
<font color="red"></font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   $fp = fopen($filename, <span class="string">'r'</span>);</span><br><span class="line">   $contents = fread($fp, <span class="number">1024</span>);</span><br><span class="line">   fclose($fp);</span><br><span class="line">   <span class="keyword">echo</span> $contents;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;<br><strong>其他注意事项：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">模式</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">t</td>
<td style="text-align:left">windows下将\n转为\r\n</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td style="text-align:left">二进制打开模式</td>
</tr>
</tbody>
</table>
<blockquote>
<p><font color="#FF7F00"><strong>说明：</strong></font><br>Windows 下提供了一个文本转换标记（’t’）可以透明地将 \n 转换为 \r\n。<br>与此对应还可以使用 ‘b’ 来强制使用二进制模式，这样就不会转换数据。要使用这些标记，要么用 ‘b’ 或者用 ‘t’ 作为 mode 参数的最后一个字符。</p>
</blockquote>
<p>&emsp;<br>&emsp;</p>
<h3 id="二-创建和修改文件内容"><a href="#二-创建和修改文件内容" class="headerlink" title="二. 创建和修改文件内容"></a><font color="#FF6347" face="Comic sans MS">二. 创建和修改文件内容</font></h3><h4 id="2-1-file-put-contents写入文件"><a href="#2-1-file-put-contents写入文件" class="headerlink" title="2.1 file_put_contents写入文件"></a><font color="#3CB371" face="Comic sans MS">2.1 file_put_contents写入文件</font></h4><font face="Comic sans MS"><font color="#00B2EE"><strong>int file_put_contents ( string $文件路径, string $写入数据])</strong></font><br></font>

<blockquote>
<p><strong>功能：向指定的文件当中写入一个字符串，如果文件不存在则创建文件。返回的是写入的字节长度</strong></p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   $data = <span class="string">"在PHP中文网学好PHP，妹子票子不再话下！"</span>;</span><br><span class="line"></span><br><span class="line">   $numbytes = file_put_contents(<span class="string">'bin.txt'</span>, $data);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>($numbytes)&#123;</span><br><span class="line">      <span class="comment">//$numbytes接收到整形的数字</span></span><br><span class="line">       <span class="keyword">echo</span> <span class="string">'写入成功，我们读取看看结果试试：'</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">echo</span> file_get_contents(<span class="string">'bin.txt'</span>);</span><br><span class="line"></span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">'写入失败或者没有权限，注意检查'</span>;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<h4 id="2-2-fwrite配合fopen进行写入操作、fopen-打开模式的比较"><a href="#2-2-fwrite配合fopen进行写入操作、fopen-打开模式的比较" class="headerlink" title="2.2 fwrite配合fopen进行写入操作、fopen()打开模式的比较"></a><font color="#3CB371" face="Comic sans MS">2.2 fwrite配合fopen进行写入操作、fopen()打开模式的比较</font></h4><font face="Comic sans MS"><font color="#00B2EE"><strong>int fwrite ( resource $文件资源变量, string $写入的字符串 [, int 长度])</strong></font><br>注：fwrite的别名函数是fputs<br><br><font color="red"><strong>1. fopen()的w模式：</strong></font>写入方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建。每一次写入新的数据时，都会将原来的数据清空之后才写入！<br></font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   $filename = <span class="string">'test.txt'</span>;</span><br><span class="line">   $fp= fopen($filename, <span class="string">"w"</span>);</span><br><span class="line">   $len = fwrite($fp, <span class="string">'我是一只来自北方的狼，却在南方冻成了狗'</span>);</span><br><span class="line">   fclose($fp);</span><br><span class="line">   <span class="keyword">print</span> $len .<span class="string">'字节被写入了\n'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><font color="#FF7F00"><strong>总结：</strong></font><br><strong>1. 不论有没有新建都会打开文件重新写入<br>2.原有的文件内容会被覆盖掉<br>3.文件不存在会创建</strong></p>
</blockquote>
<p>那我们来对比一下以下几个模式的不同：</p>
<table>
<thead>
<tr>
<th style="text-align:center">模式</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">r</td>
<td style="text-align:left">只能读不能使用fwrite写</td>
</tr>
<tr>
<td style="text-align:center">r+</td>
<td style="text-align:left">可操作读、写(可使用fwrite写入)</td>
</tr>
<tr>
<td style="text-align:center">w</td>
<td style="text-align:left">只可以写功能</td>
</tr>
<tr>
<td style="text-align:center">w+</td>
<td style="text-align:left">即可读又可以写</td>
</tr>
</tbody>
</table>
<p>&emsp;</p>
<h4 id="2-3-a模式和w模式、x模式和w模式的不同"><a href="#2-3-a模式和w模式、x模式和w模式的不同" class="headerlink" title="2.3 a模式和w模式、x模式和w模式的不同"></a><font color="#3CB371" face="Comic sans MS">2.3 a模式和w模式、x模式和w模式的不同</font></h4><font color="#FF7F00"><strong>1. a模式和w模式总结：</strong></font>

<table>
<thead>
<tr>
<th style="text-align:center">模式</th>
<th style="text-align:left">总结</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:left">每次写入会干掉原有文件的内容，文件不存在都会创建</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:left">每次写入都会向文件的尾端追加内容</td>
</tr>
</tbody>
</table>
<p>&emsp;</p>
<font color="#FF7F00"><strong>2. x模式和w模式总结：</strong></font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   $filename = <span class="string">'test.txt'</span>;</span><br><span class="line">   $fp= fopen($filename, <span class="string">"x"</span>);</span><br><span class="line">   $len = fwrite($fp,<span class="string">'读大学迷茫了，PHP中文网学PHP给你希望'</span>);</span><br><span class="line">   <span class="keyword">echo</span>  $len .<span class="string">'字节被写入了\n'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>总结：</strong><br>   1.文件存在的时候会报错<br>   2.如果把$filename 改成其他的文件名,就可以了。但是，再次刷新的时候又报错了<br>   3.x+ 是增强的x模式。读取时也可以使用。</p>
</blockquote>
<p>&emsp;<br>&emsp;</p>
<h3 id="三-创建临时文件"><a href="#三-创建临时文件" class="headerlink" title="三. 创建临时文件"></a><font color="#FF6347" face="Comic sans MS">三. 创建临时文件</font></h3><p>使用这个函数：<font color="#00B2EE"><strong>resource tmpfile ( )</strong></font></p>
<blockquote>
<p><strong>功能：创建一个临时文件，返回资源类型。关闭文件即被删除。</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">   //创建了一个临时文件,创建后并且打开这个文件	</span><br><span class="line">   <span class="variable">$handle</span> = tmpfile();</span><br><span class="line"></span><br><span class="line">   //向里面写入了数据</span><br><span class="line">   <span class="variable">$numbytes</span> = fwrite(<span class="variable">$handle</span>, <span class="string">'写入临时文件'</span>);</span><br><span class="line"></span><br><span class="line">   //关闭临时文件，文件即被删除</span><br><span class="line">   fclose(<span class="variable">$handle</span>);</span><br><span class="line"></span><br><span class="line">   <span class="built_in">echo</span>  <span class="string">'向临时文件中写入了'</span>.<span class="variable">$numbytes</span> . <span class="string">'个字节'</span>;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>&emsp;<br>&emsp;</p>
<h3 id="四-移动、拷贝和删除文件"><a href="#四-移动、拷贝和删除文件" class="headerlink" title="四. 移动、拷贝和删除文件"></a><font color="#FF6347" face="Comic sans MS">四. 移动、拷贝和删除文件</font></h3><h4 id="4-1-重命名文件"><a href="#4-1-重命名文件" class="headerlink" title="4.1 重命名文件"></a><font color="#3CB371" face="Comic sans MS">4.1 重命名文件</font></h4><font face="Comic sans MS"><strong>bool</strong> <font color="#00B2EE"><strong>rename(oldname,newname,context)</strong></font>;<br></font>

<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">oldname</td>
<td style="text-align:left">必需。规定要重命名的<strong>文件</strong>或<strong>目录(文件夹)</strong>。</td>
</tr>
<tr>
<td style="text-align:center">newname</td>
<td style="text-align:left">必需。规定文件或目录的新名称。</td>
</tr>
<tr>
<td style="text-align:center">context</td>
<td style="text-align:left">可选。规定文件句柄的环境。context 是可修改流的行为的一套选项。</td>
</tr>
</tbody>
</table>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   <span class="comment">//旧文件名</span></span><br><span class="line">   $filename = <span class="string">'test.php.old'</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//新文件名</span></span><br><span class="line">   $filename2 = <span class="string">'test.php'</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//复制文件</span></span><br><span class="line">   rename($filename, $filename2);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<h4 id="4-2-复制文件"><a href="#4-2-复制文件" class="headerlink" title="4.2 复制文件"></a><font color="#3CB371" face="Comic sans MS">4.2 复制文件</font></h4><font face="Comic sans MS"><strong>bool</strong> <font color="#00B2EE"><strong>copy(源文件,目标文件)</strong></font>;<br></font> 

<blockquote>
<p><strong>功能：将指定路径的源文件，复制一份到目标文件的位置。如果复制到当前目录下，则必须重新改一个名字，其他目录下的话也要在目的路径下加上文件名，不管改不改名字。</strong></p>
</blockquote>
<p>copy(source,destination):</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">source</td>
<td style="text-align:left">必需。规定要复制的文件。</td>
</tr>
<tr>
<td style="text-align:center">destination</td>
<td style="text-align:left">必需。规定复制文件的目的地。</td>
</tr>
</tbody>
</table>
<p>(1)创建文件并复制到当前文件夹下面<font color="#FF7F00">↓↓</font></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="comment">//创建文件</span></span><br><span class="line">   $fi = fopen(<span class="string">'copy.txt'</span>,<span class="string">"w"</span>);  </span><br><span class="line">   $a=fwrite($fi,<span class="string">""</span>);</span><br><span class="line">   <span class="comment">//旧文件名 </span></span><br><span class="line">   $filename = <span class="string">'copy.txt'</span>;  </span><br><span class="line">   <span class="comment">//新文件名   </span></span><br><span class="line">   $filename2 = $filename . <span class="string">'_new.txt'</span>;  </span><br><span class="line"></span><br><span class="line">   <span class="comment">//修改名字。</span></span><br><span class="line">   copy($filename, $filename2);</span><br><span class="line">   fclose($fi);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>(2)创建文件并复制到其他文件夹下面<font color="#FF7F00">↓↓</font></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="comment">//创建文件</span></span><br><span class="line">   $fi = fopen(<span class="string">'copy.txt'</span>,<span class="string">"w"</span>);  </span><br><span class="line">   $a=fwrite($fi,<span class="string">""</span>);</span><br><span class="line">   <span class="comment">//旧文件名 </span></span><br><span class="line">   $filename = <span class="string">'copy.txt'</span>;  </span><br><span class="line">   <span class="comment">//新文件名   </span></span><br><span class="line">   $filename2 = <span class="string">"./01/copy.txt"</span>;  </span><br><span class="line"></span><br><span class="line">   <span class="comment">//修改名字。</span></span><br><span class="line">   copy($filename, $filename2);</span><br><span class="line">   fclose($fi);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<h4 id="4-3-删除文件"><a href="#4-3-删除文件" class="headerlink" title="4.3 删除文件"></a><font color="#3CB371" face="Comic sans MS">4.3 删除文件</font></h4><font face="Comic sans MS"><strong>bool</strong> <font color="#00B2EE"><strong>unlink(指定路径的文件)</strong></font>;<br></font> 

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   $filename = <span class="string">'test.txt'</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (unlink($filename)) &#123;</span><br><span class="line">       <span class="keyword">echo</span>  <span class="string">"删除文件成功 $filename!\n"</span>;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="keyword">echo</span> <span class="string">"删除 $filename 失败!\n"</span>;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;<br>&emsp;</p>
<h3 id="五-检测文件属性函数"><a href="#五-检测文件属性函数" class="headerlink" title="五. 检测文件属性函数"></a><font color="#FF6347" face="Comic sans MS">五. 检测文件属性函数</font></h3><table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"> bool file_exists ( $指定文件名或者文件路径)</td>
<td style="text-align:left">文件是否存在    </td>
</tr>
<tr>
<td style="text-align:left"> bool is_readable ( $指定文件名或者文件路径)</td>
<td style="text-align:left">文件是否可读</td>
</tr>
<tr>
<td style="text-align:left"> bool is_writeable ( $指定文件名或者文件路径)</td>
<td style="text-align:left">文件是否可写</td>
</tr>
<tr>
<td style="text-align:left"> bool is_executable ( $指定文件名或者文件路径)</td>
<td style="text-align:left">文件是否可执行</td>
</tr>
<tr>
<td style="text-align:left"> bool is_file ( $指定文件名或者文件路径)</td>
<td style="text-align:left">是否是文件</td>
</tr>
<tr>
<td style="text-align:left"> bool is_dir ( $指定文件名或者文件路径)</td>
<td style="text-align:left">是否是目录</td>
</tr>
<tr>
<td style="text-align:left"> void clearstatcache ( void )</td>
<td style="text-align:left">清楚文件的状态缓存</td>
</tr>
</tbody>
</table>
<p>&emsp;</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  $g=file_exists(<span class="string">"install.txt"</span>);</span><br><span class="line">  <span class="keyword">echo</span> $g;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">if</span>(file_exists(<span class="string">'install.txt'</span>))&#123;</span><br><span class="line">   <span class="keyword">echo</span> <span class="string">'已安装，请不要再次进行安装'</span>;</span><br><span class="line">   <span class="keyword">exit</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">	<span class="keyword">echo</span> <span class="number">5462564</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">运行结果：<span class="number">1</span> 已安装，请不要再次进行安装</span><br></pre></td></tr></table></figure>
<p>&emsp;<br>&emsp;</p>
<h3 id="六-文件常用函数和常量"><a href="#六-文件常用函数和常量" class="headerlink" title="六. 文件常用函数和常量"></a><font color="#FF6347" face="Comic sans MS">六. 文件常用函数和常量</font></h3><h4 id="6-1-目录分割符常量"><a href="#6-1-目录分割符常量" class="headerlink" title="6.1 目录分割符常量"></a><font color="#3CB371" face="Comic sans MS">6.1 目录分割符常量</font></h4><table>
<thead>
<tr>
<th style="text-align:center">平台</th>
<th style="text-align:left">分割符</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">windows</td>
<td style="text-align:left">\ 或者 /</td>
</tr>
<tr>
<td style="text-align:center">类unix</td>
<td style="text-align:left">/</td>
</tr>
</tbody>
</table>
<blockquote>
<ol>
<li>windows 的路径格式为 d:\xxx\xxx 注意：windows支持 d:/xxx/xxx</li>
<li>linux 的路径格式为 /home/xxx/xxx 注意：如果\home\xxx\xxx 在linux上是<strong>错误</strong>的</li>
<li>所以当开启转义之类的话，转义字符 \ 用一起的话 d:\xxx\xxx 是一样的。判断时候有两个 \ 有的话 再转成一个\ 再把 \ 替换成 /当路径分割，这样在linux上或者windos上的路径就能保持统一了。</li>
</ol>
</blockquote>
<p>&emsp;</p>
<h4 id="6-2-DIRECTORY-SEPARATOR常量"><a href="#6-2-DIRECTORY-SEPARATOR常量" class="headerlink" title="6.2 DIRECTORY_SEPARATOR常量"></a><font color="#3CB371" face="Comic sans MS">6.2 DIRECTORY_SEPARATOR常量</font></h4><font face="Comic sans MS">在 Windows 中，斜线（/）和反斜线（\）都可以用作目录分隔符，在linux上路径的分隔符是/，这就导致了一个问题，比如开发机器是windows，有一个图片上传程序，，而我们又使用了(\)作为文件分隔符，调试机器上指定的上传文件保存目录是：<br>define(‘ROOT’,dirname(__FILE__).”\upload”)，在本地调试都很正常，但是上传到linux服务器的时候会发现会出错。<br>这个问题就是出在文件的分隔符上，windows上习惯性的使用\作为文件分隔符，但是在linux上人家是不认识这个标识的，人家只认识/，于是就要引入下面这个php内置变量了：<font color="#00B2EE"><strong>DIRECTORY_SEPARATOR</strong></font>。<br><br>上面的写法可以改写为以下无错写法：<br>define(‘ROOT’,dirname(__FILE__).DIRECTORY_SEPARATOR.”upload”);<br>这样就可以确保不会出错了。<br></font>

<blockquote>
<p><font color="#FF7F00"><strong>总结：</strong></font><br>DIRECTORY_SEPARATOR是一个<font color="#FF7F00"><strong>返回跟操作系统相关的路径分隔符</strong></font>的php内置命令，在windows上返回\，而在linux或者类unix上返回/，就是这么个区别，通常在定义包含文件路径或者上传保存目录的时候会用到。</p>
</blockquote>
<p>&emsp;</p>
<h4 id="6-3-文件指针操作函数"><a href="#6-3-文件指针操作函数" class="headerlink" title="6.3 文件指针操作函数"></a><font color="#3CB371" face="Comic sans MS">6.3 文件指针操作函数</font></h4><font color="#00B2EE"><strong>rewind ( resource handle)</strong></font>

<blockquote>
<p><strong>功能：指针回到开始处</strong></p>
</blockquote>
<font color="#00B2EE"><strong>fseek ( resource handle, int offset [, int from_where])</strong></font>

<blockquote>
<p><strong>功能：文件指针向后移动指定字符</strong></p>
</blockquote>
<p><strong>注意：</strong>我们在之前的读取当中我们发现fread读取指定长度的数据。读取指定长度的内容，下次再读取的时候<strong>从原位置开始再接着向后读取</strong>。</p>
<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_fseek.asp" target="_blank" rel="noopener">PHP fseek() 函数</a>]</font>

<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">file</td>
<td style="text-align:left">必需。规定要在其中定位的文件。</td>
</tr>
<tr>
<td style="text-align:center">offset</td>
<td style="text-align:left">必需。<strong>规定新的位置</strong>（从文件头开始以字节数度量）。</td>
</tr>
<tr>
<td style="text-align:center">whence</td>
<td style="text-align:left">可选。<br>可能的值：<br>SEEK_SET - 设定位置等于 offset 字节。默认。<br>SEEK_CUR - 设定位置为当前位置加上 offset。<br>SEEK_END - 设定位置为文件末尾加上 offset （要移动到文件尾之前的位置，offset 必须是一个<br>负值）。</td>
</tr>
</tbody>
</table>
<p>&emsp;</p>
<h4 id="6-4-filesize-检测文件的大小"><a href="#6-4-filesize-检测文件的大小" class="headerlink" title="6.4 filesize 检测文件的大小"></a><font color="#3CB371" face="Comic sans MS">6.4 filesize 检测文件的大小</font></h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$filename = <span class="string">'demo.txt'</span>;</span><br><span class="line"><span class="keyword">echo</span> $filename . <span class="string">'文件大小为: '</span> . filesize($filename) . <span class="string">' bytes'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;<br>还有一些其他操作文件的函数，读取文件：</p>
<table>
<thead>
<tr>
<th style="text-align:center">函数名</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">file</td>
<td style="text-align:left">把整个文件读入一个数组中</td>
</tr>
<tr>
<td style="text-align:center">fgets</td>
<td style="text-align:left">从文件指针中读取一行,读到最后返回false</td>
</tr>
<tr>
<td style="text-align:center">fgetc</td>
<td style="text-align:left">从文件指针中读取一个字符，读到最后返回false</td>
</tr>
<tr>
<td style="text-align:center">ftruncate</td>
<td style="text-align:left">将文件截断到给定的长度</td>
</tr>
</tbody>
</table>
<p>&emsp;</p>
<h4 id="6-5-文件的时间函数"><a href="#6-5-文件的时间函数" class="headerlink" title="6.5 文件的时间函数"></a><font color="#3CB371" face="Comic sans MS">6.5 文件的时间函数</font></h4><table>
<thead>
<tr>
<th style="text-align:center">函数名</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">filectime</td>
<td style="text-align:left">文件创建时间</td>
</tr>
<tr>
<td style="text-align:center">filemtime</td>
<td style="text-align:left">文件修改时间</td>
</tr>
<tr>
<td style="text-align:center">fileatime</td>
<td style="text-align:left">文件上次访问时间</td>
</tr>
</tbody>
</table>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$filename = <span class="string">'demo.txt'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (file_exists($filename)) &#123;</span><br><span class="line">   <span class="keyword">echo</span> <span class="string">'$filename文件的上次访问时间是:'</span>  . date(<span class="string">"Y-m-d H:i:s"</span>, fileatime($filename));</span><br><span class="line">   <span class="keyword">echo</span> <span class="string">'$filename文件的创建时间是: '</span> . date(<span class="string">"Y-m-d H:i:s"</span>, filectime($filename));</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'$filename文件的修改时间是: '</span> . date(<span class="string">"Y-m-d H:i:s"</span>, filemtime($filename));&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">```			</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&amp;emsp;</span><br><span class="line">&amp;emsp;</span><br><span class="line"><span class="comment">### &lt;font color="#FF6347" face="Comic sans MS"&gt;七. 文件锁处理机制&lt;/font&gt;</span></span><br><span class="line"></span><br><span class="line">&gt;**文件锁的用途：**</span><br><span class="line">若一个人在写入一个文件，另外一个人同时也打个了这个文件进行写入文件。</span><br><span class="line">这情况下，如果遇到一定的碰撞概率的话，不知道到底谁的操作为准。</span><br><span class="line">因此，这个时候我们引入锁机制。</span><br><span class="line">若用户A在写入或者读取这个文件的时候，将文件加上共享所。我可以读，其他人也可以读。</span><br><span class="line">但是，我如果这与的时候。我使用独占锁。这个文件归我了，你们都别动，除非我将文件锁进行释放。</span><br><span class="line"></span><br><span class="line">&lt;font color=<span class="string">"#FF7F00"</span>&gt;**注意：不论加上了文件锁后要注意释放。**&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">**bool** &lt;font color=<span class="string">"#00B2EE"</span>&gt;**flock(file,lock,block)**&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">参数	|描述|</span><br><span class="line">:-:|:-|	</span><br><span class="line">file	|必需。规定要锁定或释放的已打开的文件。</span><br><span class="line">lock	|必需。规定要使用哪种锁定类型。&lt;br&gt;lock 参数可以是以下值之一：&lt;br&gt;要取得共享锁定（读取的程序），将 lock 设为 LOCK_SH（PHP <span class="number">4.0</span><span class="number">.1</span> 以前的版本设置为 <span class="number">1</span>）&lt;br&gt;要取得独占锁定（写入的程序），将 lock 设为 LOCK_EX（PHP <span class="number">4.0</span><span class="number">.1</span> 以前的版本中设置为 <span class="number">2</span>）&lt;br&gt;要释放锁定（无论共享或独占），将 lock 设为 LOCK_UN（PHP <span class="number">4.0</span><span class="number">.1</span> 以前的版本中设置为 <span class="number">3</span>）&lt;br&gt;如果不希望 flock() 在锁定时堵塞，则给 lock 加上 LOCK_NB(PHP <span class="number">4.0</span><span class="number">.1</span> 以前的版本中设置为 <span class="number">4</span>)</span><br><span class="line">block	|可选。若设置为 <span class="number">1</span> 或 <span class="keyword">true</span>，则当进行锁定时阻挡其他进程。</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line"></span><br><span class="line">```php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$fp = fopen(<span class="string">"demo.txt"</span>, <span class="string">"r+"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 进行排它型锁定</span></span><br><span class="line"><span class="keyword">if</span> (flock($fp, LOCK_EX)) &#123; </span><br><span class="line"></span><br><span class="line">   fwrite($fp, <span class="string">"文件这个时候被我独占了哟\n"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 释放锁定</span></span><br><span class="line">   flock($fp, LOCK_UN);    </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   <span class="keyword">echo</span> <span class="string">"锁失败，可能有人在操作，这个时候不能将文件上锁"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fclose($fp);</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>说明：</strong></p>
<ol>
<li>上例中我为了写入文件，把文件加上了独占锁。</li>
<li>如果我操作完成，写入完成后，解除掉了独占锁。</li>
</ol>
</blockquote>
<p>&emsp;<br>&emsp;</p>
<h3 id="八-目录-文件夹-处理函数"><a href="#八-目录-文件夹-处理函数" class="headerlink" title="八. 目录(文件夹)处理函数"></a><font color="#FF6347" face="Comic sans MS">八. 目录(文件夹)处理函数</font></h3><blockquote>
<p><font color="#FF7F00"><strong>处理文件夹的基本思想如下：</strong></font></p>
<ol>
<li>读取某个路径的时候判断是否是文件夹</li>
<li>是文件夹的话，打开指定文件夹，返回文件目录的资源变量</li>
<li>使用readdir读取一次目录中的文件，目录指针向后偏移一次</li>
<li>使用readdir读取到最后，没有可读的文件返回false</li>
<li>关闭文件目录</li>
</ol>
</blockquote>
<p>&emsp;<br>常用函数：</p>
<table>
<thead>
<tr>
<th style="text-align:center">函数名</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">opendir()</td>
<td style="text-align:left">打开文件夹，返回操作资源 &emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_directory_opendir.asp" target="_blank" rel="noopener">PHP opendir() 函数</a>]</font></td>
</tr>
<tr>
<td style="text-align:center">readdir()</td>
<td style="text-align:left">读取文件夹资源,返回目录中下一个文件的文件名。 &emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_directory_readdir.asp" target="_blank" rel="noopener">PHP readdir() 函数</a>]</font></td>
</tr>
<tr>
<td style="text-align:center">is_dir()</td>
<td style="text-align:left">判断是否是文件夹  &emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_is_dir.asp" target="_blank" rel="noopener">PHP is_dir() 函数</a>]</font></td>
</tr>
<tr>
<td style="text-align:center">closedir()</td>
<td style="text-align:left">关闭文件夹操作资源  &emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_directory_closedir.asp" target="_blank" rel="noopener">PHP is_dir() 函数</a>]</font></td>
</tr>
<tr>
<td style="text-align:center">filetype()</td>
<td style="text-align:left">显示是文件夹还是文件，文件显示file，文件夹显示dir <br>可能的类型：（fifo、char、dir、block、link、file、unknown）&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_filetype.asp" target="_blank" rel="noopener">PHP is_dir() 函数</a>]</font></td>
</tr>
</tbody>
</table>
<p>&emsp;<br>&emsp;</p>
<h3 id="九-文件权限设置"><a href="#九-文件权限设置" class="headerlink" title="九. 文件权限设置"></a><font color="#FF6347" face="Comic sans MS">九. 文件权限设置</font></h3><ol>
<li><p><strong>文件权限设置的函数</strong>在系统管理级别的软件中很常用。<br>例如：某个文件不准许guest组（来宾用户）查看。</p>
</li>
<li><p>在企业管理中，某些用户或者某些用户文件只准读取不准修改。这都是非常常用的功能。</p>
</li>
<li><p>注：windows下面有些功能无法实现。</p>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">函数名</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">chmod</td>
<td style="text-align:left">修改读取模式</td>
</tr>
<tr>
<td style="text-align:center">chgrp</td>
<td style="text-align:left">修改用户组</td>
</tr>
<tr>
<td style="text-align:center">chown</td>
<td style="text-align:left">修改权限</td>
</tr>
</tbody>
</table>
<blockquote>
<p>上面的函数用法与linux的权限操作的用法一样。</p>
</blockquote>
<p>&emsp;<br>chmod 主要是修改文件的的权限</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//修改linux  系统/var/wwwroot/某文件权限为755</span></span><br><span class="line">chmod(<span class="string">"/var/wwwroot/index.html"</span>, <span class="number">755</span>);  </span><br><span class="line">chmod(<span class="string">"/var/wwwroot/index.html"</span>, <span class="string">"u+rwx,go+rx"</span>); </span><br><span class="line">chmod(<span class="string">"/somedir/somefile"</span>, <span class="number">0755</span>); </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;<br>&emsp;</p>
<h3 id="十-文件路径函数"><a href="#十-文件路径函数" class="headerlink" title="十. 文件路径函数"></a><font color="#FF6347" face="Comic sans MS">十. 文件路径函数</font></h3><blockquote>
<p><font color="#FF7F00"><strong>我们经常会遇到处理文件路径的情况。</strong></font></p>
<ol>
<li>文件后缀需要取出来</li>
<li>路径需要取出名字不取目录</li>
<li>只需要取出路径名中的目录路径</li>
<li>或者把网址中的各个部份进行解析取得独立值</li>
<li>甚至是自己组成一个url出来<br>……</li>
</ol>
</blockquote>
<p>&emsp;<br>常用路径处理函数：</p>
<table>
<thead>
<tr>
<th style="text-align:center">函数名</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">pathinfo()</td>
<td style="text-align:left">返回文件的各个组成部份</td>
</tr>
<tr>
<td style="text-align:center">basename()</td>
<td style="text-align:left">返回文件名</td>
</tr>
<tr>
<td style="text-align:center">dirname()</td>
<td style="text-align:left">文件目录部份</td>
</tr>
<tr>
<td style="text-align:center">parse_url()</td>
<td style="text-align:left">网址拆解成各部份</td>
</tr>
<tr>
<td style="text-align:center">http_build_query()</td>
<td style="text-align:left">生成url 中的query字符串</td>
</tr>
<tr>
<td style="text-align:center">http_build_url()</td>
<td style="text-align:left">生成一个url</td>
</tr>
</tbody>
</table>
<p>&emsp;</p>
<h4 id="10-1-pathinfo-函数"><a href="#10-1-pathinfo-函数" class="headerlink" title="10.1 pathinfo()函数"></a><font color="#3CB371" face="Comic sans MS">10.1 pathinfo()函数</font></h4><blockquote>
<font color="#FF7F00"><strong>功能：以关联数组的形式返回文件路径的信息</strong></font>
</blockquote>
<font color="#00B2EE"><strong>pathinfo(path,options)</strong></font>

<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">path</td>
<td style="text-align:left">必需。规定要检查的路径。&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_pathinfo.asp" target="_blank" rel="noopener">PHP pathinfo() 函数</a>]</font></td>
</tr>
<tr>
<td style="text-align:center">process_sections</td>
<td style="text-align:left">可选。规定要返回的数组元素。默认是 all。<br>可能的值：<br>PATHINFO_DIRNAME - 只返回 dirname<br>PATHINFO_BASENAME - 只返回 basename<br>PATHINFO_EXTENSION - 只返回 extension</td>
</tr>
</tbody>
</table>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$path_parts = pathinfo(<span class="string">'d:/www/index.inc.php'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'文件目录名：'</span>.$path_parts[<span class="string">'dirname'</span>].<span class="string">"&lt;br /&gt;"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'文件全名：'</span>.$path_parts[<span class="string">'basename'</span>].<span class="string">"&lt;br /&gt;"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'文件扩展名：'</span>.$path_parts[<span class="string">'extension'</span>].<span class="string">"&lt;br /&gt;"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'不包含扩展的文件名：'</span>.$path_parts[<span class="string">'filename'</span>].<span class="string">"&lt;br /&gt;"</span>; </span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">结果如下：</span><br><span class="line">文件目录名：d:/www</span><br><span class="line">文件全名：lib.inc.php</span><br><span class="line">文件扩展名：php</span><br><span class="line">不包含扩展的文件名：lib.inc</span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<h4 id="10-2-basename-函数"><a href="#10-2-basename-函数" class="headerlink" title="10.2 basename()函数"></a><font color="#3CB371" face="Comic sans MS">10.2 basename()函数</font></h4><blockquote>
<font color="#FF7F00"><strong>功能：返回路径中不带有文件扩展名的文件名</strong></font>
</blockquote>
<font color="#00B2EE"><strong>basename(path[,suffix])</strong></font>

<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">path</td>
<td style="text-align:left">必需。规定要检查的路径。&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_basename.asp" target="_blank" rel="noopener">PHP basename() 函数</a>]</font></td>
</tr>
<tr>
<td style="text-align:center">suffix</td>
<td style="text-align:left">可选。指定文件名到了指定字符停止。</td>
</tr>
</tbody>
</table>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"1: "</span>.basename(<span class="string">"d:/www/index.d"</span>, <span class="string">".d"</span>).PHP_EOL;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"2: "</span>.basename(<span class="string">"d:/www/index.php"</span>).PHP_EOL;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"3: "</span>.basename(<span class="string">"d:/www/passwd"</span>).PHP_EOL;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">执行结果如下</span><br><span class="line"><span class="number">1</span>: index</span><br><span class="line"><span class="number">2</span>: index.php</span><br><span class="line"><span class="number">3</span>: passwd</span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<h4 id="10-3-dirname-函数"><a href="#10-3-dirname-函数" class="headerlink" title="10.3 dirname()函数"></a><font color="#3CB371" face="Comic sans MS">10.3 dirname()函数</font></h4><blockquote>
<font color="#FF7F00"><strong>功能：返回文件路径的文件目录部份,不包含文件名。</strong></font>
</blockquote>
<font color="#00B2EE"><strong>dirname(path)</strong></font>

<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">path</td>
<td style="text-align:left">必需。规定要检查的路径。&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_dirname.asp" target="_blank" rel="noopener">PHP dirname() 函数</a>]</font></td>
</tr>
</tbody>
</table>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> dirname(<span class="keyword">__FILE__</span>); </span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">执行结果如下</span><br><span class="line">G:\WAMP\www</span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<h4 id="10-4-parse-url-函数"><a href="#10-4-parse-url-函数" class="headerlink" title="10.4 parse_url()函数"></a><font color="#3CB371" face="Comic sans MS">10.4 parse_url()函数</font></h4><blockquote>
<font color="#FF7F00"><strong>功能：将网址拆解成各个部份，返回一个数组</strong></font>
</blockquote>
<font color="#00B2EE"><strong>mixed parse_url ( string $路径 )</strong></font>


<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$url = <span class="string">'http://username:password@hostname:9090/path?arg=value#anchor'</span>;</span><br><span class="line"></span><br><span class="line">var_dump(parse_url($url));</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">结果如下：</span><br><span class="line"><span class="keyword">array</span>(<span class="number">8</span>) &#123;</span><br><span class="line">[<span class="string">"scheme"</span>]=&gt; string(<span class="number">4</span>) <span class="string">"http"</span></span><br><span class="line">[<span class="string">"host"</span>]=&gt; string(<span class="number">8</span>) <span class="string">"hostname"</span></span><br><span class="line">[<span class="string">"port"</span>]=&gt; int(<span class="number">9090</span>)</span><br><span class="line">[<span class="string">"user"</span>]=&gt; string(<span class="number">8</span>) <span class="string">"username"</span></span><br><span class="line">[<span class="string">"pass"</span>]=&gt; string(<span class="number">8</span>) <span class="string">"password"</span></span><br><span class="line">[<span class="string">"path"</span>]=&gt; string(<span class="number">5</span>) <span class="string">"/path"</span></span><br><span class="line">[<span class="string">"query"</span>]=&gt; string(<span class="number">9</span>) <span class="string">"arg=value"</span></span><br><span class="line">[<span class="string">"fragment"</span>]=&gt; string(<span class="number">6</span>) <span class="string">"anchor"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<h4 id="10-5-http-build-query-函数"><a href="#10-5-http-build-query-函数" class="headerlink" title="10.5 http_build_query()函数"></a><font color="#3CB371" face="Comic sans MS">10.5 http_build_query()函数</font></h4><blockquote>
<font color="#FF7F00"><strong>功能：生成url 中的query字符串</strong></font>
</blockquote>
<font color="#00B2EE"><strong>string http_build_query ( mixed $需要处理的数据)</strong></font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//定义一个关联数组</span></span><br><span class="line">$data = [</span><br><span class="line">       <span class="string">'username'</span>=&gt;<span class="string">'php'</span>,</span><br><span class="line">       <span class="string">'area'</span>=&gt;<span class="string">'hubei'</span></span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line"><span class="comment">//生成query内容</span></span><br><span class="line"><span class="keyword">echo</span> http_build_query($data);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">结果如下：</span><br><span class="line">username=php&amp;area=hubei</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>注：</strong>PHP_EOL 常量<br>在 windows平台相当于 echo “\r\n”;<br>在unix\linux平台相当于 echo “\n”;<br>在mac平台相当于 echo “\r”;</p>
</blockquote>
<p>&emsp;<br>&emsp;</p>
<h3 id="十一-文件系统实例案例"><a href="#十一-文件系统实例案例" class="headerlink" title="十一. 文件系统实例案例"></a><font color="#FF6347" face="Comic sans MS">十一. 文件系统实例案例</font></h3><h4 id="11-1-文件留言本"><a href="#11-1-文件留言本" class="headerlink" title="11.1 文件留言本"></a><font color="#3CB371" face="Comic sans MS">11.1 文件留言本</font></h4><p>先来说两个下面用到的两个字符串函数和一个数组函数：</p>
<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_string_trim.asp" target="_blank" rel="noopener"><strong>trim()函数</strong></a>]</font>：<strong>移除字符串两侧的空白字符或其他预定义字符。</strong><br><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_string_explode.asp" target="_blank" rel="noopener"><strong>explode()函数</strong></a>]</font><strong>：把字符串打散为数组。</strong><br><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_array_each.asp" target="_blank" rel="noopener"><strong>each()函数</strong></a>]</font><strong>：返回当前元素的键名和键值。该元素的键名和键值返回到带有四个元素的数组中。</strong><br><br><font color="#FF7F00"></font>

<p>&emsp;</p>
<font color="#00B2EE">[<a href="http://www.php.cn/code/4934.html" target="_blank" rel="noopener"><strong>视频教程</strong></a>]</font>

<blockquote>
<p><font color="#FF7F00"><strong>1. 文件结构：</strong></font><br>index.php —展示输入框和留言内容,并将内容提交到write.php；<br>write.php —接收并处理来自index.php的内容，然后向message.txt写入数据；<br>message.txt —接收并存入来自write.php的聊天内容。</p>
</blockquote>
<p>index.php文件：</p>
<font color="#FF7F00"></font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?Php</span></span><br><span class="line"><span class="comment">//设置时区</span></span><br><span class="line">date_default_timezone_set(<span class="string">'PRC'</span>);</span><br><span class="line"><span class="comment">//读了内容</span></span><br><span class="line">@$string = file_get_contents(<span class="string">'message.txt'</span>);</span><br><span class="line"><span class="comment">//如果$string 不为空的时候执行，也就是message.txt中有留言数据</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>($string)) &#123;</span><br><span class="line">    <span class="comment">//每一段留言有一个分格符，但是最后多出了一个&amp;^。因此，我们要将&amp;^删掉</span></span><br><span class="line">    $string = rtrim($string, <span class="string">'&amp;^'</span>);</span><br><span class="line">    <span class="comment">//以&amp;^切成数组</span></span><br><span class="line">    $arr = explode(<span class="string">'&amp;^'</span>, $string);</span><br><span class="line">    <span class="comment">//将留言内容读取</span></span><br><span class="line">    <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $value) &#123;</span><br><span class="line">        <span class="comment">//将用户名和内容分开</span></span><br><span class="line">        <span class="keyword">list</span>($username, $content, $time) = explode(<span class="string">'$#'</span>, $value);</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'用户名为&lt;font color="gree"&gt;'</span> . $username . <span class="string">'&lt;/font&gt;内容为&lt;font color="red"&gt;'</span> . $content . <span class="string">'&lt;/font&gt;时间为'</span> . date(<span class="string">'Y-m-d H:i:s'</span>, $time);</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;hr /&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;h1&gt;基于文件的留言本演示&lt;/h1&gt;</span><br><span class="line">&lt;form action=<span class="string">"write.php"</span> method=<span class="string">"post"</span>&gt;</span><br><span class="line">    用户名：&lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span> /&gt;&lt;br /&gt;</span><br><span class="line">    留言内容：&lt;textarea  name=<span class="string">"content"</span>&gt;&lt;/textarea&gt;&lt;br /&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"提交"</span> /&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<p>&emsp;<br>write.php文件：</p>
<font color="#FF7F00"></font>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//追加方式打开文件</span></span><br><span class="line">$fp=fopen(<span class="string">'message.txt'</span>,<span class="string">'a'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置时间</span></span><br><span class="line">$time=time();</span><br><span class="line"></span><br><span class="line"><span class="comment">//得到用户名</span></span><br><span class="line">$username=trim($_POST[<span class="string">'username'</span>]);</span><br><span class="line"><span class="comment">//得到内容</span></span><br><span class="line">$content=trim($_POST[<span class="string">'content'</span>]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//组合写入的字符串：内容和用户之间分开，使用$#</span></span><br><span class="line"><span class="comment">//行与行之间分开，使用&amp;^</span></span><br><span class="line">$string=$username.<span class="string">'$#'</span>.$content.<span class="string">'$#'</span>.$time.<span class="string">'&amp;^'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//写入文件</span></span><br><span class="line">fwrite($fp,$string);</span><br><span class="line"></span><br><span class="line"><span class="comment">//关闭文件</span></span><br><span class="line">fclose($fp);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">header(<span class="string">'location:index.php'</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>&emsp;</p>
<p><font color="#00B2EE"><strong>步骤1：</strong></font><strong>在www目录下的index.php里面复制上面相对应的内容、新建一个write.php文件并复制相应的内容、新建一个message.txt空文件；</strong></p>
<p><font color="#00B2EE"><strong>步骤2：</strong></font><strong>运行index.php如下：</strong></p>
<p><img src="https://i.loli.net/2019/02/21/5c6e21be78910.png" alt="Hash函数.png"></p>
<p>&emsp;</p>
<p><font color="#00B2EE"><strong>步骤3：</strong></font><strong>向留言框输入文字并点击提交</strong></p>
<p>&emsp;</p>
<h4 id="11-2-修改配置文件"><a href="#11-2-修改配置文件" class="headerlink" title="11.2 修改配置文件"></a><font color="#3CB371" face="Comic sans MS">11.2 修改配置文件</font></h4><p><font color="#00B2EE">[<a href="http://www.php.cn/code/4935.html" target="_blank" rel="noopener"><strong>视频教程</strong></a>]</font><br>&emsp;</p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/post/php-filesystem/">PHP-文件系统</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">Treecatee</a></p>
        <p><span>发布时间:</span>2019-02-20, 13:29:20</p>
        <p><span>最后更新:</span>2019-03-07, 00:37:44</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/post/php-filesystem/" title="PHP-文件系统">Treecatee.gitgub.io/post/php-filesystem/</a>
            <span class="copy-path" data-clipboard-text="原文: Treecatee.gitgub.io/post/php-filesystem/　　作者: Treecatee" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target="_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/post/php-upload/">
                    PHP-文件上传
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/post/php-function/">
                    PHP-函数
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#一-读取文件"><span class="toc-number">1.</span> <span class="toc-text">一. 读取文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-readfile读取文件"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 readfile读取文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-file-get-contents打开文件"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 file_get_contents打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-fopen、fread、fclose操作读取文件"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 fopen、fread、fclose操作读取文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二-创建和修改文件内容"><span class="toc-number">2.</span> <span class="toc-text">二. 创建和修改文件内容</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-file-put-contents写入文件"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 file_put_contents写入文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-fwrite配合fopen进行写入操作、fopen-打开模式的比较"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 fwrite配合fopen进行写入操作、fopen()打开模式的比较</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-a模式和w模式、x模式和w模式的不同"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 a模式和w模式、x模式和w模式的不同</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三-创建临时文件"><span class="toc-number">3.</span> <span class="toc-text">三. 创建临时文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四-移动、拷贝和删除文件"><span class="toc-number">4.</span> <span class="toc-text">四. 移动、拷贝和删除文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-重命名文件"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 重命名文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-复制文件"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 复制文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-删除文件"><span class="toc-number">4.3.</span> <span class="toc-text">4.3 删除文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#五-检测文件属性函数"><span class="toc-number">5.</span> <span class="toc-text">五. 检测文件属性函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#六-文件常用函数和常量"><span class="toc-number">6.</span> <span class="toc-text">六. 文件常用函数和常量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-目录分割符常量"><span class="toc-number">6.1.</span> <span class="toc-text">6.1 目录分割符常量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-DIRECTORY-SEPARATOR常量"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 DIRECTORY_SEPARATOR常量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-文件指针操作函数"><span class="toc-number">6.3.</span> <span class="toc-text">6.3 文件指针操作函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4-filesize-检测文件的大小"><span class="toc-number">6.4.</span> <span class="toc-text">6.4 filesize 检测文件的大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-5-文件的时间函数"><span class="toc-number">6.5.</span> <span class="toc-text">6.5 文件的时间函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#八-目录-文件夹-处理函数"><span class="toc-number">7.</span> <span class="toc-text">八. 目录(文件夹)处理函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#九-文件权限设置"><span class="toc-number">8.</span> <span class="toc-text">九. 文件权限设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#十-文件路径函数"><span class="toc-number">9.</span> <span class="toc-text">十. 文件路径函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#10-1-pathinfo-函数"><span class="toc-number">9.1.</span> <span class="toc-text">10.1 pathinfo()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-basename-函数"><span class="toc-number">9.2.</span> <span class="toc-text">10.2 basename()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-3-dirname-函数"><span class="toc-number">9.3.</span> <span class="toc-text">10.3 dirname()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-4-parse-url-函数"><span class="toc-number">9.4.</span> <span class="toc-text">10.4 parse_url()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-5-http-build-query-函数"><span class="toc-number">9.5.</span> <span class="toc-text">10.5 http_build_query()函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#十一-文件系统实例案例"><span class="toc-number">10.</span> <span class="toc-text">十一. 文件系统实例案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-文件留言本"><span class="toc-number">10.1.</span> <span class="toc-text">11.1 文件留言本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-2-修改配置文件"><span class="toc-number">10.2.</span> <span class="toc-text">11.2 修改配置文件</span></a></li></ol></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-6 i,
        .toc-level-6 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录" title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"PHP-文件系统　| Treecatee　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/post/php-upload/" title="上一篇: PHP-文件上传">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/post/php-function/" title="下一篇: PHP-函数">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/post/html-css/">CSS 基础</a></li><li class="post-list-item"><a class="post-list-link" href="/post/html-basics/">HTML-基础</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-filecontents/">Python-文件系统</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-modules-packages/">Python-模块和包</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-generator-iterator/">Python-生成器与迭代器</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-function/">Python-函数</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-operators/">Python-运算符</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-conditionalstatements-loops/">Python-条件语句与循环</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-list-tuple-dict-set/">Python-列表、元组、字典、集合</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-coding/">Python-字符编码&字符串&格式化</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-variables-datatypes/">Python-变量和数据类型</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-grammar/">Python-基础语法</a></li><li class="post-list-item"><a class="post-list-link" href="/post/python-basics/">Python-基础</a></li><li class="post-list-item"><a class="post-list-link" href="/post/php-sessionmanagement/">PHP-会话管理和控制</a></li><li class="post-list-item"><a class="post-list-link" href="/post/php-mysql/">PHP操作MySQL数据库</a></li><li class="post-list-item"><a class="post-list-link" href="/post/mysql-primer/">MySQL入门</a></li><li class="post-list-item"><a class="post-list-link" href="/post/php-upload/">PHP-文件上传</a></li><li class="post-list-item"><a class="post-list-link" href="/post/php-filesystem/">PHP-文件系统</a></li><li class="post-list-item"><a class="post-list-link" href="/post/php-function/">PHP-函数</a></li><li class="post-list-item"><a class="post-list-link" href="/post/php-regular-expression/">PHP-正则表达式</a></li><li class="post-list-item"><a class="post-list-link" href="/post/php-namespace/">PHP-命名空间</a></li><li class="post-list-item"><a class="post-list-link" href="/post/php-1/">PHP基础语法</a></li><li class="post-list-item"><a class="post-list-link" href="/post/wireshark-1/">Wireshark简单介绍和数据包分析</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-language-2-4/">Java数组(3.9)</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-language-2-3/">Java简单语句、复合语句、控制语句(3.7-3.8)</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-language-2-2/">Java运算符和数据类型转换(3.4-3.6)</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-exception-handling7/">Java-异常处理(5)</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-variable-innerclass6/">Java变量及其传递、内部类(4.9-4.10)</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-interface-package5/">Java接口、包(4.7-4.8)</a></li><li class="post-list-item"><a class="post-list-link" href="/post/hash-message-authentication/">Hash函数和消息认证</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-inherit-4/">Java构造方法、对象创建、继承(4.5-4.6)</a></li><li class="post-list-item"><a class="post-list-link" href="/post/sequence-password/">对称密码-序列密码</a></li><li class="post-list-item"><a class="post-list-link" href="/post/block-cipher/">对称密码-分组密码</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-access-permissions-3/">Java类、成员变量、static访问权限(4.1-4.4)</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-language-2-1/">Java语言基础的字符常变量等(3.1-3.3)</a></li><li class="post-list-item"><a class="post-list-link" href="/post/http-user-agen-cookie/">《HTTP协议请求头部的User-Agen和Cookie》</a></li><li class="post-list-item"><a class="post-list-link" href="/post/xampp-dvwa/">XAMPP环境下配置DVWA</a></li><li class="post-list-item"><a class="post-list-link" href="/post/java-io-1/">Java的输入输出</a></li><li class="post-list-item"><a class="post-list-link" href="/post/sqlmap-shell/">SQLMAP命令大全</a></li><li class="post-list-item"><a class="post-list-link" href="/post/mathematical-basis/">信息安全数学基础复习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/post/music-collection/">Music-Collection</a></li><li class="post-list-item"><a class="post-list-link" href="/post/pvris-onlylove/">PVRIS-OnlyLove</a></li><li class="post-list-item"><a class="post-list-link" href="/post/yang-zong-wei-kong-bai-ge-zhuan-ji/">杨宗纬-《空白格》专辑</a></li><li class="post-list-item"><a class="post-list-link" href="/post/network-security/">网络安全复习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/post/algorithm/">算法复习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/post/https-password/">内网称霸之《HTTPS账号密码获取》</a></li><li class="post-list-item"><a class="post-list-link" href="/post/http-password/">内网称霸之《HTTP账号密码获取》</a></li><li class="post-list-item"><a class="post-list-link" href="/post/arp-picture/">内网称霸之《arp欺骗获取目标主机浏览的图片》</a></li><li class="post-list-item"><a class="post-list-link" href="/post/arp-broken-network/">内网称霸之《ARP欺骗断网攻击》</a></li><li class="post-list-item"><a class="post-list-link" href="/post/resourses/">资源</a></li><li class="post-list-item"><a class="post-list-link" href="/post/xie-xue-ru-shui-xing-ji-ti-mian-shou-cang-ban/">叶雪如-《水星记》《体面》收藏版</a></li><li class="post-list-item"><a class="post-list-link" href="/post/xie-zhi-qian-si-wu-ji-dan-zhuan-ji/">薛之谦-《肆无忌惮》专辑</a></li><li class="post-list-item"><a class="post-list-link" href="/post/xie-zhi-qian-na-shi-ni-chi-kai-liao-bei-jing-de-sheng-huo-zhuan-ji/">薛之谦-《那是你离开了北京的生活》专辑</a></li><li class="post-list-item"><a class="post-list-link" href="/post/xie-zhi-qian-guai-ka-zhuan-ji/">薛之谦-《怪咖》专辑</a></li><li class="post-list-item"><a class="post-list-link" href="/post/metasploit3/">Metasploit之渗透安卓实战</a></li><li class="post-list-item"><a class="post-list-link" href="/post/metasploit2/">Metasploit工具Meterpreter的命令速查表</a></li><li class="post-list-item"><a class="post-list-link" href="/post/xie-zhi-qian-du-zhuan-ji/">薛之谦-《渡》专辑</a></li><li class="post-list-item"><a class="post-list-link" href="/post/xie-zhi-qian-zui-hao-zhuan-ji/">薛之谦-《最好》专辑</a></li><li class="post-list-item"><a class="post-list-link" href="/post/creategithubblog/">Hexo+Github博客搭建终极大法</a></li><li class="post-list-item"><a class="post-list-link" href="/post/markdownusage/">Markdown</a></li><li class="post-list-item"><a class="post-list-link" href="/post/metasploit1/">msfvenom生成各类Payload命令，远程木马攻击</a></li><li class="post-list-item"><a class="post-list-link" href="/post/hello-world/">Hello World</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2018-2019 Treecatee
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style="display:none">
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style="display:none">
                        <span id="page-visit" title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
		 <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
         
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>