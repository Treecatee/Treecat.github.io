<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Treecatee</title>
  
  <subtitle>得失弹指一挥间。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="Treecatee.gitgub.io/"/>
  <updated>2019-03-08T17:38:25.302Z</updated>
  <id>Treecatee.gitgub.io/</id>
  
  <author>
    <name>Treecatee</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>HTML-基础</title>
    <link href="Treecatee.gitgub.io/post/html-basics/"/>
    <id>Treecatee.gitgub.io/post/html-basics/</id>
    <published>2019-03-08T17:35:19.000Z</published>
    <updated>2019-03-08T17:38:25.302Z</updated>
    
    <content type="html"><![CDATA[<p>使用HTML标记实际上也就是使用标签和其属性 ( ⸝⸝•ᴗ•⸝⸝ )੭⁾⁾<br><a id="more"></a></p><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>HTML 基础</strong></font> </center><p><br></p><p><br></p><h3 id="一-HTML-初识"><a href="#一-HTML-初识" class="headerlink" title="一. HTML 初识"></a><font color="#FF6347" face="Comic sans MS">一. HTML 初识</font></h3><p>当您保存 HTML 文件时，既可以使用 .htm 也可以使用 .html 扩展名。两者没有区别，完全根据您的喜好。</p><p><br></p><p><strong>HTML标签编写规范</strong></p><p>HTML<font color="#FF7F00"><strong>标记不区分大小写</strong></font>。如：<code>&lt;font&gt;</code>、<code>&lt;Font&gt;</code>、<code>&lt;fOnt&gt;</code>。单特殊符号必须小写，如<code>&amp;nbsp</code>。</p><p>HTML标记属性可有可无。有的标记是没有属性的，如：<code>&lt;html&gt;</code>、<code>&lt;head&gt;</code>、<code>&lt;title&gt;</code>等</p><p>双边标记的内容在开始和结束标签之间，单边标记没有内容。</p><p>HTML标记可以相互嵌套，但一定注意是顺序嵌套，外层套内层，一层套一层。</p><p><br></p><font color="#00B2EE"><strong>HTML，Hypertext Markup Language ,超文本标注语言。</strong></font>HTML是一种规范，是一种标准，编写网页的一种标准。<br><font color="#00B2EE"></font><ul><li><strong>超文本：</strong>就是网页上不光有文本，还有图片、音乐、视频等。</li><li><strong>标注：</strong>是一种记号，是一种标志。如：红绿灯</li><li><strong>语言：</strong>这里的“语言”就是代码，跟所谓“程序语言”一点关系都没有。</li></ul><p><strong>HTML的主要目的：</strong><font color="#FF7F00"><strong>就是用来显示网页的不同效果、不同部分。如：<code>&lt;b&gt;文本&lt;/b&gt;</code></strong></font></p><p><br></p><p><br></p><h4 id="1-1-HTML文件结构"><a href="#1-1-HTML文件结构" class="headerlink" title="1.1 HTML文件结构"></a><font color="#3CB371" face="Comic sans MS">1.1 HTML文件结构</font></h4><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token doctype">&lt;!DOCTYPE HTML></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span></span>php<span class="token punctuation">.</span>cn<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>这里是存放网页内容的<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p><br></p><p><strong>HTML 页面整体构成</strong><br>用浏览器打开任意一个网页，右键选择查看网页源码，就可以看到网站的HTML代码，总结一下，整体结构如下图：</p><p><img src="https://i.loli.net/2019/03/08/5c823abe1bb83.png" alt=" 1.png"></p><font color="#00B2EE" face="Microsoft YaHei"><strong>一、HTML文件结构的说明：</strong></font><ul><li><p><strong><code>&lt;!DOCTYPE HTML&gt;</code>：</strong>html5标准网页声明，<font color="#FF7F00"><strong>必须放在 HTML 文档的第一行</strong></font>，位于<code>&lt;html&gt;</code>标签之前。声明有助于浏览器中正确显示网页。</p></li><li><p><strong><code>&lt;html&gt;&lt;/html&gt;</code>：</strong>告诉浏览器，其中的代码用什么格式(图片、视频)来编译。</p></li><li><p><strong><code>&lt;head&gt;&lt;/head&gt;</code>：</strong>头部中包含的标记是页面的标题、序言、说明等内容，它本身<font color="#FF7F00"><strong>不作为内容来显示</strong></font>，但影响网页显示的效果。</p><ol><li>下面<font color="#FF7F00"><strong>这些标签可用在 head 部分：<code>&lt;title&gt;</code>,<code>&lt;meta&gt;</code>,  <code>&lt;base&gt;</code>, <code>&lt;link&gt;</code>, <code>&lt;script&gt;</code>, <code>&lt;style&gt;</code></strong></font>。</li><li>头部中最常用的标记符是标题标记符<code>&lt;title&gt;页面标题&lt;/title&gt;</code>和<code>&lt;meta&gt;</code>标记符，其中标题标记符用于定义网页的标题，它的内容显示在网页窗口的标题栏中，网页标题可被浏览器用作书签和收藏清单。</li><li>设置文档标题和其它在网页中不显示的信息，比如direction方向、语言代码Language Code（实体定义!ENTITY % i18n）、指定字典中的元信息、等等。</li></ol></li><li><p><strong><code>&lt;body&gt;&lt;/body&gt;</code>：</strong>是网页主要内容的显示区域。网页中显示的实际内容均包含在这2个正文标记符之间。正文标记符又称为实体标记。网页中99%的内容都必须放在<code>&lt;body&gt;</code>。只有放在<code>&lt;body&gt;</code>中，最终浏览器翻译以后，才能看见结果。</p></li></ul><p><br></p><font color="#00B2EE" face="Microsoft YaHei"><strong>二、关于头部<code>&lt;head&gt;&lt;/head&gt;</code>中常用的两个标签<code>&lt;title&gt;&lt;/title&gt;</code>和<code>&lt;meta&gt;</code>：</strong></font><ol><li><p><strong><code>&lt;title&gt;纯文本&lt;/title&gt;</code></strong><font color="#FF7F00"><strong>中只能是纯文本，任何标记都会原封不动的显示。</strong></font></p></li><li><p><strong><code>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</code></strong>功能：告诉浏览器，如何翻译汉字。</p><ol><li><strong>http-equiv：</strong>模拟http协议的文件头原信息，主要目的是服务器向客户端返回时，用什么格式显示。</li><li><strong>Content-type：</strong>内容类型。</li><li><strong>Content：</strong>详细内容类型介绍。</li><li><strong>Text/html：</strong>网页是text格式，html是文本中的小格式。</li><li><strong>Charset：</strong>字符集，主要控制汉字如何显示。</li><li><strong>Utf-8：</strong>多国语言编码，什么国家的语言都可以正常显示。</li></ol></li></ol><p><br></p><p><br></p><h4 id="1-2-HTML文件组成"><a href="#1-2-HTML文件组成" class="headerlink" title="1.2 HTML文件组成"></a><font color="#3CB371" face="Comic sans MS">1.2 HTML文件组成</font></h4><blockquote><p><font color="#FF7F00"><strong>HTML 是什么</strong></font></p><ol><li>HTML 是用来描述网页的一种语言。</li><li>HTML 不是一种编程语言，而是一种标记语言</li><li>标记语言是一套标记标签 (markup tag)</li><li>HTML 使用标记标签来描述网页</li><li>HTML 文档包含了HTML 标签及文本内容</li><li>HTML文档也叫做 web 页面</li></ol></blockquote><p><br></p><blockquote><p><font color="#FF7F00"><strong>HTML 标签</strong></font></p><ol><li>HTML 标记标签通常被称为 HTML 标签 (HTML tag)。</li><li>HTML 标签是由尖括号包围的关键词，比如 <code>&lt;html&gt;</code></li><li>HTML 标签通常是成对出现的，比如 <code>&lt;b&gt;</code> 和 <code>&lt;/b&gt;</code>。也有单边标签，只有开始标签，而没结束标签，单边标签一般是没有内容。如：<code>&lt;br&gt;</code></li><li>标签对中的第一个标签是开始标签，第二个标签是结束标签</li><li>开始和结束标签也被称为开放标签和闭合标签</li><li>标签语法格式：<ol><li><strong>双边标签：<code>&lt;标签 属性1 = “值1”  属性2 = “值2”&gt;内容&lt;/标签&gt;</code></strong></li><li><strong>单边标签：<code>&lt;标签 属性1 = “值1”  属性2 = “值2”&gt;</code></strong></li></ol></li></ol></blockquote><p><br></p><blockquote><p><font color="#FF7F00"><strong>HTML 标签元素</strong></font></p><ol><li>“HTML 标签” 和 “HTML 元素” 通常都是描述同样的意思.</li><li>但是严格来讲, 一个 HTML 元素包含了开始标签与结束标签，如下实例:</li><li>HTML 元素:<code>&lt;p&gt;这是一个段落。&lt;/p&gt;</code></li></ol></blockquote><hr size="2" color="#00B2EE" width="100%" noshade><ul><li><p>HTML元素是组成HTML文档最基本的部件，它是用标签来表现的，一般来说，“起始标签”表示元素的开始，“结束标签”表示元素的结束。</p></li><li><p>HTML元素分为“有内容的元素”和“空元素”两种。</p></li><li><p>“有内容的元素”是由起始标签、结束标签以及两者之间的元素内容组成的，其中元素内容既可以是需要显示在网页中的文字内容，也可以是其它元素。</p></li></ul><hr size="2" color="#00B2EE" width="100%" noshade><p><br></p><blockquote><p><font color="#FF7F00"><strong>HTML 属性</strong></font></p><ol><li>HTML 标签可以拥有属性。属性提供了有关 HTML 元素的更多的信息。</li><li>属性总是以名称/值对的形式出现，比如：<code>name=&quot;value&quot;</code>。</li><li>属性值应该始终被包括在<strong>引号内</strong>。双引号是最常用的，不过使用单引号也没有问题。</li></ol></blockquote><hr size="2" color="#00B2EE" width="100%" noshade><ul><li>HTML的元素属性提供了对HTML元素的描述和控制信息，借助于元素属性，HTML网页才会展现丰富多彩且格式美观的内容。</li><li>例如要设置<code>&lt;p&gt;</code>元素中文字内容的颜色为红色，字号为30像素，这时就需要用到HTML元素属性了。如在<code>&lt;p&gt;</code>元素名称的尖括号内添加了<code>style=&quot;color:#ff0000;font-size:30px&quot;</code>内容，浏览器就会按照设定的效果来显示内容。</li></ul><hr size="2" color="#00B2EE" width="100%" noshade><p><br></p><p><br></p><h3 id="二-HTML-标签"><a href="#二-HTML-标签" class="headerlink" title="二. HTML 标签"></a><font color="#FF6347" face="Comic sans MS">二. HTML 标签</font></h3><p><br></p><h4 id="2-1-标签介绍"><a href="#2-1-标签介绍" class="headerlink" title="2.1 标签介绍"></a><font color="#3CB371" face="Comic sans MS">2.1 标签介绍</font></h4><p>按功能排序HTML的标签请参考：<font color="#00B2EE">《<a href="http://www.runoob.com/tags/ref-byfunc.html" target="_blank" rel="noopener">HTML 标签参考手册- (HTML5 标准)</a>》</font> </p><p><strong>HTML标签分两类：</strong>双边标签和单边标签。</p><p><br></p><p><strong>1. 双边标签</strong></p><ul><li>双边标签，是指有开始和结束标签，内容放在开始和结束标签之间。如：<code>&lt;b&gt;内容&lt;/b&gt;</code></li></ul><ul><li><p>“属性”的通俗理解：一个东西总是有一些特征，重量，体积等，这就是一个东西的“属性”</p></li><li><p><strong>语法格式：<code>&lt;标签 属性1 = “值1”  属性2 = “值2”&gt;内容&lt;/标签&gt;</code></strong></p></li></ul><p><br></p><p><strong>2. 单边标签</strong></p><ul><li><p>单边标签，只有开始标签，而没结束标签，单边标签一般是没有内容。如：<code>&lt;br&gt;</code></p></li><li><p>单边标签一般起一个特殊的功能。</p></li><li><p>单边标签常用的有10多个标记。</p></li><li><p><strong>语法格式：<code>&lt;标签 属性1 = “值1”  属性2 = “值2”&gt;</code></strong></p></li></ul><p><br></p><p>先来看一下双边标签例子，观察<code>&lt;font&gt;&lt;/font&gt;</code>标签</p><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token doctype">&lt;!DOCTYPE HTML></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span></span>directoree<span class="token punctuation">.</span>top<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">&lt;body</span> <span class="token attr-name">background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://i.loli.net/2019/03/08/5c82461ac1553.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token operator">></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span></span>第一个，哈哈哈哈<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span>       <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>看看我有什么特别的<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>运行如下图：</p><p><img src="https://i.loli.net/2019/03/08/5c828faaaf57d.jpg" alt="3.png"></p><p><br></p><p>再来看一下单边标签例子，观察<code>&lt;br&gt;</code>标签</p><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token doctype">&lt;!DOCTYPE HTML></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span></span>treecatee<span class="token punctuation">.</span>github<span class="token punctuation">.</span>io<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">&lt;body</span> <span class="token attr-name">background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://i.loli.net/2019/03/08/5c82461ac1553.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token operator">></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span></span>第二个，哈哈哈哈<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span></span>       <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>再看看我有什么特别的<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span></span>       <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span></span>       <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>6<span class="token punctuation">"</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>再看看我有什么特别的<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>运行如下图：</p><p><img src="https://i.loli.net/2019/03/08/5c828fa9efed8.jpg" alt="4.png"></p><p><br></p><p><strong>HTML标签编写规范</strong></p><p>HTML<font color="#FF7F00"><strong>标记不区分大小写</strong></font>。如：<code>&lt;font&gt;</code>、<code>&lt;Font&gt;</code>、<code>&lt;fOnt&gt;</code>。单特殊符号必须小写，如<code>&amp;nbsp</code>。</p><p>HTML标记属性可有可无。有的标记是没有属性的，如：<code>&lt;html&gt;</code>、<code>&lt;head&gt;</code>、<code>&lt;title&gt;</code>等</p><p>双边标记的内容在开始和结束标签之间，单边标记没有内容。</p><p>HTML标记可以相互嵌套，但一定注意是顺序嵌套，外层套内层，一层套一层，不能交叉嵌套。</p><p><br></p><p><hr size="2" color="#00B2EE" width="100%" noshade></p><hr size="2" color="#00B2EE" width="100%" noshade><p><br></p><h4 id="2-2-常用标签"><a href="#2-2-常用标签" class="headerlink" title="2.2 常用标签"></a><font color="#3CB371" face="Comic sans MS">2.2 常用标签</font></h4><ul><li style="list-style: none"><input type="checkbox" checked> <strong><code>&lt;!DOCTYPE HTML&gt;</code></strong> html5标准网页声明（必须有）</li><li style="list-style: none"><input type="checkbox" checked> <strong><code>&lt;html&gt;&lt;/html&gt;</code></strong> 声明代码格式（必须有）</li><li style="list-style: none"><input type="checkbox" checked> <strong><code>&lt;head&gt;&lt;/head&gt;</code></strong> 文件头（必须有）<ul><li style="list-style: none"><input type="checkbox" checked> <strong><code>&lt;title&gt;&lt;/title&gt;</code></strong> 标题（必须有）</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;meta&gt;</code></strong> 元数据  …..</li></ul></li><li style="list-style: none"><input type="checkbox" checked> <strong><code>&lt;body&gt;&lt;/body&gt;</code></strong>&emsp;<strong><code>&lt;h1&gt; - &lt;h6&gt;</code></strong>（必须有）</li><li style="list-style: none"><input type="checkbox"> 文本标签<ul><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;b&gt;&lt;/b&gt;</code></strong> 加粗</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;i&gt;&lt;/i&gt;</code></strong> 斜体</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;u&gt;&lt;/u&gt;</code></strong> 下划线</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;s&gt;&lt;/s&gt;</code></strong> 删除线</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;sup&gt;&lt;/sup&gt;</code></strong> 上标</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;sub&gt;&lt;/sub&gt;</code></strong> 下标</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;font&gt;&lt;/font&gt;</code></strong> 字体标记<ul><li style="list-style: none"><input type="checkbox"> <strong><code>size</code></strong> 大小(1 -&gt; 7)</li><li style="list-style: none"><input type="checkbox"> <strong><code>color</code></strong> 颜色</li><li style="list-style: none"><input type="checkbox"> <strong><code>face</code></strong> 字体</li></ul></li></ul></li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;p&gt;&lt;/p&gt;</code></strong> 表示一个段落</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;br&gt;</code></strong> 换行 </li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;hr&gt;</code></strong> 段落分割线 </li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;pre&gt;&lt;/pre&gt;</code> <code>&lt;code&gt;&lt;/code&gt;</code></strong> 定义预格式化的文本和格式代码块</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;strong&gt;</code>和<code>&lt;em&gt;</code></strong> 加粗和斜体（强调）</li><li style="list-style: none"><input type="checkbox"> <strong><code>&lt;span&gt;&lt;/span&gt;</code></strong> 对文档中的行内元素进行组合</li></ul><p><br></p><font size="4" face="Microsoft YaHei"><strong>1. <code>&lt;head&gt;&lt;/head&gt;</code>头标签</strong></font><blockquote><p><strong><code>&lt;head&gt;</code></strong>内的元素可包含脚本，指示浏览器在何处可以找到样式表，提供元信息等。<br>可添加到head部分的标签：<code>&lt;title&gt;</code>、<code>&lt;base&gt;</code>、<code>&lt;meta&gt;</code>、<code>&lt;link&gt;</code>、<code>&lt;script&gt;</code>、<code>&lt;style&gt;</code>:</p><ul><li><strong><code>&lt;title&gt;</code>：</strong>指定整个网页的标题，在浏览器最上方显示。</li><li><strong><code>&lt;base&gt;</code>：</strong>为页面上的所有链接规定默认地址或默认目标(target)。</li><li><strong><code>&lt;meta&gt;</code>：</strong>提供有关页面的基本信息。</li><li><strong><code>&lt;script&gt;</code>：</strong>定义客户端脚本，如JavaScript。</li><li><strong><code>&lt;style&gt;</code>：</strong>定义内部样式表与网页的关系。</li></ul></blockquote><p><br></p><ol><li><p><font color="#00B2EE" face="Microsoft YaHei"><strong><code>&lt;title&gt;&lt;/title&gt;</code>：标签定义文档的标题。</strong></font> <br></p><ol><li>title 元素在所有 HTML/XHTML 文档中都是必需的，无属性；</li><li><code>&lt;title&gt;纯文本&lt;/title&gt;</code>中间只能是纯文本；</li><li>title 元素能够：<ol><li>定义浏览器工具栏中的标题</li><li>提供页面被添加到收藏夹时显示的标题</li><li>显示在搜索引擎结果中的页面标题</li><li>告诉用户和搜索引擎这个网页的主要内容是什么，</li><li>搜索引擎可以通过网页标题，迅速的判断出当前网页的主题。</li></ol></li></ol></li></ol><p><br></p><hr size="2" color="#00B2EE" width="100%" noshade><ol start="2"><li><font color="#00B2EE" face="Microsoft YaHei"><strong><code>&lt;meta&gt;</code>：标签</strong></font> <br><ol><li><code>&lt;meta&gt;</code> 标签提供关于 HTML 文档的元数据。</li><li>元数据不会显示在页面上，但是对于机器是可读的。</li><li>典型的情况是，meta 元素被用于规定页面的描述、关键词、文档的作者、最后修改时间以及其他元数据。</li><li><code>&lt;meta&gt;</code> 标签始终只能位于 head 元素中。但是头部可以有多个<code>&lt;meta&gt;</code> 标签。</li><li>元数据可用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他 web 服务。</li><li><strong>包含属性：（有属性就必须有对应的值(content)）</strong><ol><li><font color="#FF7F00"><strong>content：</strong></font>必须属性。<ol><li>定义与 http-equiv 或 name 属性相关的元信息，content中的内容其实就是各个参数的变量值。</li><li>变量值可以有多个，用半角逗号<code>,</code>隔开。</li></ol></li><li><font color="#FF7F00"><strong>http-equiv：</strong></font>可选属性。可选值：<ol><li><strong><code>content-type</code>，内容类别</strong>，用于设置页面的类别和语言字符集。编写格式<code>&lt;meta http-equiv=“content-type” context=“text/html”；charset=“gb2312”/&gt;</code>，content属性的值代表页面采用HTML代码输出，字符集为gb2312（简体中文），国际化网站开发的话，为了字符统一，建议charset采用utf-8.</li><li><strong><code>refresh</code>。刷新</strong>，用于设置多长时间内网页自己刷新一次，或者用一段时间自动跳转到其他页面，第一种编写格式<code>&lt;meta http-equiv=“refresh” context=“30”/&gt;</code>表示隔30秒刷新一次，第二种编写格式<code>&lt;meta http-equiv=“refresh” context=“30；url=www.google.com”/&gt;</code>，表示30秒后页面自动跳转到<a href="http://www.google.com网站" target="_blank" rel="noopener">www.google.com网站</a></li></ol></li><li><font color="#FF7F00"><strong>name：</strong></font>可选属性。<ol><li>用于页面的关键字和描述，是写给搜索引擎看的；</li><li>与之对应的属性值为content，content中的内容主要是便于搜索引擎机器人查找信息和分类信息用的。</li><li>主要用于描述网页的内容，用于对搜索引擎的优化，必须重点掌握。正确地设置name属性，以便搜索引擎（比如google，baidu）的搜索机器人查找，分类，搜索引擎一般都会自动查找meta值来给网页分类。name的取值(content)如下：<ol><li><strong><code>keywords</code></strong>。即关键字，用于说明网页所包含的关键字等信息，从而提高被搜索引擎搜索到的概率。编写格式为<code>&lt;meta name=&quot;keywords&quot; content =“关键字”/&gt;</code>，content属性的值为用户所设置的具体关键字。（一般可设置多个关键字，他们之间用英文半角的逗号分开，搜索引擎都限制关键字的数量，所以关键字内容要简洁精练）</li><li><strong><code>description</code></strong>。中文意思为”描述”，用于描述网页的主要内容、主题等，合理设置也可以提高被搜索引擎搜索到的概率。格式为<code>&lt;meta name=&quot;description&quot; content =“对页面的描述”/&gt;</code>，content属性值为用户所设置的页面具体描述的内容，最多容纳1024个字符，但搜索引擎一边只显示约前175个字符。</li><li><strong><code>author</code></strong>。作者，用于设置网站作者的名称，比较专业的网站经常用到。格式为<code>&lt;meta name=&quot;author&quot; content =“作者名称”/&gt;</code></li></ol></li></ol></li></ol></li></ol></li></ol><p>可参读：<font color="#00B2EE">《<a href="http://www.php.cn/code/443.html" target="_blank" rel="noopener">HTML &lt;head&gt; 元素</a>》</font> 、<font color="#00B2EE">《<a href="https://www.cnblogs.com/tielemao/archive/2018/05/25/9086693.html" target="_blank" rel="noopener">HTML-head头部浅析</a>》</font> </p><p><br></p><p>例1：打开该网页后每隔20秒刷新一次</p><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token doctype">&lt;!DOCTYPE HTML></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>refresh<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span></span>这是个展示网页hhh<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span></span>希望你能够在这里学的开心<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p><br></p><p>例2：打开该网页20秒后跳转到百度首页</p><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token doctype">&lt;!DOCTYPE HTML></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>refresh<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2;url<span class="token punctuation">=</span>http://www.baidu.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>                  <span class="token string">'注意这里的2后是分号“;” '</span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span></span>跳转网页hhh<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span></span>希望你能够在这里学的开心<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p><br></p><hr size="2" color="#00B2EE" width="100%" noshade><ol start="3"><li><p><font color="#00B2EE" face="Microsoft YaHei"><strong><code>&lt;base&gt;</code>：标签</strong></font> <br> </p><p><code>&lt;base&gt;</code> 标签为页面上的所有链接设置默认的地址或默认的目标（target）</p></li></ol><p><br></p><ol start="4"><li><p><font color="#00B2EE" face="Microsoft YaHei"><strong><code>&lt;link&gt;</code>：标签</strong></font> <br> </p><p><code>&lt;link&gt;</code> 标签定义文档与外部资源之间的关系。</p></li></ol><p><br></p><ol start="5"><li><p><font color="#00B2EE" face="Microsoft YaHei"><strong><code>&lt;style&gt;</code>：标签</strong></font> <br> </p><p><code>&lt;style&gt;</code> 标签用于为 HTML 文档定义样式信息。</p></li></ol><p><br></p><ol start="6"><li><p><font color="#00B2EE" face="Microsoft YaHei"><strong><code>&lt;script&gt;&lt;/script&gt;</code>：标签</strong></font> <br></p><p><code>&lt;script&gt;</code> 标签用于定义客户端脚本，比如JavaScript。</p></li></ol><p><br></p><font size="4" face="Microsoft YaHei"><strong>2. <code>&lt;body&gt;</code>标签和标题</strong></font><p>HTML 标题（Heading）是通过<code>&lt;h1&gt; - &lt;h6&gt;</code>标签来定义的。</p><p><code>body</code>用法如下：</p><table><thead><tr><th style="text-align:left">用法</th><th style="text-align:left">作用</th><th style="text-align:left">可选属性/是否赞成使用该属性</th></tr></thead><tbody><tr><td style="text-align:left"><code>&lt;body&gt;内容&lt;/body&gt;</code></td><td style="text-align:left">定义文档的主体</td><td style="text-align:left">alink：规定文档中活动链接（active link）的的颜色<br>&emsp;&emsp;&emsp;不赞成使用。请使用样式取代它。<br>background URL：规定文档的背景图。<br>&emsp;&emsp;&emsp;不赞成使用。请使用样式取代它。<br>bgcolor：规定文档的背景颜色<br>&emsp;&emsp;&emsp;不赞成使用。请使用样式取代它。<br>link：规定文档中未访问链接的默认颜色<br>&emsp;&emsp;&emsp;不赞成使用。请使用样式取代它。<br>text：规定文档中所有文本的颜色<br>&emsp;&emsp;&emsp;不赞成使用。请使用样式取代它。<br>vlink：规定文档中已被访问链接的颜色<br>&emsp;&emsp;&emsp;不赞成使用。请使用样式取代它。</td></tr></tbody></table><p><strong><code>&lt;body&gt;</code>的常用属性</strong></p><p>bgColor：网页背景色。如：<code>&lt;body  bgColor = “red”&gt;</code></p><p>background：网页背景图片地址。如：<code>&lt;body  background = “images/01.jpg”&gt;</code></p><p><br></p><p>示例：</p><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token doctype">&lt;!DOCTYPE HTML></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span></span>demook<span class="token punctuation">.</span>hhh<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">background</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://i.loli.net/2019/03/08/5c82461ac1593.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span></span>Nice优秀啊<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span>       <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span></span>是的呢 ヾ<span class="token punctuation">(</span>๑╹◡╹<span class="token punctuation">)</span>ﾉ" <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>运行结果：</p><p><img src="https://i.loli.net/2019/03/08/5c8246bcd4f93.png" alt="5.png"></p><p><br></p><p><br></p><font size="4" face="Microsoft YaHei"><strong>3. 文本修饰标签</strong></font><table><thead><tr><th style="text-align:left">用法</th><th style="text-align:left">作用</th></tr></thead><tbody><tr><td style="text-align:left"><strong><code>&lt;b&gt;&lt;/b&gt;</code></strong></td><td style="text-align:left">加粗字体。如：<code>&lt;b&gt;HTML文件&lt;/b&gt;</code> ----&gt; <b>HTML文件</b></td></tr><tr><td style="text-align:left"><strong><code>&lt;i&gt;&lt;/i&gt;</code></strong></td><td style="text-align:left">斜体italic。如：<code>&lt;i&gt;HTML文本&lt;/i&gt;</code>----&gt; <i>HTML文本</i></td></tr><tr><td style="text-align:left"><strong><code>&lt;u&gt;&lt;/u&gt;</code></strong></td><td style="text-align:left">下划线underline。如：<code>&lt;u&gt;HTML文本&lt;/u&gt;</code>----&gt; <u>HTML文本</u></td></tr><tr><td style="text-align:left"><strong><code>&lt;s&gt;&lt;/s&gt;</code></strong></td><td style="text-align:left">删除线strike。如：<code>&lt;s&gt;删除线&lt;/s&gt;</code>----&gt; <s>删除线</s></td></tr><tr><td style="text-align:left"><strong><code>&lt;sup&gt;&lt;/sup&gt;</code></strong></td><td style="text-align:left">上标，如：<code>3&lt;sup&gt;x&lt;/sup&gt;</code> ----&gt; 3<sup>x</sup></td></tr><tr><td style="text-align:left"><strong><code>&lt;sub&gt;&lt;/sub&gt;</code></strong></td><td style="text-align:left">下标，如：<code>6&lt;sub&gt;5&lt;/sub&gt;</code> ----&gt; 6<sub>5</sub></td></tr><tr><td style="text-align:left"><strong><code>&lt;font&gt;&lt;/font&gt;</code></strong></td><td style="text-align:left">字体标记，如：<code>&lt;font size=&quot;4&quot; color=&quot;red&quot; face=&quot;Comic sans MS&quot;&gt;Demo&lt;/font&gt;</code><font size="4" color="red" face="Comic sans MS">Demo</font></td></tr><tr><td style="text-align:left"><strong><code>size</code></strong></td><td style="text-align:left"><code>&lt;font&gt;&lt;font&gt;</code>的属性。文本大小，取值1-7（1小，7大）</td></tr><tr><td style="text-align:left"><strong><code>color</code></strong></td><td style="text-align:left"><code>&lt;font&gt;&lt;font&gt;</code>的属性。颜色值</td></tr><tr><td style="text-align:left"><strong><code>face</code></strong></td><td style="text-align:left"><code>&lt;font&gt;&lt;font&gt;</code>的属性。字体，楷体、黑体、宋体</td></tr></tbody></table><p><br></p><p><br></p><font size="4" face="Microsoft YaHei"><strong>4. <code>&lt;p&gt;&lt;/p&gt;</code>表示一个段落</strong></font><p>属性及取值如下：</p><table><thead><tr><th style="text-align:left">属性</th><th style="text-align:left">值</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">align</td><td style="text-align:left">left<br>right<br>center<br>justify</td><td style="text-align:left">HTML5不支持。 HTML 4.01已废弃。 <br>不赞成使用。请使用样式取代它。 规定段落中文</td></tr></tbody></table><p><br></p><p><br></p><font size="4" face="Microsoft YaHei"><strong>5. <code>&lt;br&gt;</code> 标签</strong></font><p><code>&lt;br&gt;</code> 标签插入一个简单的换行符。<code>&lt;br&gt;</code> 标签是一个空标签，意味着它没有结束</p><p><strong>提示：</strong>在<font color="#FF7F00"><strong>写地址信息或者写诗词时 <code>&lt;br&gt;</code> 标签非常有用</strong></font>。</p><p><strong>注释：</strong> 请<font color="#FF7F00"><strong>使用 <code>&lt;br&gt;</code> 标签来输入空行，而不是分割段落</strong></font>。</p><p>在 HTML 中，<code>&lt;br&gt;</code> 标签没有结束标签。</p><p>在 XHTML 中，<code>&lt;br&gt;</code> 标签必须被正确地关闭，比如这样：<code>&lt;br /&gt;</code> 。</p><p><br></p><p><br></p><font size="4" face="Microsoft YaHei"><strong>6. <code>&lt;hr&gt;</code> 标签</strong></font><p><img src="https://i.loli.net/2019/03/08/5c82523cb9d72.png" alt="6.png"></p><p><br></p><p><br></p><font size="4" face="Microsoft YaHei"><strong>7. <code>&lt;pre&gt;&lt;/pre&gt;</code> <code>&lt;code&gt;&lt;/code&gt;</code></strong></font><p><strong><code>&lt;pre&gt;</code>预排版标记</strong></p><p>功能：将保留所有的空白字符(空格、换行符)，换句话说：就是原封不动输出。<br>可参读：<font color="#00B2EE">《<a href="https://www.jianshu.com/p/6abc36c28e45" target="_blank" rel="noopener">html &lt;.code&gt;&amp;&lt;.pre&gt;</a>》</font> </p><p><br></p><p><br></p><font size="4" face="Microsoft YaHei"><strong>8. <code>&lt;strong&gt;</code>和 <code>&lt;em&gt;</code></strong></font><ul><li><p>有了段落又有了标题，现在如果想在一段话中特别强调某几个文字，这时候就可以用到<code>&lt;em&gt;</code>或<code>&lt;strong&gt;</code>标签。</p></li><li><p>但两者在强调的语气上有区别:<code>&lt;em&gt;</code> 表示强调，<code>&lt;strong&gt;</code>表示更强烈的强调。并且在浏览器中<code>&lt;em&gt;</code> 默认用斜体表示，<code>&lt;strong&gt;</code> 用粗体表示。两个标签相比，目前国内前端程序员更喜欢使用<code>&lt;strong&gt;</code>表示强调。</p></li><li><p><font color="#FF7F00"><strong><code>&lt;em&gt;</code>的内容在浏览中显示为斜体，<code>&lt;strong&gt;</code>显示为加粗</strong></font>。如果不喜欢这种样式，没有关系，以后可以使用css样式去改变它。</p></li></ul><p><br></p><p><br></p><font size="4" face="Microsoft YaHei"><strong>9. <code>&lt;span&gt;&lt;/span&gt;</code>&gt;</strong></font><ul><li><p><code>&lt;span&gt;</code> 标签被用来组合文档中的行内元素。span 没有固定的格式表现。当对它应用样式时，它才会产生视觉上的变化。如果不对 <code>&lt;span&gt;</code> 应用样式，那么 <code>&lt;span&gt;</code> 元素中的文本与其他文本不会任何视觉上的差异。</p></li><li><p><code>&lt;span&gt;</code> 标签提供了一种将文本的一部分或者文档的一部分独立出来的方式。</p></li><li><p>被 <code>&lt;span&gt;</code> 元素包含的文本，您可以使用 CSS 对它定义样式，或者使用 JavaScript 对它进行操作。</p></li></ul><p><br></p><p><br></p><h4 id="2-3-HTML字符实体"><a href="#2-3-HTML字符实体" class="headerlink" title="2.3 HTML字符实体"></a><font color="#3CB371" face="Comic sans MS">2.3 HTML字符实体</font></h4><p><br></p><font face="Microsoft YaHei"><strong>HTML 中的</strong><font color="#FF7F00"><strong>预留字符</strong></font><strong>必须被替换为</strong><font color="#FF7F00"><strong>字符实体</strong></font>。</font><p><br></p><font face="Microsoft YaHei"><strong>1. HTML 实体</strong></font><ol><li><p>在 HTML 中，某些字符是预留的。</p></li><li><p>在 HTML 中不能使用小于号（&lt;）和大于号（&gt;），这是因为浏览器会误认为它们是标签。</p></li><li><p>如果希望正确地显示预留字符，我们必须在 HTML 源代码中使用字符实体（character entities）。</p></li><li><p><strong>注：</strong><font color="#FF7F00"><strong>记得加上半角分号<code>;</code>符号啊，不然识别不出来</strong></font></p></li></ol><p><br></p><blockquote><p>如需显示小于号，我们必须这样写：<code>&amp;lt;</code> 或 <code>&amp;#60;</code><br><strong>提示：</strong>使用实体名而不是数字的好处是，名称易于记忆。不过坏处是，浏览器也许并不支持所有实体名称（对实体数字的支持却很好）。</p></blockquote><p><br></p><font face="Microsoft YaHei"><strong>2. 不间断空格（non-breaking space）</strong></font><ul><li><p>HTML 中的常用字符实体是不间断空格(<code>&amp;nbsp;</code>)。</p></li><li><p>浏览器总是会截短 HTML 页面中的空格。<font color="#FF7F00"><strong>如果您在文本中写 10 个空格，在显示该页面之前，浏览器会删除它们中的 9 个</strong></font>，因此，要使用10个空格的话就需要写10个<code>&amp;nbsp;</code> 。（如需在页面中增加空格的数量，您需要使用 <code>&amp;nbsp;</code> 字符实体）</p></li></ul><p><br></p><font face="Microsoft YaHei"><strong>3. HTML 中有用的字符实体</strong></font><p><strong>注释：</strong>实体名称对大小写敏感！半角分号不要忘记！<br>如果想要输出<code>&amp;nbsp;</code>而不被转义为空格，可这样：<code>&amp;amp;nbsp;</code>，因为<code>&amp;amp;</code>对应<code>$</code>-->&amp;nbsp;</p><table><thead><tr><th style="text-align:left">显示结果</th><th style="text-align:left">描述</th><th style="text-align:left">实体名称</th><th style="text-align:left">实体编号</th></tr></thead><tbody><tr><td style="text-align:left"></td><td style="text-align:left">空格</td><td style="text-align:left"><strong><code>&amp;nbsp;</code></strong></td><td style="text-align:left"><strong><code>&amp;#160;</code></strong></td></tr><tr><td style="text-align:left">&lt;</td><td style="text-align:left">小于号</td><td style="text-align:left"><strong><code>&amp;lt;</code></strong></td><td style="text-align:left"><strong><code>&amp;#60;</code></strong></td></tr><tr><td style="text-align:left">></td><td style="text-align:left">大于号</td><td style="text-align:left"><strong><code>&amp;gt;</code></strong></td><td style="text-align:left"><strong><code>&amp;#62;</code></strong> </td></tr><tr><td style="text-align:left">&amp;</td><td style="text-align:left">和号</td><td style="text-align:left"><strong><code>&amp;amp;</code></strong></td><td style="text-align:left"><strong><code>&amp;#38;</code></strong></td></tr><tr><td style="text-align:left">“</td><td style="text-align:left">引号</td><td style="text-align:left"><strong><code>&amp;quot;</code></strong></td><td style="text-align:left"><strong><code>&amp;#34;</code></strong></td></tr><tr><td style="text-align:left">‘</td><td style="text-align:left">撇号</td><td style="text-align:left"><strong><code>&amp;apos;</code></strong>(IE不支持)</td><td style="text-align:left"><strong><code>&amp;#39;</code></strong></td></tr><tr><td style="text-align:left">￠</td><td style="text-align:left">分（cent）</td><td style="text-align:left"><strong><code>&amp;cent;</code></strong></td><td style="text-align:left"><strong><code>&amp;#162;</code></strong></td></tr><tr><td style="text-align:left">£</td><td style="text-align:left">镑（pound）</td><td style="text-align:left"><strong><code>&amp;pound;</code></strong></td><td style="text-align:left"><strong><code>&amp;#163;</code></strong></td></tr><tr><td style="text-align:left">¥</td><td style="text-align:left">元（yen）</td><td style="text-align:left"><strong><code>&amp;yen;</code></strong></td><td style="text-align:left"><strong><code>&amp;#165;</code></strong></td></tr><tr><td style="text-align:left">€</td><td style="text-align:left">欧元（euro）</td><td style="text-align:left"><strong><code>&amp;euro;</code></strong></td><td style="text-align:left"><strong><code>&amp;#8364;</code></strong></td></tr><tr><td style="text-align:left">§</td><td style="text-align:left">小节</td><td style="text-align:left"><strong><code>&amp;sect;</code></strong></td><td style="text-align:left"><strong><code>&amp;#167;</code></strong></td></tr><tr><td style="text-align:left">©</td><td style="text-align:left">版权（copyright）</td><td style="text-align:left"><strong><code>&amp;copy;</code></strong></td><td style="text-align:left"><strong><code>&amp;#169;</code></strong></td></tr><tr><td style="text-align:left">®</td><td style="text-align:left">注册商标</td><td style="text-align:left"><strong><code>&amp;reg;</code></strong></td><td style="text-align:left"><strong><code>&amp;#174;</code></strong></td></tr><tr><td style="text-align:left">™</td><td style="text-align:left">商标</td><td style="text-align:left"><strong><code>&amp;trade;</code></strong></td><td style="text-align:left"><strong><code>&amp;#8482;</code></strong></td></tr><tr><td style="text-align:left">×</td><td style="text-align:left">乘号</td><td style="text-align:left"><strong><code>&amp;times;</code></strong></td><td style="text-align:left"><strong><code>&amp;#215;</code></strong></td></tr><tr><td style="text-align:left">÷</td><td style="text-align:left">除号</td><td style="text-align:left"><strong><code>&amp;divide;</code></strong></td><td style="text-align:left"><strong><code>&amp;#247;</code></strong></td></tr></tbody></table><p>完整的实体符号参考：<font color="#00B2EE">[<a href="http://www.w3school.com.cn/tags/html_ref_entities.html" target="_blank" rel="noopener">HTML ISO-8859-1 参考手册</a>]</font> </p><p><br></p><p><br></p><h3 id="三-HTML-列表"><a href="#三-HTML-列表" class="headerlink" title="三. HTML 列表"></a><font color="#FF6347" face="Comic sans MS">三. HTML 列表</font></h3><p><br></p><p><br></p><h3 id="四-HTML-表格"><a href="#四-HTML-表格" class="headerlink" title="四. HTML 表格"></a><font color="#FF6347" face="Comic sans MS">四. HTML 表格</font></h3><p><br></p><p><br></p><h3 id="五-HTML-表单"><a href="#五-HTML-表单" class="headerlink" title="五. HTML 表单"></a><font color="#FF6347" face="Comic sans MS">五. HTML 表单</font></h3>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用HTML标记实际上也就是使用标签和其属性 ( ⸝⸝•ᴗ•⸝⸝ )੭⁾⁾&lt;br&gt;
    
    </summary>
    
      <category term="HTML" scheme="Treecatee.gitgub.io/categories/HTML/"/>
    
    
      <category term="HTML" scheme="Treecatee.gitgub.io/tags/HTML/"/>
    
  </entry>
  
  <entry>
    <title>Python-文件系统</title>
    <link href="Treecatee.gitgub.io/post/python-filecontents/"/>
    <id>Treecatee.gitgub.io/post/python-filecontents/</id>
    <published>2019-03-06T07:08:54.000Z</published>
    <updated>2019-03-07T07:45:52.962Z</updated>
    
    <content type="html"><![CDATA[<p>Python是 文件对象.write()，PHP是fwrite() 😀…<br><a id="more"></a></p><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>文件系统</strong></font> </center><p>推荐参考资料：</p><font color="#00B2EE">《<a href="http://www.runoob.com/python3/python3-inputoutput.html" target="_blank" rel="noopener">Python3 输入和输出</a>》</font><br><font color="#00B2EE">《<a href="https://www.cnblogs.com/sjie0224/articles/7562509.html" target="_blank" rel="noopener">Python学习之路-11 (文件操作)</a>》</font> <p><br></p><p><br></p><h3 id="一-读写文件"><a href="#一-读写文件" class="headerlink" title="一. 读写文件"></a><font color="#FF6347" face="Comic sans MS">一. 读写文件</font></h3><p>Python提供了 input() 内置函数从标准输入读入一行文本，并将输入以字符串形式返回，默认的标准输入是键盘。</p><p>input 可以接收一个Python表达式作为输入，并将运算结果返回。</p><pre class=" language-python"><code class="language-python">str <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">"请输入："</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"你输入的内容是: "</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span>这会产生如下的对应着输入的结果：请输入：菜鸟教程你输入的内容是<span class="token punctuation">:</span>  菜鸟教程</code></pre><p><br></p><blockquote><p><font color="#00B2EE"><strong>使用到的方法：</strong></font></p><ul><li><font color="#FF7F00"><strong>open()：</strong></font> 以某种读写模式打开一个文件，将会返回一个 file 对象；</li><li><font color="#FF7F00"><strong>f.write(string) ：</strong></font> 将 string 写入到文件中, 然后返回写入的字符数；</li><li><font color="#FF7F00"><strong>f.read(size)：</strong></font> 将读取一定数目的数据, 然后作为字符串或字节对象返回；</li><li><font color="#FF7F00"><strong>f.readline() ：</strong></font> 从文件读取整行，包括 “\n” 字符。如果指定了一个非负数的参数，则返回指定大小的字节数，包括 “\n” 字符。；</li><li><font color="#FF7F00"><strong>f.readlines() ：</strong></font> 将返回该文件中包含的所有行；</li><li><font color="#FF7F00"><strong>f.tell() ：</strong></font> 返回文件对象当前所处的位置, 它是从文件开头开始算起的<strong>字节数</strong>；</li><li><font color="#FF7F00"><strong>f.seek() ：</strong></font> 如果要改变文件当前的位置, 可以使用 f.seek(offset, from_what) 函数；</li><li><font color="#FF7F00"><strong>f.close() ：</strong></font> 当你处理完一个文件后, 调用 f.close() 来关闭文件并释放系统的资源，如果尝试再调用该文件，则会抛出异常。</li></ul></blockquote><p><br></p><p><br></p><h4 id="1-1-open"><a href="#1-1-open" class="headerlink" title="1.1 open()"></a><font color="#3CB371" face="Comic sans MS">1.1 open()</font></h4><p>Python open() 方法用于打开一个文件，并<font color="#FF7F00"><strong>返回文件对象</strong></font>，在对文件进行处理过程都需要使用到这个函数，如果该文件无法被打开，会抛出 OSError。</p><p><strong>注意：</strong>使用 open() 方法一定要保证关闭文件对象，即调用 close() 方法。</p><p>open() 函数常用形式是接收两个参数：<strong>文件名(file)和模式(mode)</strong>。即<strong><code>a = open(file, mode);</code></strong></p><table><thead><tr><th style="text-align:left">语法格式</th><th style="text-align:left">参数说明</th><th style="text-align:left">返回类型</th></tr></thead><tbody><tr><td style="text-align:left">open(file, mode, buffering, encoding=None, <br>&emsp;&emsp;&emsp;errors=None, newline=None, <br>&emsp;&emsp;&emsp;closefd=True, opener=None)</td><td style="text-align:left">file: 必需，文件路径（相对或者绝对路径）。<br>mode: 可选，文件打开模式<br>buffering: 设置缓冲<br>encoding: 一般使用utf8<br>errors: 报错级别<br>newline: 区分换行符<br>closefd: 传入的file参数类型<br>opener:</td><td style="text-align:left">文件对象</td></tr></tbody></table><p><br></p><font color="#FF7F00"><strong>mode 参数有：</strong></font><table><thead><tr><th style="text-align:left">模式</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">t</td><td style="text-align:left">文本模式 (默认)。</td></tr><tr><td style="text-align:left">x</td><td style="text-align:left">写模式，新建一个文件，如果该文件已存在则会报错。</td></tr><tr><td style="text-align:left">b</td><td style="text-align:left">二进制模式。</td></tr><tr><td style="text-align:left">+</td><td style="text-align:left">打开一个文件进行<strong>更新(可读可写)</strong>。</td></tr><tr><td style="text-align:left">U</td><td style="text-align:left">通用换行模式（不推荐）。</td></tr><tr><td style="text-align:left">r</td><td style="text-align:left">以<strong>只读方式</strong>打开文件。文件的指针将会放在<strong>文件的开头</strong>。这是默认模式。</td></tr><tr><td style="text-align:left">rb</td><td style="text-align:left">以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。<br>一般用于非文本文件如图片等。</td></tr><tr><td style="text-align:left">r+</td><td style="text-align:left">打开一个文件<strong>用于读写</strong>。文件指针将会放在文件的<strong>开头</strong>。</td></tr><tr><td style="text-align:left">rb+</td><td style="text-align:left">以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。</td></tr><tr><td style="text-align:left">w</td><td style="text-align:left">打开一个文件<strong>只用于写入</strong>。如果该文件已存在则打开文件，并从开头开始编辑，即<strong>原有内容会被删除</strong>。<br>如果该文件不存在，创建新文件。</td></tr><tr><td style="text-align:left">wb</td><td style="text-align:left">以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有<br>内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</td></tr><tr><td style="text-align:left">w+</td><td style="text-align:left">打开一个文件用于<strong>读写</strong>。如果该文件已存在则打开文件，并<strong>从开头开始编辑</strong>，<strong>即原有内容会被删除</strong>。<br>如果该文件不存在，创建新文件。</td></tr><tr><td style="text-align:left">wb+</td><td style="text-align:left">以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，<br>即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</td></tr><tr><td style="text-align:left">a</td><td style="text-align:left">打开一个文件用于<strong>追加(不能读)</strong>。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，<br>新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td></tr><tr><td style="text-align:left">ab</td><td style="text-align:left">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，<br>新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td></tr><tr><td style="text-align:left">a+</td><td style="text-align:left">打开一个文件用于<strong>读写</strong>。如果该文件已存在，文件<strong>指针将会放在文件的结尾</strong>。<br>文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td></tr><tr><td style="text-align:left">ab+</td><td style="text-align:left">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。<br>如果该文件不存在，创建新文件用于读写。</td></tr></tbody></table><p><br></p><p>下图很好的总结了这几种模式：</p><p><img src="https://i.loli.net/2019/03/06/5c7fb64577036.png" alt="2.png"></p><p><br></p><table><thead><tr><th style="text-align:center">模式</th><th style="text-align:center">读</th><th style="text-align:center">写</th><th style="text-align:center">创建</th><th style="text-align:center">覆盖</th><th style="text-align:center">指针在开始</th><th style="text-align:center">指针在结尾</th></tr></thead><tbody><tr><td style="text-align:center"><strong>r</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><strong>r+</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><strong>w</strong></td><td style="text-align:center"></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><strong>w+</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><strong>a</strong></td><td style="text-align:center"></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"><strong>✔</strong>    </td></tr><tr><td style="text-align:center"><strong>a+</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"><strong>✔</strong></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"><strong>✔</strong></td></tr></tbody></table><font color="#FF7F00"><strong>总结：</strong></font><br>1. w 和 a 都是<font color="#FF7F00"><strong>写入不能读内容</strong></font>，前者是覆盖，后者是追加内容。<br>2. w+ 和 a+ 都是<font color="#FF7F00"><strong>写入且能读内容</strong></font>，前者是覆盖，后者是追加内容。<br><br><br><br><br>以下实例将字符串写入到文件 foo.txt 中：<br><br><font color="#FF7F00"></font><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 打开一个文件</span>f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"g:/PythonSt/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"a+"</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">:</span>    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span> <span class="token string">"Python 是一个非常好的语言。\n是的，的确非常好!!\n"</span> <span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"文件打开失败"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 关闭打开的文件</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>此时打开文件 foo<span class="token punctuation">.</span>txt<span class="token punctuation">,</span>显示如下：Python 是一个非常好的语言。是的，的确非常好!!</code></pre><blockquote><ol><li>第一个参数为要打开的文件名。</li><li>第二个参数描述文件如何使用的字符。 mode 可以是 <code>r</code> 如果文件只读, <code>w</code> 只用于写 (如果存在同名文件则将被删除), 和 <code>a</code> 用于追加文件内容; 所写的任何数据都会被自动增加到末尾. <code>r+</code> 同时用于读写。 mode 参数是可选的; <code>r</code> 将是默认值。</li></ol></blockquote><p><br></p><p><br></p><h4 id="1-2-f-write"><a href="#1-2-f-write" class="headerlink" title="1.2 f.write()"></a><font color="#3CB371" face="Comic sans MS">1.2 f.write()</font></h4><p><br></p><table><thead><tr><th style="text-align:left">语法格式</th><th style="text-align:left">参数说明</th><th style="text-align:left">返回类型</th></tr></thead><tbody><tr><td style="text-align:left">f.write(string)</td><td style="text-align:left">将 string 写入到文件中</td><td style="text-align:left">返回写入的字符数</td></tr></tbody></table><p><br></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 打开一个文件</span>f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"g:/pythonst/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span>num <span class="token operator">=</span> f<span class="token punctuation">.</span>write<span class="token punctuation">(</span> <span class="token string">"16845654316532"</span> <span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 关闭打开的文件</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT： <span class="token number">14</span></code></pre><p><br></p><p><br></p><h4 id="1-3-f-read"><a href="#1-3-f-read" class="headerlink" title="1.3 f.read()"></a><font color="#3CB371" face="Comic sans MS">1.3 f.read()</font></h4><p>为了读取一个文件的内容，调用 <code>f.read(size)</code>, 这将读取一定数目的数据, 然后作为字符串或字节对象返回。</p><p>size 是一个可选的数字类型的参数。 当 size 被忽略了或者为负, 那么该文件的所有内容都将被读取并且返回。</p><p><strong>注意：</strong><font color="#FF7F00"><strong><code>f.read(size)</code>必须在<code>r</code>或者<code>r+</code>模式下来读取内容。</strong></font></p><table><thead><tr><th style="text-align:left">语法格式</th><th style="text-align:left">参数说明</th><th style="text-align:left">返回类型</th></tr></thead><tbody><tr><td style="text-align:left">f.read(size)</td><td style="text-align:left">文件读取指定的字节数（读取的时候文件内容的<br>一个字符按一个字节来读），如果未给定或为负则读取所有</td><td style="text-align:left">字符串或字节对象返回</td></tr></tbody></table><p><br></p><p>以下实例假定文件 foo.txt 已存在（上面实例中已创建）：</p><pre class=" language-python"><code class="language-python"><span class="token triple-quoted-string string">'''foo.txt文件内容为16845654316532'''</span><span class="token comment" spellcheck="true"># 打开一个文件</span>f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"g:/PythonSt/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"r+"</span><span class="token punctuation">)</span>  m <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span>m<span class="token punctuation">,</span>int<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token keyword">is</span> str<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 关闭打开的文件</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT：<span class="token number">168456</span>      <span class="token triple-quoted-string string">'''把一个字符当作一个字节读取'''</span><span class="token boolean">False</span>       <span class="token triple-quoted-string string">'''isinstance(变量,类型)判断变量的类型'''</span><span class="token boolean">True</span>        <span class="token triple-quoted-string string">'''type()...is 也可以判断类型'''</span></code></pre><p><br></p><p><br></p><h4 id="1-4-f-close"><a href="#1-4-f-close" class="headerlink" title="1.4 f.close()"></a><font color="#3CB371" face="Comic sans MS">1.4 f.close()</font></h4><p>在文本文件中 (那些打开文件的模式下没有 b 的), 只会相对于文件起始位置进行定位。</p><p>当你处理完一个文件后, 调用 f.close() 来关闭文件并释放系统的资源，<font color="#FF7F00"><strong>如果尝试再调用该文件，则会抛出异常</strong></font>。如下：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 打开一个文件</span>f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"g:/pythonst/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span>num <span class="token operator">=</span> f<span class="token punctuation">.</span>write<span class="token punctuation">(</span> <span class="token string">"16845654316532"</span> <span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 关闭打开的文件</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>OUTPUT： <span class="token number">14</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"3-7.py"</span><span class="token punctuation">,</span> line <span class="token number">8</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>ValueError<span class="token punctuation">:</span> I<span class="token operator">/</span>O operation on closed file<span class="token punctuation">.</span></code></pre><p><br></p><p>由于文件读写时都有可能产生IOError，一旦出错，后面的f.close()就不会调用。所以，为了保证无论是否出错都能正确地关闭文件，我们可以使用<font color="#FF7F00"><strong><code>try ... finally</code></strong></font>来实现：</p><pre class=" language-python"><code class="language-python"><span class="token triple-quoted-string string">'''foo.txt内容为16845654316532'''</span><span class="token keyword">try</span><span class="token punctuation">:</span>    f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"g:/PythonSt/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"r+"</span><span class="token punctuation">)</span>      m <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token keyword">finally</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> f<span class="token punctuation">:</span>        f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT： <span class="token number">168456</span></code></pre><p><br></p><p>但是每次都这么写实在太繁琐，所以，Python引入了<font color="#FF7F00"><strong><code>with</code>语句搭配<code>as</code></strong></font>来自动帮我们调用close()方法：</p><pre class=" language-python"><code class="language-python"><span class="token triple-quoted-string string">'''foo.txt内容为16845654316532'''</span><span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"g:/PythonSt/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"r+"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>OUTPUT： <span class="token number">16845654316532</span></code></pre><p><br></p><p><br></p><h4 id="1-5-f-readline"><a href="#1-5-f-readline" class="headerlink" title="1.5 f.readline()"></a><font color="#3CB371" face="Comic sans MS">1.5 f.readline()</font></h4><p><br></p><table><thead><tr><th style="text-align:left">语法格式</th><th style="text-align:left">参数说明</th><th style="text-align:left">返回类型</th></tr></thead><tbody><tr><td style="text-align:left">fileObject.readline(size)</td><td style="text-align:left">size为从文件中读取的字节数。<br>从文件读取整行，（包括 “\n” 字符。）</td><td style="text-align:left">size非负数则返回指定大小的字节数，<br>包括”\n”字符。</td></tr></tbody></table><p><br></p><p>实例<br>以下实例演示了 readline() 方法的使用：</p><p>文件 runoob.txt 的内容如下：</p><p><code>www.runoob.com&#39;\n&#39;</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 打开文件</span>fo <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"runoob.txt"</span><span class="token punctuation">,</span> <span class="token string">"r+"</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"文件名为: "</span><span class="token punctuation">,</span> fo<span class="token punctuation">.</span>name<span class="token punctuation">)</span>line <span class="token operator">=</span> fo<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"读取第一行 %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span>line <span class="token operator">=</span> fo<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"读取的字符串为: %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 关闭文件</span>fo<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT<span class="token punctuation">:</span>文件名为<span class="token punctuation">:</span>  runoob<span class="token punctuation">.</span>txt读取第一行 www<span class="token punctuation">.</span>runoob<span class="token punctuation">.</span>com<span class="token string">'\n'</span>读取的字符串为<span class="token punctuation">:</span> www<span class="token punctuation">.</span>r</code></pre><p><br></p><p><br></p><h4 id="1-6-f-readlines"><a href="#1-6-f-readlines" class="headerlink" title="1.6 f.readlines()"></a><font color="#3CB371" face="Comic sans MS">1.6 f.readlines()</font></h4><p>概述<br>readlines() 方法用于读取所有行(直到结束符 EOF)并返回列表，该列表可以由 Python 的 for… in … 结构进行处理。 如果碰到结束符 EOF 则返回空字符串。</p><p>如果碰到结束符 EOF 则返回空字符串。<br>关于EOF可参考：<font color="#00B2EE">[<a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">文件结束符EOF</a>]</font> </p><p><br></p><table><thead><tr><th style="text-align:left">语法格式</th><th style="text-align:left">参数说明</th><th style="text-align:left">返回类型</th></tr></thead><tbody><tr><td style="text-align:left">fileObject.readlines( )</td><td style="text-align:left">无参数</td><td style="text-align:left">返回列表，包含所有的行。</td></tr></tbody></table><p><br></p><p>实例<br>以下实例演示了 readline() 方法的使用：</p><p>文件 runoob.txt 的内容如下：</p><p><code>www.runoob.com&#39;\n&#39;</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code></p><pre class=" language-python"><code class="language-python">请自行区分下面两种输出方式：（<span class="token number">1</span>）<span class="token comment" spellcheck="true"># 打开文件</span>fo <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"runoob.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"文件名为: "</span><span class="token punctuation">,</span> fo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fo<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 关闭文件</span>fo<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT：<span class="token punctuation">[</span><span class="token string">"www.runoob.com'\\n'\n"</span><span class="token punctuation">,</span> <span class="token string">'www.runoob.com\n'</span><span class="token punctuation">,</span> <span class="token string">'www.runoob.com\n'</span><span class="token punctuation">,</span> <span class="token string">'www.runoob.com\n'</span><span class="token punctuation">,</span> <span class="token string">'www.runoob.com'</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>（<span class="token number">2</span>）<span class="token comment" spellcheck="true"># 打开文件</span>fo <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"runoob.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"文件名为: "</span><span class="token punctuation">,</span> fo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token keyword">for</span> line <span class="token keyword">in</span> fo<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                          <span class="token comment" spellcheck="true">#依次读取每行  </span>    line <span class="token operator">=</span> line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>                             <span class="token comment" spellcheck="true">#去掉每行头尾空白  </span>    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"读取的数据为: %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 关闭文件</span>fo<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT：文件名为<span class="token punctuation">:</span>  runoob<span class="token punctuation">.</span>txt读取的数据为<span class="token punctuation">:</span> www<span class="token punctuation">.</span>runoob<span class="token punctuation">.</span>com<span class="token string">'\n'</span>读取的数据为<span class="token punctuation">:</span> www<span class="token punctuation">.</span>runoob<span class="token punctuation">.</span>com读取的数据为<span class="token punctuation">:</span> www<span class="token punctuation">.</span>runoob<span class="token punctuation">.</span>com读取的数据为<span class="token punctuation">:</span> www<span class="token punctuation">.</span>runoob<span class="token punctuation">.</span>com读取的数据为<span class="token punctuation">:</span> www<span class="token punctuation">.</span>runoob<span class="token punctuation">.</span>com</code></pre><p><br></p><p><br></p><h4 id="1-7-f-tell"><a href="#1-7-f-tell" class="headerlink" title="1.7 f.tell()"></a><font color="#3CB371" face="Comic sans MS">1.7 f.tell()</font></h4><p>f.tell() 返回文件对象当前所处的位置, 它是从文件开头开始算起的字节数。</p><table><thead><tr><th style="text-align:left">语法格式</th><th style="text-align:left">参数说明</th><th style="text-align:left">返回类型</th></tr></thead><tbody><tr><td style="text-align:left">f.tell()</td><td style="text-align:left">无参数</td><td style="text-align:left">返回文件指针的当前位置（整数）</td></tr></tbody></table><p><br></p><p>实例<br>以下实例演示了 readline() 方法的使用：</p><p>文件 runoob.txt 的内容如下：</p><p><code>www.runoob.com&#39;\n&#39;</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 打开文件</span>fo <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"runoob.txt"</span><span class="token punctuation">,</span> <span class="token string">"r+"</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"文件名为: "</span><span class="token punctuation">,</span> fo<span class="token punctuation">.</span>name<span class="token punctuation">)</span>line <span class="token operator">=</span> fo<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"读取的数据为: %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 获取当前文件位置</span>pos <span class="token operator">=</span> fo<span class="token punctuation">.</span>tell<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"当前位置: %d"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 关闭文件</span>fo<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT：文件名为<span class="token punctuation">:</span>  runoob<span class="token punctuation">.</span>txt读取的数据为<span class="token punctuation">:</span> www<span class="token punctuation">.</span>runoob<span class="token punctuation">.</span>com<span class="token string">'\n'</span>当前位置<span class="token punctuation">:</span> <span class="token number">20</span></code></pre><p><br></p><p><br></p><h4 id="1-8-f-seek"><a href="#1-8-f-seek" class="headerlink" title="1.8 f.seek()"></a><font color="#3CB371" face="Comic sans MS">1.8 f.seek()</font></h4><p>如果要改变文件当前的位置, 可以使用 f.seek(offset, from_what) 函数。</p><p>from_what 的值, 如果是 0 表示开头, 如果是 1 表示当前位置, 2 表示文件的结尾。from_what 值为默认为0，即文件开头。例如：</p><p>seek(x,0) ： 从起始位置即文件首行首字符开始移动 x 个字符<br>seek(x,1) ： 表示从当前位置往后移动x个字符<br>seek(-x,2)：表示从文件的结尾往前移动x个字符</p><table><thead><tr><th style="text-align:left">语法格式</th><th style="text-align:left">参数说明</th><th style="text-align:left">返回类型</th></tr></thead><tbody><tr><td style="text-align:left"> f.seek(offset[, whence])</td><td style="text-align:left">offset： 开始的偏移量，也就是代表需要移动偏移的字节数，<br>如果是负数表示从倒数第几位开始。<br>whence：可选，默认值为 0。给 offset 定义一个参数，<br>表示要从哪个位置开始偏移；0 代表从文件开头开始算起，<br>1 代表从当前位置开始算起，2 代表从文件末尾算起。</td><td style="text-align:left">无返回值</td></tr></tbody></table><p><br></p><p>实例<br>以下实例演示了 readline() 方法的使用：</p><p>文件 runoob.txt 的内容如下：</p><p><code>www.runoob.com&#39;\n&#39;</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code><br><code>www.runoob.com</code></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 打开文件</span>fo <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"runoob.txt"</span><span class="token punctuation">,</span> <span class="token string">"r+"</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"文件名为: "</span><span class="token punctuation">,</span> fo<span class="token punctuation">.</span>name<span class="token punctuation">)</span>line <span class="token operator">=</span> fo<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"读取的数据为: %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 重新设置文件读取指针到开头</span>fo<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>line <span class="token operator">=</span> fo<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"读取的数据为: %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 关闭文件</span>fo<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT：文件名为<span class="token punctuation">:</span>  runoob<span class="token punctuation">.</span>txt读取的数据为<span class="token punctuation">:</span> www<span class="token punctuation">.</span>runoob<span class="token punctuation">.</span>com<span class="token string">'\n'</span>读取的数据为<span class="token punctuation">:</span> www<span class="token punctuation">.</span>runoob<span class="token punctuation">.</span>com<span class="token string">'\n'</span></code></pre><p><br></p><p><br></p><h4 id="1-9-file-对象的方法"><a href="#1-9-file-对象的方法" class="headerlink" title="1.9 file 对象的方法"></a><font color="#3CB371" face="Comic sans MS">1.9 file 对象的方法</font></h4><p><br></p><table><thead><tr><th style="text-align:left">序号</th><th style="text-align:left">方法及描述</th></tr></thead><tbody><tr><td style="text-align:left">1</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.close()</a></font><br>关闭文件。关闭后文件不能再进行读写操作。</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.flush()</a></font> <br>刷新文件内部缓冲，直接把内部缓冲区的数据立刻写入文件,<br>而不是被动的等待输出缓冲区写入。</td></tr><tr><td style="text-align:left">3</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.fileno()</a></font> <br>返回一个整型的文件描述符(file descriptor FD 整型), <br>可以用在如os模块的read方法等一些底层操作上。</td></tr><tr><td style="text-align:left">4</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.isatty()</a></font><br>如果文件连接到一个终端设备返回 True，否则返回 False。</td></tr><tr><td style="text-align:left">5</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.next()</a></font> <br>返回文件下一行。</td></tr><tr><td style="text-align:left">6</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.read([size])</a></font> <br>从文件读取指定的字节数，如果未给定或为负则读取所有。</td></tr><tr><td style="text-align:left">7</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.readline([size])</a></font> <br>读取整行，包括 “\n” 字符。</td></tr><tr><td style="text-align:left">8</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.readlines([sizeint])</a></font><br> 读取所有行并返回列表，若给定sizeint&gt;0，返回总和大约为sizeint字节的行, <br>实际读取值可能比 sizeint 较大, 因为需要填充缓冲区。</td></tr><tr><td style="text-align:left">9</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.seek(offset[, whence])</a></font> <br>设置文件当前位置</td></tr><tr><td style="text-align:left">10</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.tell()</a></font> <br>返回文件当前位置。</td></tr><tr><td style="text-align:left">11</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.truncate([size])</a></font> <br>从文件的首行首字符开始截断，截断文件为 size 个字符，无 size 表示从当前位置截断；<br>截断之后后面的所有字符被删除，其中 Widnows 系统下的换行代表2个字符大小。</td></tr><tr><td style="text-align:left">12</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.write(str)</a></font> <br>将字符串写入文件，返回的是写入的字符长度。</td></tr><tr><td style="text-align:left">13</td><td style="text-align:left"><font color="#00B2EE"><a href="https://blog.csdn.net/polar9527/article/details/38518703" target="_blank" rel="noopener">file.writelines(sequence)</a></font> <br>向文件写入一个序列字符串列表，如果需要换行则要自己加入每行的换行符。</td></tr></tbody></table><p><br></p><p><br></p><h3 id="二-在内存读写"><a href="#二-在内存读写" class="headerlink" title="二. 在内存读写"></a><font color="#FF6347" face="Comic sans MS">二. 在内存读写</font></h3><p>可参考：</p><font color="#00B2EE">[<a href="https://blog.51cto.com/limingyu/2320441?source=dra" target="_blank" rel="noopener">StringIO和BytesIO</a>]</font><br><font color="#00B2EE">[<a href="https://www.jianshu.com/p/b74a83e0f9fc" target="_blank" rel="noopener">Python文件读写、StringIO和BytesIO</a>]</font><p><br></p><p>IO在计算机中指Input/Output，也就是输入和输出。由于程序和运行时数据是在内存中驻留，由CPU这个超快的计算核心来执行，涉及到数据交换的地方，通常是磁盘、网络等，就需要IO接口。</p><p>由于CPU和内存的速度远远高于外设的速度，所以，在IO编程中，就存在速度严重不匹配的问题。举个例子来说，比如要把100M的数据写入磁盘，CPU输出100M的数据只需要0.01秒，可是磁盘要接收这100M数据可能需要10秒，怎么办呢？有两种办法：</p><p>第一种是CPU等着，也就是程序暂停执行后续代码，等100M的数据在10秒后写入磁盘，再接着往下执行，这种模式称为同步IO；</p><p>另一种方法是CPU不等待，只是告诉磁盘，“您老慢慢写，不着急，我接着干别的事去了”，于是，后续代码可以立刻接着执行，这种模式称为异步IO。</p><p>很明显，使用异步IO来编写程序性能会远远高于同步IO，但是异步IO的缺点是编程模型复杂。</p><p>操作IO的能力都是由操作系统提供的，每一种编程语言都会把操作系统提供的低级C接口封装起来方便使用，Python也不例外。我们后面会详细讨论Python的IO编程接口。</p><p>注意，本章的IO编程都是同步模式，异步IO由于复杂度太高，后续涉及到服务器端程序开发时我们再讨论。</p><p><br></p><p>就单独说一下Python的input()和print()：</p><p><strong>input()：</strong> 在控制台把数据输入到内存中，然后从内存中把数据以字符串形式返回给调用处；</p><p><strong>print()：</strong> 从内存中输出括号里的相对应的信息。</p><p><br></p><h4 id="2-1-StringIO"><a href="#2-1-StringIO" class="headerlink" title="2.1 StringIO"></a><font color="#3CB371" face="Comic sans MS">2.1 StringIO</font></h4><p>很多时候，数据读写不一定是文件，也可以在<font color="#FF7F00"><strong>内存中</strong></font>读写。</p><p>StringIO是IO模块中的类，所以使用的时候要引用模块： <code>from io import StringIO</code></p><p>StringIO顾名思义就是<font color="#FF7F00"><strong>在内存中读写str</strong></font>。</p><ul><li><p>内存中，开辟的一个文本模式的buffer,可以像文件对象一样操作它；</p></li><li><p>当使用close()前写入的数据是<font color="#FF7F00"><strong>使用追加模式</strong></font>；</p></li><li><p>当close方法被调用的时候，这个buffer会被释放；</p></li></ul><p><strong>好处：</strong></p><p>  一般来说，磁盘的操作比内存的操作要慢得多；内存足够的情况下，一般的优化思路是少落地，减少磁盘IO的过程，可以大大提高程序的运行效率。</p><blockquote><p><strong>使用到的方法：</strong></p><ul><li><font color="#FF7F00"><strong>StringIO()：</strong></font>创建一个StringIO对象，类似文件的<code>open()</code>方法，创建的这个对象要赋值给一个变量；</li><li><font color="#FF7F00"><strong>f.write(‘String’)：</strong></font>将字符String写入到内存，返回写入的字节数（一个字符按一个字节算）；</li><li><font color="#FF7F00"><strong>f.getvalue(size)：</strong></font>从内存中读取size个字节（一个字符按一个字节算），若无参数则读取全部字节；</li><li><font color="#FF7F00"><strong>f.readable()：</strong></font>判断IO是否可读；</li><li><font color="#FF7F00"><strong>f.writable()：</strong></font>判断IO是否可写；</li><li><font color="#FF7F00"><strong>f.seekable()：</strong></font>指针是否可操作。</li></ul></blockquote><p>要把str写入StringIO，我们需要先创建一个StringIO，然后，像文件一样写入即可：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> io <span class="token keyword">import</span> StringIO<span class="token comment" spellcheck="true">#内存中构建</span>f <span class="token operator">=</span> StringIO<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#像文件对象一样操作  这里一定要赋值给一个变量!</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>readable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> f<span class="token punctuation">.</span>writable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> f<span class="token punctuation">.</span>seekable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"Hello\nPython"</span><span class="token punctuation">)</span>f<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#无视指针，输出全部内容</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT：<span class="token boolean">True</span> <span class="token boolean">True</span> <span class="token boolean">True</span>HelloHelloPython</code></pre><p><br></p><p><br></p><h4 id="2-2-BytesIO"><a href="#2-2-BytesIO" class="headerlink" title="2.2 BytesIO"></a><font color="#3CB371" face="Comic sans MS">2.2 BytesIO</font></h4><p>StringIO操作的只能是str，如果要操作<font color="#FF7F00"><strong>二进制数据</strong></font>，就需要使用BytesIO。</p><p>BytesIO是IO模块中的类，所以使用的时候要引用模块：<code>from io import BytesIO</code></p><ul><li><p>内存中，开辟的一个二进制模式的buffer，可以像文件对象一样操作它；</p></li><li><p>当使用close()前写入的数据是<font color="#FF7F00"><strong>使用追加模式</strong></font>；</p></li><li><p>当close方法被调用的时候，这个buffer会被释放；</p></li><li><p>使用到的方法和StringIO一样，不过一个读的是字符一个读的是字节。</p></li></ul><p><br></p><p>BytesIO实现了在内存中读写bytes，我们创建一个BytesIO，然后写入一些bytes：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> io <span class="token keyword">import</span> BytesIOff <span class="token operator">=</span> BytesIO<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>ff<span class="token punctuation">.</span>readable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ff<span class="token punctuation">.</span>writable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ff<span class="token punctuation">.</span>seekable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>ff<span class="token punctuation">.</span>write<span class="token punctuation">(</span>b<span class="token string">'Hello\nPython'</span><span class="token punctuation">)</span>ff<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>ff<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>ff<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>ff<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>ff<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>OUTPUT：<span class="token boolean">True</span> <span class="token boolean">True</span> <span class="token boolean">True</span>b<span class="token string">'Hello\n'</span>b<span class="token string">'Hello\nPython\xe4\xb8\xad\xe6\x96\x87'</span></code></pre><p><br></p><p><strong>file-like对象</strong></p><p>类文件对象，可以像文件对象一样操作；</p><p>socket对象，输入输出对象(stdin、stdout)都是类文件对象</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> sys <span class="token keyword">import</span> stdoutf <span class="token operator">=</span> stdout<span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"90data.net"</span><span class="token punctuation">)</span>OUTPUT：<span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'_io.TextIOWrapper'</span><span class="token operator">></span>90data<span class="token punctuation">.</span>net</code></pre><p><br></p><p><br></p><h3 id="三-操作目录"><a href="#三-操作目录" class="headerlink" title="三. 操作目录"></a><font color="#FF6347" face="Comic sans MS">三. 操作目录</font></h3><p>如果我们要操作文件、目录，可以在命令行下面输入操作系统提供的各种命令来完成。比如dir、cp等命令。</p><p>如果要在Python程序中执行这些目录和文件的操作怎么办？其实操作系统提供的命令只是简单地调用了操作系统提供的接口函数，Python内置的<font color="#FF7F00"><strong>os模块</strong></font>也可以直接<font color="#FF7F00"><strong>调用操作系统提供的接口函数</strong></font>。</p><font face="Comic sans MS"><font color="#00B2EE">具体方法：[<a href="http://www.runoob.com/python3/python3-os-file-methods.html" target="_blank" rel="noopener">Python3 OS 文件/目录方法</a>]</font><br></font><p>打开Python交互式命令行，我们来看看如何使用os模块的基本功能：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token triple-quoted-string string">'''如果是posix，说明系统是Linux、Unix或Mac OS X，                   如果是nt，就是Windows系统。'''</span>os<span class="token punctuation">.</span>uname<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token triple-quoted-string string">'''注意uname()函数在Windows上不提供，也就是说，                     os模块的某些函数是跟操作系统相关的。'''</span>os<span class="token punctuation">.</span>environ        <span class="token triple-quoted-string string">'''在操作系统中定义的环境变量，全部保存在os.environ                     这个变量中'''</span>os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>  <span class="token triple-quoted-string string">'''要获取某个环境变量的值，可以调用os.environ.get('key')，                        如os.environ.get('PATH')'''</span><span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token triple-quoted-string string">'''查看当前目录的绝对路径:'''</span></code></pre><p><br></p><p><strong>操作文件和目录</strong></p><p>操作文件和目录的函数一部分放在os模块中，一部分放在os.path模块中，这一点要注意一下。查看、创建和删除目录可以这么调用：</p><pre class=" language-python"><code class="language-python">查看当前目录的绝对路径<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token string">'/Users/michael'</span>在某个目录下创建一个新目录，首先把新目录的完整路径表示出来<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'/Users/michael'</span><span class="token punctuation">,</span> <span class="token string">'testdir'</span><span class="token punctuation">)</span><span class="token string">'/Users/michael/testdir'</span>然后创建一个目录<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">)</span>删掉一个目录<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>把两个路径合成一个时，不要直接拼字符串，而要通过os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>函数，这样可以正确处理不同操作系统的路径分隔符。在Linux<span class="token operator">/</span>Unix<span class="token operator">/</span>Mac下，os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span>返回这样的字符串：part<span class="token number">-1</span><span class="token operator">/</span>part<span class="token number">-2</span>而Windows下会返回这样的字符串：part<span class="token number">-1</span>\part<span class="token number">-2</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>同样的道理，要拆分路径时，也不要直接去拆字符串，而要通过os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>函数，这样可以把一个路径拆分为两部分，后一部分总是最后级别的目录或文件名：<span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir/file.txt'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">,</span> <span class="token string">'file.txt'</span><span class="token punctuation">)</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span><span class="token punctuation">)</span>可以直接让你得到文件扩展名，很多时候非常方便：<span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span><span class="token string">'/path/to/file.txt'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token string">'.txt'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>同样的道理，要拆分路径时，也不要直接去拆字符串，而要通过os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>函数，这样可以把一个路径拆分为两部分，后一部分总是最后级别的目录或文件名：<span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir/file.txt'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'/Users/michael/testdir'</span><span class="token punctuation">,</span> <span class="token string">'file.txt'</span><span class="token punctuation">)</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span><span class="token punctuation">)</span>可以直接让你得到文件扩展名，很多时候非常方便：<span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span><span class="token string">'/path/to/file.txt'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token string">'.txt'</span><span class="token punctuation">)</span>这些合并、拆分路径的函数并不要求目录和文件要真实存在，它们只对字符串进行操作。<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>文件操作使用下面的函数。假定当前目录下有一个test<span class="token punctuation">.</span>txt文件： 对文件重命名<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span><span class="token string">'test.txt'</span><span class="token punctuation">,</span> <span class="token string">'test.py'</span><span class="token punctuation">)</span> 删掉文件<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'test.py'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>但是复制文件的函数居然在os模块中不存在！原因是复制文件并非由操作系统提供的系统调用。理论上讲，我们通过上一节的读写文件可以完成文件复制，只不过要多写很多代码。幸运的是shutil模块提供了copyfile<span class="token punctuation">(</span><span class="token punctuation">)</span>的函数，你还可以在shutil模块中找到很多实用函数，它们可以看做是os模块的补充。<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>最后看看如何利用Python的特性来过滤文件。比如我们要列出当前目录下的所有目录，只需要一行代码：<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'.lein'</span><span class="token punctuation">,</span> <span class="token string">'.local'</span><span class="token punctuation">,</span> <span class="token string">'.m2'</span><span class="token punctuation">,</span> <span class="token string">'.npm'</span><span class="token punctuation">,</span> <span class="token string">'.ssh'</span><span class="token punctuation">,</span> <span class="token string">'.Trash'</span><span class="token punctuation">,</span> <span class="token string">'.vim'</span><span class="token punctuation">,</span> <span class="token string">'Applications'</span><span class="token punctuation">,</span> <span class="token string">'Desktop'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>要列出所有的<span class="token punctuation">.</span>py文件，也只需一行代码：<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">and</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'.py'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'apis.py'</span><span class="token punctuation">,</span> <span class="token string">'config.py'</span><span class="token punctuation">,</span> <span class="token string">'models.py'</span><span class="token punctuation">,</span> <span class="token string">'pymonitor.py'</span><span class="token punctuation">,</span> <span class="token string">'test_db.py'</span><span class="token punctuation">,</span> <span class="token string">'urls.py'</span><span class="token punctuation">,</span> <span class="token string">'wsgiapp.py'</span><span class="token punctuation">]</span></code></pre><p><br></p><p><br></p><h3 id="四-序列化"><a href="#四-序列化" class="headerlink" title="四. 序列化"></a><font color="#FF6347" face="Comic sans MS">四. 序列化</font></h3><p>序列化参读资料：</p><font face="Comic sans MS"><font color="#00B2EE">《<a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143192607210600a668b5112e4a979dd20e4661cc9c97000" target="_blank" rel="noopener">廖雪峰的官方网站 序列化</a>》</font><br></font><br><font face="Comic sans MS"><font color="#00B2EE">《<a href="https://www.cnblogs.com/yyds/p/6563608.html" target="_blank" rel="noopener">Python之数据序列化（json、pickle、shelve）</a>》</font><br></font><br><font face="Comic sans MS"><font color="#00B2EE">《<a href="https://www.cnblogs.com/zhangxinqi/p/8034380.html" target="_blank" rel="noopener">python3之序列化（pickle&amp;json&amp;shelve）</a>》</font><br></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Python是 文件对象.write()，PHP是fwrite() 😀…&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-模块和包</title>
    <link href="Treecatee.gitgub.io/post/python-modules-packages/"/>
    <id>Treecatee.gitgub.io/post/python-modules-packages/</id>
    <published>2019-03-03T10:28:06.000Z</published>
    <updated>2019-03-06T16:36:20.361Z</updated>
    
    <content type="html"><![CDATA[<p>from…import…😀<br><a id="more"></a></p><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>模块和包</strong></font> </center><p><br></p><p><br></p><h3 id="一-模块与包的意义"><a href="#一-模块与包的意义" class="headerlink" title="一. 模块与包的意义"></a><font color="#FF6347" face="Comic sans MS">一. 模块与包的意义</font></h3><p><br></p><h4 id="1-1-什么是模块？"><a href="#1-1-什么是模块？" class="headerlink" title="1.1 什么是模块？"></a><font color="#3CB371" face="Comic sans MS">1.1 什么是模块？</font></h4><blockquote><font color="#FF7F00"><strong>在Python中，一个.py文件就称之为一个模块（Module）。</strong></font></blockquote><p><br></p><h4 id="1-2-为什么要使用模块？"><a href="#1-2-为什么要使用模块？" class="headerlink" title="1.2 为什么要使用模块？"></a><font color="#3CB371" face="Comic sans MS">1.2 为什么要使用模块？</font></h4><ul><li><p>为了编写可维护的代码，我们把很多函数分组，分别放到不同的文件里，这样，每个文件包含的代码就相对较少，很多编程语言都采用这种组织代码的方式。</p></li><li><p>随着程序的发展，功能越来越多，为了方便管理，我们通常将程序分成一个个的文件，这样做程序的结构更清晰，方便管理。这时我们不仅仅可以把这些文件当做脚本去执行，还可以把他们当做模块来导入到其他的模块中，实现了功能的重复利用。</p></li><li><p>我们在编写程序的时候，也经常引用其他模块，包括Python内置的模块和来自第三方的模块。</p></li><li><p>使用模块还可以避免函数名和变量名冲突。相同名字的函数和变量完全可以分别存在不同的模块中，因此，我们自己在编写模块时，不必考虑名字会与其他模块冲突。但是也要注意，尽量不要与内置函数名字冲突。</p></li></ul><p><br></p><h4 id="1-3-什么是包？"><a href="#1-3-什么是包？" class="headerlink" title="1.3 什么是包？"></a><font color="#3CB371" face="Comic sans MS">1.3 什么是包？</font></h4><ol><li><p>如果不同的人编写的模块名相同怎么办？为了避免模块名冲突，Python又引入了按目录（文件夹）来组织模块的方法，称为包（Package）。</p></li><li><p>包是目录级的（文件夹级），文件夹是用来组成py文件（包的本质就是一个包含<code>__init__.py</code>文件的目录）</p></li><li><p><font color="#FF7F00"><strong>每一个包目录下面都会有一个 <code>__init__.py</code> 的文件，这个文件是必须存在的，否则，Python就把这个目录当成普通目录，而不是一个包</strong></font>。它可以是空文件，也可以有Python代码，因为 <code>__init__.py</code> 本身就是一个模块。</p></li><li><p>import导入文件时，产生名称空间中的名字来源于文件，import 包，产生的名称空间的名字同样来源于文件，即包下的 <code>__init__.py</code> ，<font color="#FF7F00"><strong>导入包本质就是在导入该文件</strong></font>。</p></li><li><p>文件夹里面还可以包含文件夹（可以有多级目录，组成多级层次的包结构）。但是每一个文件夹下面必须有一个 <code>__init__.py</code> 文件。</p></li><li><p>自己创建模块时要注意命名，不能和Python自带的模块名称冲突。例如，系统自带了sys模块，自己的模块就不可命名为sys.py，否则将无法导入系统自带的sys模块。</p></li></ol><p><br></p><font face="Comic sans MS"><strong>举例说明：</strong></font><p>有个包按照如下目录存放文件：</p><p>mycompany<br>├─ __init__.py<br>├─ abc.py<br>└─ xyz.py</p><blockquote><p>引入了包以后，只要顶层的包名不与别人冲突，那所有模块都不会与别人冲突。现在，<strong><code>abc.py</code></strong> 模块的名字就变成了 <strong><code>mycompany.abc</code></strong> ，类似的，<strong><code>xyz.py</code></strong> 的模块名变成了 <strong><code>mycompany.xyz</code></strong> 。</p></blockquote><p><br></p><p>类似的，可以有多级目录，组成多级层次的包结构。比如如下的目录结构：</p><p>mycompany<br> ├─ web<br> │  ├─ __init__.py<br> │  ├─ utils.py<br> │  └─ <a href="http://www.py" target="_blank" rel="noopener">www.py</a><br> ├─ __init__.py<br> ├─ abc.py<br> └─ xyz.py</p><blockquote><p><strong>文件<code>www.py</code> 的模块名就是<code>mycompany.web.www</code>，两个文件utils.py的模块名分别是<code>mycompany.utils</code>和 <code>mycompany.web.utils</code></strong></p></blockquote><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>总结</strong></font><p>模块是一组Python代码的集合，可以使用其他模块，也可以被其他模块使用。</p><blockquote><p><font color="#FF7F00"><strong>创建自己的模块时，要注意：</strong></font></p><ul><li>模块名要遵循Python变量命名规范，不要使用中文、特殊字符；</li><li>模块名不要和系统模块名冲突，最好先查看系统是否已存在该模块，检查方法是在Python交互环境执行import abc，若成功则说明系统存在此模块。</li></ul></blockquote><p><br></p><p><br></p><h3 id="二-使用模块-无包组织"><a href="#二-使用模块-无包组织" class="headerlink" title="二. 使用模块 -- 无包组织"></a><font color="#FF6347" face="Comic sans MS">二. 使用模块 -- 无包组织</font></h3><p><br></p><blockquote><p><font color="#FF7F00"><strong>使用模块的几种语句：</strong></font></p><ul><li><strong>import 语句：</strong> <strong><code>import module1[, module2[,... moduleN]</code></strong></li><li><strong>from … import 语句：</strong> <strong><code>from  modname import  name1[, name2[, ... nameN]]</code></strong> </li><li><strong>from … import * 语句：</strong> <strong><code>from  modname import *</code></strong></li><li><strong>__name__属性：</strong> 用来分清该模块是调用者还是被其他模块调用。</li><li><strong>dir() 函数：</strong> 用来查找模块中定义的名字，返回一个有序字符串列表。</li></ul></blockquote><p><br></p><h4 id="2-1-import-语句"><a href="#2-1-import-语句" class="headerlink" title="2.1 import 语句"></a><font color="#3CB371" face="Comic sans MS">2.1 import 语句</font></h4><p>想使用 Python 源文件，只需在另一个源文件里执行 import 语句，语法如下：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> module1<span class="token punctuation">[</span><span class="token punctuation">,</span> module2<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> moduleN<span class="token punctuation">]</span></code></pre><ol><li><p>使用 Python 源文件，只需在另一个源文件里执行 import 语句。</p></li><li><p>一个模块只会被导入一次，不管你执行了多少次import。这样可以防止导入模块被一遍又一遍地执行。</p></li><li><p>调用者引用模块后可以：<code>模块名.函数名(参数)</code>来使用。</p></li></ol><p><br></p><p>举例说明：<br>当解释器遇到 import 语句，如果模块在当前的搜索路径就会被导入。如想要导入模块 support，需要把命令放在脚本的顶端：</p><pre class=" language-python"><code class="language-python">support<span class="token punctuation">.</span>py 文件代码<span class="token keyword">def</span> <span class="token function">print_func</span><span class="token punctuation">(</span> par <span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Hello : "</span><span class="token punctuation">,</span> par<span class="token punctuation">)</span>    <span class="token keyword">return</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>test<span class="token punctuation">.</span>py 文件代码<span class="token comment" spellcheck="true"># 导入模块</span><span class="token keyword">import</span> support<span class="token comment" spellcheck="true"># 现在可以调用模块里包含的函数了</span>support<span class="token punctuation">.</span>print_func<span class="token punctuation">(</span><span class="token string">"Runoob"</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>运行test<span class="token punctuation">.</span>py实例输出结果：Hello <span class="token punctuation">:</span>  Runoob</code></pre><p><br></p><h4 id="2-2-from-…-import-语句"><a href="#2-2-from-…-import-语句" class="headerlink" title="2.2 from … import 语句"></a><font color="#3CB371" face="Comic sans MS">2.2 from … import 语句</font></h4><p>Python 的 from 语句让你从模块中导入一个指定的部分到当前命名空间中，<strong>这种访问函数时可以直接使用函数名而不需要前缀</strong>，语法如下：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> modname <span class="token keyword">import</span> name1<span class="token punctuation">[</span><span class="token punctuation">,</span> name2<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> nameN<span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre><p><br></p><p>举例说明：<br>例如，要导入模块 fibo 的 fib 函数，使用如下语句：</p><pre class=" language-python"><code class="language-python">fibo<span class="token punctuation">.</span>py<span class="token comment" spellcheck="true"># 斐波那契(fibonacci)数列模块</span><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 定义到 n 的斐波那契数列</span>    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>    <span class="token keyword">while</span> b <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a<span class="token operator">+</span>b    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token operator">//</span>输出为None<span class="token keyword">def</span> <span class="token function">fib2</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># 返回到 n 的斐波那契数列</span>    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>    <span class="token keyword">while</span> b <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>b<span class="token punctuation">)</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a<span class="token operator">+</span>b    <span class="token keyword">return</span> result<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>test<span class="token punctuation">.</span>py<span class="token keyword">from</span> fibo <span class="token keyword">import</span> fib<span class="token punctuation">,</span> fib2<span class="token keyword">print</span><span class="token punctuation">(</span>fib<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fib2<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：<span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">5</span> <span class="token number">8</span> <span class="token number">13</span> <span class="token number">21</span> <span class="token number">34</span> <span class="token number">55</span> <span class="token number">89</span> <span class="token number">144</span> <span class="token number">233</span> <span class="token number">377</span>None<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">144</span><span class="token punctuation">,</span> <span class="token number">233</span><span class="token punctuation">,</span> <span class="token number">377</span><span class="token punctuation">]</span></code></pre><p><br></p><h4 id="2-3-from-…-import-语句"><a href="#2-3-from-…-import-语句" class="headerlink" title="2.3 from … import * 语句"></a><font color="#3CB371" face="Comic sans MS">2.3 from … import * 语句</font></h4><ul><li><p>这提供了一个简单的方法来导入一个模块中的所有项目。然而这种声明不该被过多地使用。</p></li><li><p>这种方法，可以一次性的把模块中的所有（函数，变量）名称都导入到当前模块的字符表。</p></li><li><p>这将把所有的名字都导入进来，但是那些由单一下划线（_）开头的名字不在此例。大多数情况， Python程序员不使用这种方法，因为引入的其它来源的命名，很可能覆盖了已有的定义。</p></li></ul><p><br></p><p>把一个模块的所有内容全都导入到当前的命名空间也是可行的，只需使用如下声明：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> modname <span class="token keyword">import</span> <span class="token operator">*</span></code></pre><p><br></p><p><br></p><h3 id="三-使用模块-有包组织"><a href="#三-使用模块-有包组织" class="headerlink" title="三. 使用模块 -- 有包组织"></a><font color="#FF6347" face="Comic sans MS">三. 使用模块 -- 有包组织</font></h3><ul><li><p>目录只有包含一个叫做 <code>__init__.py</code> 的文件才会被认作是一个包，主要是为了避免一些滥俗的名字（比如叫做 string）不小心的影响搜索路径中的有效模块。</p></li><li><p>最简单的情况，放一个空的 <code>__init__.py</code>就可以了。当然这个文件中也可以包含一些初始化代码或者为（将在后面介绍的） <code>__all__</code>变量赋值。</p></li></ul><p><br></p><font color="#00B2EE" face="Comic sans MS">1. <strong>import 语句：</strong></font><p>用户可以每次只导入一个包里面的特定模块，他必须使用全名去访问:</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> 包名<span class="token punctuation">.</span>子包名<span class="token punctuation">.</span>模块名                 导入模块包名<span class="token punctuation">.</span>子包名<span class="token punctuation">.</span>模块名 <span class="token punctuation">.</span>函数名<span class="token punctuation">(</span>参数<span class="token punctuation">)</span>           使用模块</code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS">2. <strong>import …from 语句：</strong></font>    <p>同样会导入子模块，他不需要那些冗长的前缀，只需要<code>模块名.函数名(参数)</code>即可，推荐使用！</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> 包名<span class="token punctuation">.</span>子包名 <span class="token keyword">import</span> 模块名           导入模块模块名<span class="token punctuation">.</span>函数名<span class="token punctuation">(</span>参数<span class="token punctuation">)</span>                      使用模块</code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS">3. <strong>import …from 语句：</strong></font><p>还有一种变化就是直接导入一个函数或者变量:</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> 包名<span class="token punctuation">.</span>子包名<span class="token punctuation">.</span>模块名  <span class="token keyword">import</span> 函数名      导入模块函数名<span class="token punctuation">(</span>参数<span class="token punctuation">)</span>                               使用模块</code></pre><p><br></p><p><br></p><font color="#00B2EE" face="Comic sans MS">4. <strong>import …from * 语句：</strong></font><blockquote><font color="red" face="Comic sans MS" size="4"><strong>注意：这种导入方法必须要注意<code>__init__.py</code>里面的属性<code>__all__</code>已经设置好。<code>__all__</code>是用于控制from…import *</strong><br></font></blockquote><p>Python 会进入文件系统，找到这个包里面所有的子模块，一个一个的把它们都导入进来。但是很不幸，这个方法在 Windows平台上工作的就不是非常好，因为Windows是一个大小写不区分的系统。</p><p>在这类平台上，没有人敢担保一个叫做 ECHO.py 的文件导入为模块 echo 还是 Echo 甚至 ECHO。</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> 包名<span class="token punctuation">.</span>子包名 <span class="token keyword">import</span> <span class="token operator">*</span>                 导入所有模块模块名<span class="token punctuation">.</span>函数名<span class="token punctuation">(</span>参数<span class="token punctuation">)</span>                        使用模块</code></pre><p><strong>具体使用方法请看下面章节四。</strong></p><p><br></p><blockquote><p><font color="#FF7F00"><strong>总结使用时注意事项：</strong></font></p><ol><li>注意当使用<code>from package import item</code>这种形式的时候，对应的<font color="#FF7F00"><strong>item既可以是包里面的子模块（子包），或者包里面定义的其他名称，比如函数，类或者变量</strong></font>。</li><li>import语法会首先把item当作一个包定义的名称，如果没找到，再试图按照一个模块去导入。如果还没找到，恭喜，一个:exc:ImportError 异常被抛出了。</li><li>反之，如果使用形如<code>import item.subitem.subsubitem</code>这种导入形式，<font color="#FF7F00"><strong>最后一项可以是包或者模块（不可以是类，函数或者变量的名字），除了最后一项，都必须是包。</strong></font>。</li></ol></blockquote><p><br></p><p><br></p><h3 id="四-init-、-all-、-name-、-author-、-doc-、dir-函数"><a href="#四-init-、-all-、-name-、-author-、-doc-、dir-函数" class="headerlink" title="四. __init__、__all__、__name__、__author__、__doc__、dir()函数"></a><font color="#FF6347" face="Comic sans MS">四. __init__、__all__、__name__、__author__、__doc__、dir()函数</font></h3><p><br></p><h4 id="4-1-init-、-all"><a href="#4-1-init-、-all" class="headerlink" title="4.1 __init__、__all__"></a><font color="#3CB371" face="Comic sans MS">4.1 __init__、__all__</font></h4><p>在使用<strong><code>from 包名.子包名 import \* 语句</code></strong>时必须修改<code>__init__.py</code>文件的<code>__all__</code>    列表变量。</p><blockquote><ol><li>如果包定义文件 <code>__init__.py</code> 存在一个叫做 <code>__all__</code>     的列表变量，那么在使用 <code>from package import *</code> 的时候就把这个列表中的所有名字作为包内容导入。</li><li>作为包的作者，可别忘了在更新包之后保证 <code>__all__</code>     也更新了啊。你说我就不这么做，我就不使用导入<code>*</code>这种用法，好吧，没问题。这里有一个例子</li><li>这表示当你使用<code>from sound.effects import *</code>这种用法时，你只会导入如下包里面这三个子模块。即这种语法导入的是<code>__all__</code>指定的模块。</li><li>在python3中，即使包下没有<code>__init__.py</code>文件，import 包仍然不会报错，而在python2中，包下一定要有该文件，否则import 包报错</li><li>import导入文件时，产生名称空间中的名字来源于文件，import 包，产生的名称空间的名字同样来源于文件，即包下的<code>__init__.py</code>，导入包本质就是在导入该文件</li></ol></blockquote><p><br><br>上述的例子：</p><pre class=" language-python"><code class="language-python">__all__ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"echo"</span><span class="token punctuation">,</span> <span class="token string">"surround"</span><span class="token punctuation">,</span> <span class="token string">"reverse"</span><span class="token punctuation">]</span></code></pre><p><br></p><h4 id="4-1-name-、-main"><a href="#4-1-name-、-main" class="headerlink" title="4.1 __name__、__main__"></a><font color="#3CB371" face="Comic sans MS">4.1 __name__、__main__</font></h4><ol><li><p>__name__是一个变量。前后加了爽下划线是因为是因为这是系统定义的名字。普通变量不要使用此方式命名变量。</p></li><li><p>__name__就是标识模块的名字的一个系统变量。这里分两种情况：</p><ol><li>假如当前模块是主模块（也就是调用其他模块的模块），那么此模块名字就是<strong>main</strong>，即__name__==__main__。可以执行后面的内容；</li><li>假如此模块是被import的，其值为被调用模块所属的路径。</li></ol></li></ol><p><br></p><p>下面举一个例子：</p><pre class=" language-python"><code class="language-python">test1<span class="token punctuation">.</span>py<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>   <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'程序自身在运行'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>   <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我来自另一模块'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>test2<span class="token punctuation">.</span>py<span class="token keyword">import</span> test1<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>运行test2<span class="token punctuation">.</span>py输出结果：我来自另一模块运行test1<span class="token punctuation">.</span>py输出结果：程序自身在运行</code></pre><p><br></p><h4 id="4-3-author-、-doc"><a href="#4-3-author-、-doc" class="headerlink" title="4.3 __author__、__doc__"></a><font color="#3CB371" face="Comic sans MS">4.3 __author__、__doc__</font></h4><font color="#FF7F00"><strong>文档注释：</strong></font>任何模块代码的第一个字符串都被视为模块的文档注释；<br><br><font color="#FF7F00"><strong><code>__doc__</code>：</strong></font>可以访问一个文件中的第一个单引号（1、2、3对）、双引号（1、2、3对）注释的文档。<br><br><font color="#FF7F00"><strong><code>__author__</code>：</strong></font>可以将一个文件的作者名字赋给它。<br><br><br><br><br>应用示例如下：<br><font color="#FF7F00"></font><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span><span class="token string">' a test module '</span> <span class="token string">'fgbhjknml'</span>__author__ <span class="token operator">=</span> <span class="token string">'Directoree'</span>a <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>__doc__<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>__doc__<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>__author__<span class="token punctuation">)</span>运行结果：<span class="token number">10</span> a test module a test moduleDirectoree</code></pre><p><br></p><h4 id="4-4-dir-函数"><a href="#4-4-dir-函数" class="headerlink" title="4.4 dir()函数"></a><font color="#3CB371" face="Comic sans MS">4.4 dir()函数</font></h4><blockquote><p>内置的函数 dir() 可以<font color="#FF7F00"><strong>找到模块内定义的所有名称。以一个字符串列表的形式返回</strong></font> 。</p><p><font color="#FF7F00"><strong>无参数：</strong></font> 只能列举当前模块已经被定义的名字；</p><p><font color="#FF7F00"><strong>有参数：</strong></font> 参数只能是已经引用的模块名字，不能为自身名字，否则会报错。</p></blockquote><p><br></p><p>举例子说明：</p><pre class=" language-python"><code class="language-python">test3<span class="token punctuation">.</span>py<span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span><span class="token string">' a test module '</span> <span class="token string">'fgbhjknml'</span>__author__ <span class="token operator">=</span> <span class="token string">'Directoree'</span>a <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">print</span><span class="token punctuation">(</span>__doc__<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>__author__<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>dir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果： a test moduleDirectoree<span class="token punctuation">[</span><span class="token string">'__annotations__'</span><span class="token punctuation">,</span> <span class="token string">'__author__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__cached__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__file__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span> <span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'bbb'</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>test3<span class="token punctuation">.</span>py<span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span><span class="token keyword">import</span> test3  <span class="token keyword">print</span><span class="token punctuation">(</span>dir<span class="token punctuation">(</span>test3<span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：<span class="token punctuation">[</span><span class="token string">'__author__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__cached__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__file__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span> <span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'bbb'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'__author__'</span><span class="token punctuation">,</span> <span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'__cached__'</span><span class="token punctuation">,</span> <span class="token string">'__doc__'</span><span class="token punctuation">,</span> <span class="token string">'__file__'</span><span class="token punctuation">,</span> <span class="token string">'__loader__'</span><span class="token punctuation">,</span> <span class="token string">'__name__'</span><span class="token punctuation">,</span> <span class="token string">'__package__'</span><span class="token punctuation">,</span> <span class="token string">'__spec__'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'bbb'</span><span class="token punctuation">]</span></code></pre><p><br></p><p><br></p><h3 id="五-非公开函数"><a href="#五-非公开函数" class="headerlink" title="五. 非公开函数"></a><font color="#FF6347" face="Comic sans MS">五. 非公开函数</font></h3><blockquote><p><font color="#FF7F00"><strong>外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public</strong></font>。</p></blockquote><p>类似_xxx和__xxx这样的函数或变量就是非公开的（private），不应该被直接引用，比如_abc，__abc等；</p><p>之所以我们说，private函数和变量“不应该”被直接引用，而不是“不能”被直接引用，是因为Python并没有一种方法可以完全限制访问private函数或变量，但是，从编程习惯上不应该引用private函数或变量。</p><p>private函数或变量不应该被别人引用，那它们有什么用呢？请看例子：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">_private_1</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token string">'Hello, %s'</span> <span class="token operator">%</span> name<span class="token keyword">def</span> <span class="token function">_private_2</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token string">'Hi, %s'</span> <span class="token operator">%</span> name<span class="token keyword">def</span> <span class="token function">greeting</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> len<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> _private_1<span class="token punctuation">(</span>name<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> _private_2<span class="token punctuation">(</span>name<span class="token punctuation">)</span></code></pre><p><br></p><p>我们在模块里公开greeting()函数，而把内部逻辑用private函数隐藏起来了，这样，调用greeting()函数不用关心内部的private函数细节，这也是一种非常有用的代码封装和抽象的方法，即：</p><p>外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;from…import…😀&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-生成器与迭代器</title>
    <link href="Treecatee.gitgub.io/post/python-generator-iterator/"/>
    <id>Treecatee.gitgub.io/post/python-generator-iterator/</id>
    <published>2019-03-03T02:33:30.000Z</published>
    <updated>2019-03-06T16:36:54.295Z</updated>
    
    <content type="html"><![CDATA[<p>生成器生成想要的数据，可控制循环暂停，迭代器把可迭代的对象转换为生成器。( ⸝⸝⸝•_•⸝⸝⸝ )♡︎♡︎</p><a id="more"></a><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>生成器与迭代器</strong></font> </center><p><br></p><p><br></p><h3 id="一-迭代、列表生成式"><a href="#一-迭代、列表生成式" class="headerlink" title="一. 迭代、列表生成式"></a><font color="#FF6347" face="Comic sans MS">一. 迭代、列表生成式</font></h3><h4 id="1-1-迭代"><a href="#1-1-迭代" class="headerlink" title="1.1 迭代"></a><font color="#3CB371" face="Comic sans MS">1.1 迭代</font></h4><font color="#FF7F00"><strong>迭代：</strong></font>如果给定一个list或tuple，我们可以通过for循环来遍历这个list或tuple，这种遍历我们称为迭代（Iteration）。<font color="#FF7F00"><strong>Python的for…in循环就是迭代</strong></font>。<br><br>list这种数据类型虽然有下标，但很多其他数据类型是没有下标的，但是，只要是可迭代对象，无论有无下标，都可以迭代，比如dict就可以迭代：<br><br><font color="#FF7F00"></font><pre class=" language-python"><code class="language-python">d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token keyword">for</span> key <span class="token keyword">in</span> d<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>运行结果：abc</code></pre><p><br></p><blockquote><ol><li>因为dict、set的存储不是按照list的方式顺序排列，所以，迭代出的结果顺序很可能不一样。</li><li>默认情况下，dict迭代的是key。如果要迭代value，可以用<code>for value in d.values()</code>，如果要同时迭代key和value，可以用<code>for k, v in d.items()</code>。</li><li>当我们使用for循环时，只要作用于一个<font color="#FF7F00"><strong>可迭代对象</strong></font>，for循环就可以正常运行，而我们不太关心该对象究竟是list还是其他数据类型。</li></ol></blockquote><p>最后一个小问题，如果要对list实现类似Java那样的下标循环怎么办？<font color="#FF7F00"><strong>Python内置的enumerate函数可以把一个list变成索引-元素对</strong></font>，这样就可以在for循环中同时迭代索引和元素本身：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">for</span> i<span class="token punctuation">,</span> value <span class="token keyword">in</span> enumerate<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> value<span class="token punctuation">)</span>运行结果：<span class="token number">0</span> A<span class="token number">1</span> B<span class="token number">2</span> C</code></pre><p><br></p><p><br></p><h4 id="1-2-列表生成式"><a href="#1-2-列表生成式" class="headerlink" title="1.2 列表生成式"></a><font color="#3CB371" face="Comic sans MS">1.2 列表生成式</font></h4><p><strong>规则：</strong>for前面是一个表达式，表示将in后面的元素按照这个表达式进行计算出来后还要看in后面有没有筛选条件，<br>然后赋值给for…in中间的变量。格式如下：</p><font color="#FF7F00"><strong>表达式1 for 变量 in 可迭代对象 [表达式2]</strong></font><p><br></p><p>列表生成式即List Comprehensions，是Python内置的非常简单却强大的可以用来创建list的生成式。</p><p>举个例子，要生成list [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]可以用<code>list(range(1, 11))</code>：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">for</span> a <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>b <span class="token operator">=</span> list<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>运行结果：<span class="token number">1</span><span class="token number">2</span><span class="token number">3</span><span class="token number">4</span><span class="token number">5</span><span class="token number">6</span><span class="token number">7</span><span class="token number">8</span><span class="token number">9</span><span class="token number">10</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span></code></pre><p><br></p><p>但如果要生成[1x1, 2x2, 3x3, …, 10x10]怎么做？方法一是循环：</p><pre class=" language-python"><code class="language-python">L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    L<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>运行结果：<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span></code></pre><p><br></p><p>但是循环太繁琐，而<font color="#FF7F00"><strong>列表生成式</strong></font>则可以用一行语句代替循环生成上面的list：</p><pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>运行结果：<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span></code></pre><p><br></p><pre class=" language-python"><code class="language-python"><span class="token keyword">for</span>前面是一个表达式，表示将<span class="token keyword">in</span>后面的元素按照这个表达式进行计算出来后还要看<span class="token keyword">in</span>后面有没有筛选条件，然后赋值给<span class="token keyword">for</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">in</span>中间的变量。格式如下：表达式<span class="token number">1</span> <span class="token keyword">for</span> 变量 <span class="token keyword">in</span> 可迭代对象 <span class="token punctuation">[</span>表达式<span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span> <span class="token keyword">for</span>循环后面还可以加上<span class="token keyword">if</span>判断，这样我们就可以筛选出仅偶数的平方：a <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>运行结果：<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">.</span> 还可以使用两层循环，可以生成全排列：b <span class="token operator">=</span> <span class="token punctuation">[</span>m <span class="token operator">+</span> n <span class="token keyword">for</span> m <span class="token keyword">in</span> <span class="token string">'ABC'</span> <span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token string">'XYZ'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>运行结果：<span class="token punctuation">[</span><span class="token string">'AX'</span><span class="token punctuation">,</span> <span class="token string">'AY'</span><span class="token punctuation">,</span> <span class="token string">'AZ'</span><span class="token punctuation">,</span> <span class="token string">'BX'</span><span class="token punctuation">,</span> <span class="token string">'BY'</span><span class="token punctuation">,</span> <span class="token string">'BZ'</span><span class="token punctuation">,</span> <span class="token string">'CX'</span><span class="token punctuation">,</span> <span class="token string">'CY'</span><span class="token punctuation">,</span> <span class="token string">'CZ'</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">.</span> <span class="token keyword">for</span>循环其实可以同时使用两个甚至多个变量，比如dict的items<span class="token punctuation">(</span><span class="token punctuation">)</span>可以同时迭代key和value：d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">:</span> <span class="token string">'C'</span> <span class="token punctuation">}</span>a <span class="token operator">=</span> <span class="token punctuation">[</span>k <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>运行结果：<span class="token punctuation">[</span><span class="token string">'x=A'</span><span class="token punctuation">,</span> <span class="token string">'y=B'</span><span class="token punctuation">,</span> <span class="token string">'z=C'</span><span class="token punctuation">]</span></code></pre><p><br></p><p><br></p><h3 id="二-生成器"><a href="#二-生成器" class="headerlink" title="二. 生成器"></a><font color="#FF6347" face="Comic sans MS">二. 生成器</font></h3><p>参考资料：</p><font face="Comic sans MS"><font color="#00B2EE">《<a href="https://www.cnblogs.com/wj-1314/p/8490822.html#undefined" target="_blank" rel="noopener">python 生成器和迭代器有这篇就够了</a>》</font><br></font><font face="Comic sans MS"><font color="#00B2EE">《<a href="http://www.runoob.com/python3/python3-iterator-generator.html" target="_blank" rel="noopener">Python3 迭代器与生成器</a>》</font><br></font><font face="Comic sans MS"><font color="#00B2EE">《<a href="http://www.runoob.com/w3cnote/python-yield-used-analysis.html" target="_blank" rel="noopener">Python yield 使用浅析</a>》</font><br></font><p><br></p><font color="#00B2EE"><strong>什么是生成器？</strong></font><p>　　通过列表生成式，我们可以直接创建一个列表，但是，受到内存限制，列表容量肯定是有限的，而且创建一个包含100万个元素的列表，不仅占用很大的存储空间，如果我们仅仅需要访问前面几个元素，那后面绝大多数元素占用的空间都白白浪费了。</p><p>　　所以，如果列表元素可以按照某种算法推算出来，那我们是否可以在循环的过程中不断推算出后续的元素呢？这样就不必创建完整的list，从而节省大量的空间，在Python中，这种一边循环一边计算的机制，称为<strong>生成器：generator</strong></p><p>　　生成器是一个特殊的程序，可以被用作控制循环的迭代行为，python中生成器是迭代器的一种，使用yield返回值函数，每次调用yield会暂停，而可以使用next()函数和send()函数恢复生成器。</p><p>　　生成器类似于返回值为数组的一个函数，这个函数可以接受参数，可以被调用，但是，不同于一般的函数会一次性返回包括了所有数值的数组，生成器一次只能产生一个值，这样消耗的内存数量将大大减小，而且允许调用函数可以很快的处理前几个返回值，因此生成器看起来像是一个函数，但是表现得却像是迭代器</p><p><br></p><blockquote><p><font color="#FF7F00"><strong>python提供了两种生成器基本的方式</strong></font></p><p><font color="#FF7F00"><strong>生成器函数：</strong></font>也是用def定义的，利用关键字yield一次返回一个结果、阻塞，重新开始</p><p><font color="#FF7F00"><strong>生成器表达式：</strong></font>返回一个对象，这个对象只有在需要的时候才产生结果</p></blockquote><p><br></p><p><br></p><h4 id="2-1-yield、-next-、send"><a href="#2-1-yield、-next-、send" class="headerlink" title="2.1 yield、__next__()、send()"></a><font color="#3CB371" face="Comic sans MS">2.1 yield、__next__()、send()</font></h4><p><br></p><ol><li><p>带有yield语句的函数不再是一个普通的函数，而是一个生成器generator，可用于迭代。</p></li><li><p>yield是一个类似return 的关键字，<font color="#FF7F00"><strong>返回一个值或者表达式</strong></font>，迭代一次遇到yield的时候就返回yield后面（代码块）或者右面（单行）的值，然后暂停。</p></li><li><p>一个函数正常执行遇到yeild时，<font color="#FF7F00"><strong>yeild返回一个值给函数的调用者，然后在这暂停并记住这个位置</strong></font>（因为此时程序要跳转到调用这个函数的地方 =&gt; 因为yeild的返回）<font color="#FF7F00"><strong>！不去执行下一个语句的代码。当程序执行遇到__next__()方法或者next()（Python2用）时，继续执行上次yield的下一个语句直到遇到下一个yield或者该函数结束。</strong></font></p></li><li><p>send()和next()的区别就在于send可传递参数给yield表达式，这时候传递的参数就会作为yield表达式的值，而yield的参数是返回给调用者的值，也就是说send可以强行修改上一个yield表达式值。</p></li><li><p>send()和next()都有返回值，他们的返回值是当前迭代遇到的yield的时候，yield后面表达式的值，其实就是当前迭代yield后面的参数。</p></li><li><p><font color="#FF7F00"><strong>for…in 循环中会自动调用 next()</strong></font>。这就说明for…in能够不中断地执行完整个函数。</p></li></ol><p><br></p><p>下面举例子说明：</p><pre class=" language-python"><code class="language-python">下面的例子用 a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span> 和 <span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> 来说明yeild的返回和暂停<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>例<span class="token number">1</span>：<span class="token keyword">def</span> <span class="token function">odd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'step 1'</span><span class="token punctuation">)</span>    <span class="token keyword">yield</span> <span class="token number">1</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'step 2'</span><span class="token punctuation">)</span>    <span class="token keyword">yield</span> <span class="token number">3</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'step 3'</span><span class="token punctuation">)</span>    <span class="token keyword">yield</span> <span class="token number">5</span>a <span class="token operator">=</span> odd<span class="token punctuation">(</span><span class="token punctuation">)</span>b <span class="token operator">=</span> a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'*****分割线*****'</span><span class="token punctuation">)</span>  <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>c <span class="token operator">=</span> a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'*****分割线*****'</span><span class="token punctuation">)</span>  <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> 输出：       step <span class="token number">1</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">*</span>分割线<span class="token operator">**</span><span class="token operator">**</span><span class="token operator">*</span><span class="token number">1</span>step <span class="token number">2</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">*</span>分割线<span class="token operator">**</span><span class="token operator">**</span><span class="token operator">*</span><span class="token number">3</span>结论：这个时候在<span class="token keyword">yield</span> <span class="token number">1</span>处暂停了（输出step1），并且<span class="token keyword">yield</span>返回了一个值<span class="token number">1</span>给a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span> 。</code></pre><p><br></p><p><br></p><h4 id="2-2-表达式创建生成器"><a href="#2-2-表达式创建生成器" class="headerlink" title="2.2 表达式创建生成器"></a><font color="#3CB371" face="Comic sans MS">2.2 表达式创建生成器</font></h4><blockquote><font color="#FF7F00"><strong>generator保存的是算法，每次调用next(generaotr_ex)就计算出他的下一个元素的值，直到计算出最后一个元素，没有更多的元素时，抛出StopIteration的错误。</strong></font></blockquote><p>要创建一个generator，有很多种方法，第一种方法很简单，只有<font color="#FF7F00"><strong>把一个列表生成式的[]中括号改为（）小括号</strong></font>，就创建一个generator:</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#列表生成式</span>lis <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token operator">*</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>lis<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#生成器</span>generator_ex <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">)</span>结果：<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>generator object <span class="token operator">&lt;</span>genexpr<span class="token operator">></span> at <span class="token number">0x000002A4CBF9EBA0</span><span class="token operator">></span></code></pre><p><br></p><p>　　那么创建lis和generator_ex，的区别是什么呢？从表面看就是[  ]和（）,但是结果却不一样，一个打印出来是列表（因为是列表生成式），而第二个打印出来却是&lt;generator object <genexpr> at 0x000002A4CBF9EBA0&gt;，那么如何打印出来generator_ex的每一个元素呢？</genexpr></p><p>　　如果要一个个打印出来，可以通过 <code>__next__()</code> 获得generator的下一个返回值：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#生成器</span>generator_ex <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>generator_ex<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>结果：<span class="token number">0</span><span class="token number">1</span><span class="token number">4</span><span class="token number">9</span><span class="token number">16</span><span class="token number">25</span><span class="token number">36</span><span class="token number">49</span><span class="token number">64</span><span class="token number">81</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"列表生成式.py"</span><span class="token punctuation">,</span> line <span class="token number">42</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>    <span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>generator_ex<span class="token punctuation">)</span><span class="token punctuation">)</span>StopIteration</code></pre><p><br></p><p><strong>generator保存的是算法，每次调用next(generaotr_ex)就计算出他的下一个元素的值，直到计算出最后一个元素，没有更多的元素时，抛出StopIteration的错误</strong>，而且上面这样不断调用是一个不好的习惯，正确的方法是使用for循环，因为generator也是可迭代对象。</p><p>所以我们创建一个generator后，基本上永远不会调用<code>__next__()</code>，而是通过for循环来迭代，并且不需要关心StopIteration的错误，generator非常强大，如果推算的算法比较复杂，用类似列表生成式的for循环无法实现的时候，还可以用函数来实现。</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#生成器</span>generator_ex <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> generator_ex<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>结果：<span class="token number">0</span><span class="token number">1</span><span class="token number">4</span><span class="token number">9</span><span class="token number">16</span><span class="token number">25</span><span class="token number">36</span><span class="token number">49</span><span class="token number">64</span><span class="token number">81</span></code></pre><p><br></p><p><br></p><h4 id="2-2-函数创建生成器"><a href="#2-2-函数创建生成器" class="headerlink" title="2.2 函数创建生成器"></a><font color="#3CB371" face="Comic sans MS">2.2 函数创建生成器</font></h4><blockquote><font color="#FF7F00"><strong>如果一个函数定义中包含yield关键字，那么这个函数就不再是一个普通函数，而是一个生成器。</strong></font></blockquote><p><br></p><p>下面举例子说明：</p><p>著名的斐波那契数列，除第一个和第二个数外，任何一个数都可以由前两个相加得到：</p><p>1，1，2，3，5，8，13，21，34…..</p><p>斐波那契数列用列表生成式写不出来，但是，用函数把它打印出来却很容易：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#fibonacci数列</span><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">:</span>    n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> max<span class="token punctuation">:</span>        a<span class="token punctuation">,</span>b <span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b        n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token string">'done'</span>a <span class="token operator">=</span> fib<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fib<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：<span class="token number">1</span><span class="token number">1</span><span class="token number">2</span><span class="token number">3</span><span class="token number">5</span><span class="token number">8</span><span class="token number">1</span><span class="token number">1</span><span class="token number">2</span><span class="token number">3</span><span class="token number">5</span><span class="token number">8</span>done</code></pre><blockquote><p>a,b = b ,a+b  其实相当于 t =a+b ,a =b ,b =t  ，所以不必写显示写出临时变量t，就可以输出斐波那契数列的前N个数字。</p></blockquote><p><br></p><p>上面我们发现，print(b)每次函数运行都要打印，占内存，所以为了不占内存，我们也可以使用生成器，同样是使用函数，只不过函数中有 <code>yield</code> 语句，所以叫做生成器。但是返回的不再是一个值，而是一个生成器，和上面的例子一样。</p><p>那么这样就不占内存了，这里说一下generator和函数的执行流程，函数是顺序执行的，遇到return语句或者最后一行函数语句就返回。而变成generator的函数，在每次调用__next__()方法的时候执行，遇到yield语句返回，再次被__next__() 调用时候从上次的返回yield语句处继续执行，也就是用多少，取多少，不占内存。如下：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">:</span>    n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> max<span class="token punctuation">:</span>        <span class="token keyword">yield</span> b        a<span class="token punctuation">,</span>b <span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b        n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span>    <span class="token keyword">return</span> <span class="token string">'done'</span>a <span class="token operator">=</span> fib<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fib<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：<span class="token operator">&lt;</span>generator object fib at <span class="token number">0x000001C03AC34FC0</span><span class="token operator">></span></code></pre><p><br></p><p>下面用3个例子说明用for…in 循环的好处，但是拿不到return 语句的返回值，那么就会报错，所以为了不让报错，就要进行异常处理，拿到返回值，如果想要拿到返回值，必须捕获StopIteration错误，而返回值包含在StopIteration的value中。</p><pre class=" language-python"><code class="language-python"><span class="token number">1</span><span class="token punctuation">.</span> 使用__next__<span class="token punctuation">(</span><span class="token punctuation">)</span>方法到最后一个的下一个时会报错。<span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">:</span>    n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> max<span class="token punctuation">:</span>        <span class="token keyword">yield</span> b        a<span class="token punctuation">,</span>b <span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b        n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span>    <span class="token keyword">return</span> <span class="token string">'done'</span>a <span class="token operator">=</span> fib<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fib<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"可以顺便干其他事情"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>结果：<span class="token operator">&lt;</span>generator object fib at <span class="token number">0x01058B70</span><span class="token operator">></span><span class="token number">1</span><span class="token number">1</span><span class="token number">2</span>可以顺便干其他事情<span class="token number">3</span><span class="token number">5</span><span class="token number">8</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>       <span class="token operator">//</span>看到报错，并且 StopIteration<span class="token punctuation">:</span> done  File <span class="token string">"3.py"</span><span class="token punctuation">,</span> line <span class="token number">18</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>StopIteration<span class="token punctuation">:</span> done<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">.</span> 在上面fib的例子，我们在循环过程中不断调用<span class="token keyword">yield</span>，就会不断中断。当然要给循环设置一个条件来退出循环，   不然就会产生一个无限数列出来。把函数改成generator后，我们基本上从来不会用next<span class="token punctuation">(</span><span class="token punctuation">)</span>来获取下一个   返回值，而是直接使用<span class="token keyword">for</span>循环来迭代，但是拿不到<span class="token keyword">return</span> 语句的返回值：<span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">:</span>    n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> max<span class="token punctuation">:</span>        <span class="token keyword">yield</span> b        a<span class="token punctuation">,</span>b <span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b        n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span>    <span class="token keyword">return</span> <span class="token string">'done'</span><span class="token keyword">for</span> i <span class="token keyword">in</span> fib<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>结果：<span class="token number">1</span><span class="token number">1</span><span class="token number">2</span><span class="token number">3</span><span class="token number">5</span><span class="token number">8</span>             <span class="token operator">//</span>程序没报错，但是拿不到<span class="token keyword">return</span>返回的值。<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">.</span> 如果想要拿到返回值，必须捕获StopIteration错误，返回值包含在StopIteration的value中：<span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">:</span>    n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>    <span class="token keyword">while</span> n <span class="token operator">&lt;</span> max<span class="token punctuation">:</span>        <span class="token keyword">yield</span> b        a<span class="token punctuation">,</span>b <span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b        n <span class="token operator">=</span> n<span class="token operator">+</span><span class="token number">1</span>    <span class="token keyword">return</span> <span class="token string">'done'</span>g <span class="token operator">=</span> fib<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> next<span class="token punctuation">(</span>g<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'generator: '</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span>    <span class="token keyword">except</span> StopIteration <span class="token keyword">as</span> e<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"生成器返回值："</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>value<span class="token punctuation">)</span>        <span class="token keyword">break</span>结果：generator<span class="token punctuation">:</span>  <span class="token number">1</span>generator<span class="token punctuation">:</span>  <span class="token number">1</span>generator<span class="token punctuation">:</span>  <span class="token number">2</span>generator<span class="token punctuation">:</span>  <span class="token number">3</span>generator<span class="token punctuation">:</span>  <span class="token number">5</span>generator<span class="token punctuation">:</span>  <span class="token number">8</span>生成器返回值： done      <span class="token operator">//</span>拿到了<span class="token keyword">return</span>的返回值！</code></pre><p><br></p><p><br></p><h3 id="三-迭代器"><a href="#三-迭代器" class="headerlink" title="三. 迭代器"></a><font color="#FF6347" face="Comic sans MS">三. 迭代器</font></h3><blockquote><p><font color="#FF7F00"><strong>迭代就是循环，迭代器功能是把一个可迭代的对象转换为生成器。因为生成器本身就是可迭代的。</strong></font><br>迭代器包含有next方法的实现，在正确的范围内返回期待的数据以及超出范围后能够抛出StopIteration的错误停止迭代。</p></blockquote><p><br></p><blockquote><p><font color="#00B2EE"><strong>可以直接作用于for循环的数据类型有以下几种：</strong></font></p><p><font color="#FF7F00"><strong>一类是集合数据类型：</strong></font>如list,tuple,dict,set,str等；</p><p><font color="#FF7F00"><strong>一类是generator：</strong></font>包括生成器和带yield的generator 函数。</p></blockquote><p><br></p><p><br></p><h4 id="3-1-可迭代对象"><a href="#3-1-可迭代对象" class="headerlink" title="3.1 可迭代对象"></a><font color="#3CB371" face="Comic sans MS">3.1 可迭代对象</font></h4><p>这些可以直接作用于for 循环的对象统称为<font color="#00B2EE"><strong>可迭代对象：Iterable</strong></font><br>可以使用 <strong><code>isinstance()</code></strong> 判断一个对象是否为可Iterable对象！</p><p>查阅：<font color="#00B2EE">[<a href="http://www.runoob.com/python/python-func-isinstance.html" target="_blank" rel="noopener">Python isinstance() 函数</a>]</font></p><p><br></p><p><strong>语法</strong></p><p><code>isinstance(object, classinfo)</code></p><p><strong>参数</strong><br>object – 实例对象。<br>classinfo – 可以是直接或间接类名、基本类型或者由它们组成的元组。</p><p><strong>返回值</strong><br>如果两个参数类型（classinfo）相同则返回 True，否则返回 False。</p><p><br></p><p><br></p><h4 id="3-2-迭代器"><a href="#3-2-迭代器" class="headerlink" title="3.2 迭代器"></a><font color="#3CB371" face="Comic sans MS">3.2 迭代器</font></h4><p>一个实现了iter方法的对象时可迭代的，一个实现next方法的对象是迭代器<br>可以被next()函数调用并不断返回下一个值的对象称为<font color="#00B2EE"><strong>迭代器：Iterator</strong></font>。<br>可以使用isinstance()判断一个对象是否是Iterator对象</p><p>所以，整体的流程为：</p><ol><li><p>使用isinstance()判断一个对象是否为Iterable对象（可迭代对象），语法为<code>isinstance(对象,Iterable)</code>。返回Ture/False。</p></li><li><p>如果返回 Ture，使用 <code>iter(可迭代对象)</code> 即可得到返回值为生成器的东西。</p></li><li><p>然后就可以把这个返回值作为生成器去尽情的使用了。</p></li></ol><p><br></p><p>查阅：<font color="#00B2EE">[<a href="http://www.runoob.com/python/python-func-iter.html" target="_blank" rel="noopener">Python iter() 函数</a>]</font></p><blockquote><p><font color="#FF7F00"><strong>总结：</strong></font></p><ol><li>凡是可作用于for循环的对象都是Iterable类型；</li><li>凡是可作用于next()函数的对象都是Iterator类型，它们表示一个惰性计算的序列；<br>集合数据类型如list、dict、str等是Iterable但不是Iterator，不过可以通过iter()函数获得一个Iterator对象。</li><li>生成器都是Iterator对象，但list、dict、str虽然是Iterable（可迭代对象），却不是Iterator（迭代器）。</li><li>iter()返回值是迭代器对象。</li></ol></blockquote><p><br></p><p>举例子：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> collections<span class="token punctuation">.</span>abc <span class="token keyword">import</span> Iterable<span class="token punctuation">,</span>Iterator<span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span>iter<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span>iter<span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：<span class="token boolean">True</span><span class="token boolean">True</span><span class="token boolean">True</span><span class="token boolean">True</span><span class="token boolean">False</span><span class="token boolean">True</span><span class="token boolean">False</span><span class="token boolean">False</span><span class="token boolean">False</span><span class="token boolean">True</span><span class="token boolean">True</span></code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;生成器生成想要的数据，可控制循环暂停，迭代器把可迭代的对象转换为生成器。( ⸝⸝⸝•_•⸝⸝⸝ )♡︎♡︎&lt;/p&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-函数</title>
    <link href="Treecatee.gitgub.io/post/python-function/"/>
    <id>Treecatee.gitgub.io/post/python-function/</id>
    <published>2019-03-02T06:18:58.000Z</published>
    <updated>2019-03-06T16:36:58.019Z</updated>
    
    <content type="html"><![CDATA[<p>有两种定义函数的方法，千万不要忘了冒号和<code>return</code>   ( ´⚰︎` )<br><a id="more"></a></p><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>函数</strong></font> </center><p><br></p><p><br></p><blockquote><p><strong>函数分为：</strong><font color="#FF7F00"><strong>内置（系统）函数和自定义函数</strong></font>。</p><ol><li>自定义函数又分为普通（有名字的）函数和匿名（无名字的）函数，二者定义方式不一样；</li><li>自定义和函数里面还可嵌套定义其他函数，匿名函数定义时是一条语句，并且要赋值给一个变量指针。</li><li>普通函数的函数体如果为空，则必须放入一条pass语句，否则会报错；函数体不为空的必须有return语句，否则会报错。</li></ol></blockquote><p><br></p><p><br></p><h3 id="一-定义函数"><a href="#一-定义函数" class="headerlink" title="一. 定义函数"></a><font color="#FF6347" face="Comic sans MS">一. 定义函数</font></h3><blockquote><p><strong>自定义函数简单的规则：</strong></p><ol><li>函数代码块以 <code>def</code> 关键词开头，依次写出函数名、括号、括号中的参数和冒号<code>:</code>。</li><li>函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明。</li><li>函数内容以冒号起始，并且缩进写代码块结构。</li><li>用<code>return [表达式]</code>结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None。还可以返回多个值，如<code>return x,y</code></li></ol></blockquote><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>语法</strong></font><p>Python 定义函数使用 def 关键字，默认情况下，参数值和参数名称是按函数声明中定义的顺序匹配起来的。一般格式如下：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> 函数名（参数列表）<span class="token punctuation">:</span>    函数体</code></pre><p><br></p><p>以自定义一个求绝对值的my_abs函数为例：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">my_abs</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> x <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> x    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token operator">-</span>x运行结果：<span class="token number">99</span></code></pre><p><br></p><p><br></p><h3 id="二-参数传递"><a href="#二-参数传递" class="headerlink" title="二. 参数传递"></a><font color="#FF6347" face="Comic sans MS">二. 参数传递</font></h3><p>在 python 中，类型属于对象，变量是没有类型的：<br><code>a=[1,2,3]</code><br><code>a=&quot;Runoob&quot;</code><br>以上代码中，[1,2,3] 是 List 类型，”Runoob” 是 String 类型，而变量 a 是没有类型，她仅仅是一个对象的引用（一个指针），可以是指向 List 类型对象，也可以是指向 String 类型对象。</p><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>一、可更改(mutable)与不可更改(immutable)对象</strong></font><p>在 python 中，<font color="#FF7F00"><strong>strings, tuples, 和 numbers 是不可更改的对象，而 list,dict 等则是可以修改的对象</strong></font>。</p><p>python 函数的参数传递：</p><ul><li><p><strong>不可变类型：</strong>类似 c++ 的值传递，如 <strong>整数</strong>、<strong>字符串</strong>、<strong>元组</strong>。如fun（a），传递的只是a的值，没有影响a对象本身。比如在 fun（a）内部修改 a 的值，只是修改另一个复制的对象，不会影响 a 本身。</p></li><li><p><strong>可变类型：</strong>类似 c++ 的引用传递（地址），如 <strong>列表</strong>，<strong>字典</strong>。如 fun（la），则是将 la 真正的传过去，修改后fun外部的la也会受影响</p></li></ul><blockquote><p>python 中<font color="#FF7F00"><strong>一切都是对象</strong></font>，严格意义我们不能说值传递还是引用传递，我们应该说<font color="#FF7F00"><strong>传不可变对象和传可变对象</strong></font>。</p></blockquote><p><br></p><p>python 传不可变对象实例:</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">ChangeInt</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">:</span>    a <span class="token operator">=</span> <span class="token number">10</span>b <span class="token operator">=</span> <span class="token number">2</span>ChangeInt<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 结果是 2</span></code></pre><blockquote><blockquote><p>实例中有 int 对象 2，指向它的变量是 b，在传递给 ChangeInt 函数时，按传值的方式复制了变量 b，a 和 b 都指向了同一个 Int 对象，在 a=10 时，则新生成一个 int 值对象 10，并让 a 指向它。</p></blockquote></blockquote><p><br></p><p>传可变对象实例:</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 可写函数说明</span><span class="token keyword">def</span> <span class="token function">changeme</span><span class="token punctuation">(</span> mylist <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"修改传入的列表"</span>   mylist<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"函数内取值1: "</span><span class="token punctuation">,</span> mylist<span class="token punctuation">)</span>   mylist<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"函数内取值2: "</span><span class="token punctuation">,</span> mylist<span class="token punctuation">)</span>   <span class="token keyword">return</span><span class="token comment" spellcheck="true"># 调用changeme函数</span>mylist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">]</span>changeme<span class="token punctuation">(</span> mylist <span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"函数外取值: "</span><span class="token punctuation">,</span> mylist<span class="token punctuation">)</span>运行结果：函数内取值<span class="token number">1</span><span class="token punctuation">:</span>  <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>函数内取值<span class="token number">2</span><span class="token punctuation">:</span>  <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>函数外取值<span class="token punctuation">:</span>  <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span></code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>二、参数</strong></font><p><strong>以下是调用函数时可使用的正式参数类型：</strong></p><ol><li><p><font color="#FF7F00"><strong>必需参数：</strong></font>调用函数时以正确的顺序传入函数。调用时的数量必须和声明时的一样。</p></li><li><p><font color="#FF7F00"><strong>关键字参数：</strong></font>允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值。</p></li><li><p><font color="#FF7F00"><strong>默认参数：</strong></font>定义函数时可指定参数值，调用函数时，如果没有传递参数，则会使用默认参数。</p></li><li><p><font color="#FF7F00"><strong>不定长参数：</strong></font>能处理比当初声明时更多的参数，这些参数被包装进一个<font color="#FF7F00"><strong>元组</strong></font>或<font color="#FF7F00"><strong>字典</strong></font>，通常，这些 可变 参数是参数列表中的最后一个，因为它们将把所有的剩余输入参数传递给函数。</p></li></ol><p><br></p><font color="#FF7F00" face="Comic sans MS"><strong>1. 必需参数：</strong></font><p>必需参数须以正确的顺序传入函数。调用时的数量必须和声明时的一样。</p><p>调用printme()函数，你必须传入一个参数，不然会出现语法错误：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#可写函数说明</span><span class="token keyword">def</span> <span class="token function">printme</span><span class="token punctuation">(</span> str <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"打印任何传入的字符串"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span>   <span class="token keyword">return</span><span class="token comment" spellcheck="true">#调用printme函数</span>printme<span class="token punctuation">(</span><span class="token punctuation">)</span>以上实例输出结果：Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"test.py"</span><span class="token punctuation">,</span> line <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>    printme<span class="token punctuation">(</span><span class="token punctuation">)</span>TypeError<span class="token punctuation">:</span> printme<span class="token punctuation">(</span><span class="token punctuation">)</span> missing <span class="token number">1</span> required positional argument<span class="token punctuation">:</span> <span class="token string">'str'</span></code></pre><p><br></p><font color="#FF7F00" face="Comic sans MS"><strong>2. 关键字参数：</strong></font><p>关键字参数和函数调用关系紧密，函数调用使用关键字参数来确定传入的参数值。</p><p>使用关键字参数允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值。<br>以下实例中演示了函数参数的使用不需要使用指定顺序：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#可写函数说明</span><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"打印任何传入的字符串"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"名字: "</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"年龄: "</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span>   <span class="token keyword">return</span><span class="token comment" spellcheck="true">#调用printinfo函数</span>printinfo<span class="token punctuation">(</span> age<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"runoob"</span> <span class="token punctuation">)</span>以上实例输出结果：名字<span class="token punctuation">:</span>  runoob年龄<span class="token punctuation">:</span>  <span class="token number">50</span></code></pre><p><br></p><font color="#FF7F00" face="Comic sans MS"><strong>3. 默认参数：</strong></font><p>调用函数时，如果没有传递参数，则会使用默认参数。以下实例中如果没有传入 age 参数，则使用默认值：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#可写函数说明</span><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">35</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"打印任何传入的字符串"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"名字: "</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"年龄: "</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span>   <span class="token keyword">return</span><span class="token comment" spellcheck="true">#调用printinfo函数</span>printinfo<span class="token punctuation">(</span> age<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"runoob"</span> <span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"------------------------"</span><span class="token punctuation">)</span>printinfo<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">"runoob"</span> <span class="token punctuation">)</span>以上实例输出结果：名字<span class="token punctuation">:</span>  runoob年龄<span class="token punctuation">:</span>  <span class="token number">50</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>名字<span class="token punctuation">:</span>  runoob年龄<span class="token punctuation">:</span>  <span class="token number">35</span></code></pre><p><br></p><font color="#FF7F00" face="Comic sans MS"><strong>4. 不定长参数：</strong></font><blockquote><p><strong>你可能需要一个函数能处理比当初声明时更多的参数：</strong></p><ol><li>加了星号 <code>*</code> 的参数会以<font color="#FF7F00"><strong>元组(tuple)</strong></font>的形式导入，存放所有未命名的变量参数。</li><li>加了两个星号<code>**</code>的参数会以<font color="#FF7F00"><strong>字典(dict)</strong></font>的形式导入。</li><li>声明函数时，参数中星号 * 可以单独出现。</li><li>如果单独出现星号 * 后的参数必须用关键字传入。</li></ol></blockquote><p><br></p><ol><li>加了星号<code>*</code>的参数会以元组(tuple)的形式导入，存放所有未命名的变量参数。</li></ol><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 可写函数说明</span><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span> arg1<span class="token punctuation">,</span> <span class="token operator">*</span>vartuple <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"打印任何传入的参数"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"输出: "</span><span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">)</span>   <span class="token keyword">for</span> var <span class="token keyword">in</span> vartuple<span class="token punctuation">:</span>      <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"循环输出: "</span><span class="token punctuation">)</span>      <span class="token keyword">print</span> <span class="token punctuation">(</span>var<span class="token punctuation">)</span>   <span class="token keyword">return</span><span class="token comment" spellcheck="true"># 调用printinfo 函数</span>printinfo<span class="token punctuation">(</span> <span class="token number">10</span> <span class="token punctuation">)</span>printinfo<span class="token punctuation">(</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation">)</span>输出结果：输出<span class="token punctuation">:</span><span class="token number">10</span>输出<span class="token punctuation">:</span><span class="token number">70</span>循环输出<span class="token punctuation">:</span><span class="token number">60</span>循环输出<span class="token punctuation">:</span><span class="token number">50</span></code></pre><p><br></p><ol start="2"><li>加了两个星号<code>**</code>的参数会以字典的形式导入。</li></ol><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 可写函数说明</span><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span> arg1<span class="token punctuation">,</span> <span class="token operator">**</span>vardict <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"打印任何传入的参数"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"输出: "</span><span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>vardict<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 调用printinfo 函数</span>printinfo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>以上实例输出结果：<span class="token number">1</span><span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span></code></pre><p><br></p><ol start="3"><li>声明函数时，参数中星号 * 可以单独出现，例如:</li></ol><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token operator">+</span>c</code></pre><p><br></p><ol start="4"><li>如果单独出现星号 * 后的参数必须用关键字传入。</li></ol><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token operator">+</span>ca <span class="token operator">=</span> f<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 报错</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>报错如下：Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>TypeError<span class="token punctuation">:</span> f<span class="token punctuation">(</span><span class="token punctuation">)</span> takes <span class="token number">2</span> positional arguments but <span class="token number">3</span> were given改正方式：a <span class="token operator">=</span> f<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>c<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 正常</span><span class="token number">6</span></code></pre><p><br></p><p><br></p><h3 id="三-匿名函数"><a href="#三-匿名函数" class="headerlink" title="三. 匿名函数"></a><font color="#FF6347" face="Comic sans MS">三. 匿名函数</font></h3><font color="#00B2EE" face="Comic sans MS"><strong>python 使用 lambda 来创建匿名函数。</strong></font><blockquote><p><strong>所谓匿名，意即不再使用 def 语句这样标准的形式定义一个函数。</strong></p><ol><li>lambda 只是一个表达式，函数体比 def 简单很多。</li><li>lambda的主体是一个表达式，而不是一个代码块。仅仅能在lambda表达式中封装有限的逻辑进去。</li><li>lambda 函数拥有自己的命名空间，且不能访问自己参数列表之外或全局命名空间里的参数。<br>虽然lambda函数看起来只能写一行，却不等同于C或C++的内联函数，后者的目的是调用小函数时不占用栈内存从而增加运行效率。</li></ol></blockquote><p><br></p><p><strong>语法</strong><br>lambda 函数的语法只包含一个语句，如下：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">lambda</span> <span class="token punctuation">[</span>arg1 <span class="token punctuation">[</span><span class="token punctuation">,</span>arg2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>argn<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>expression</code></pre><p><br></p><p>如下实例：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 可写函数说明</span>sum <span class="token operator">=</span> <span class="token keyword">lambda</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">:</span> arg1 <span class="token operator">+</span> arg2<span class="token comment" spellcheck="true"># 调用sum函数</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"相加后的值为 : "</span><span class="token punctuation">,</span> sum<span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"相加后的值为 : "</span><span class="token punctuation">,</span> sum<span class="token punctuation">(</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>以上实例输出结果：相加后的值为 <span class="token punctuation">:</span>  <span class="token number">30</span>相加后的值为 <span class="token punctuation">:</span>  <span class="token number">40</span></code></pre><p><br></p><p><br></p><h3 id="四-变量作用域"><a href="#四-变量作用域" class="headerlink" title="四. 变量作用域"></a><font color="#FF6347" face="Comic sans MS">四. 变量作用域</font></h3><p>Python 中，程序的变量并不是在哪个位置都可以访问的，访问权限决定于这个变量是在哪里赋值的。</p><p>变量的作用域决定了在哪一部分程序可以访问哪个特定的变量名称。Python的作用域一共有4种，分别是：</p><ul><li><font color="#FF7F00"><strong>L （Local）</strong></font> 局部作用域</li><li><font color="#FF7F00"><strong>E （Enclosing）</strong></font> 闭包函数外的函数中(函数A中定义了函数B，A定义的变量对B来说是闭包函数外的函数)</li><li><font color="#FF7F00"><strong>G （Global）</strong></font> 全局作用域</li><li><font color="#FF7F00"><strong>B （Built-in）</strong></font> 内置作用域（内置函数所在模块的范围）</li></ul><p>以 L –&gt; E –&gt; G –&gt;B 的规则查找，即：在局部找不到，便会去局部外的局部找（例如闭包），再找不到就会去全局找，再者去内置中找。</p><pre class=" language-python"><code class="language-python">g_count <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment" spellcheck="true"># 全局作用域</span><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    o_count <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment" spellcheck="true"># 闭包函数外的函数中</span>    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        i_count <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment" spellcheck="true"># 局部作用域</span></code></pre><p><br></p><p>Python 中只有模块（module），类（class）以及函数（def、lambda）才会引入新的作用域，其它的代码块（如 if/elif/else/、try/except、for/while等）是不会引入新的作用域的，也就是说这些语句内定义的变量，外部也可以访问，如下代码：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    msg <span class="token operator">=</span> <span class="token string">'I am from Runoob'</span><span class="token keyword">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>输出结果：I am <span class="token keyword">from</span> Runoob</code></pre><p><br></p><blockquote><p>实例中 msg 变量定义在 if 语句块中，但外部还是可以访问的。<br>如果将 msg 定义在函数中，则它就是局部变量，外部不能访问。</p></blockquote><p><br></p><p><br></p><h3 id="五-全局变量和局部变量"><a href="#五-全局变量和局部变量" class="headerlink" title="五. 全局变量和局部变量"></a><font color="#FF6347" face="Comic sans MS">五. 全局变量和局部变量</font></h3><p>定义在函数内部的变量拥有一个局部作用域，定义在函数外的拥有全局作用域。</p><p>局部变量只能在其被声明的函数内部访问，而全局变量可以在整个程序范围内访问。调用函数时，所有在函数内声明的变量名称都将被加入到作用域中。如下实例：</p><pre class=" language-python"><code class="language-python">total <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment" spellcheck="true"># 这是一个全局变量</span><span class="token comment" spellcheck="true"># 可写函数说明</span><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span> arg1<span class="token punctuation">,</span> arg2 <span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#返回2个参数的和."</span>    total <span class="token operator">=</span> arg1 <span class="token operator">+</span> arg2 <span class="token comment" spellcheck="true"># total在这里是局部变量.</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"函数内是局部变量 : "</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span>    <span class="token keyword">return</span> total<span class="token comment" spellcheck="true">#调用sum函数</span>sum<span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"函数外是全局变量 : "</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span>以上实例输出结果：函数内是局部变量 <span class="token punctuation">:</span>  <span class="token number">30</span>函数外是全局变量 <span class="token punctuation">:</span>  <span class="token number">0</span></code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>global 和 nonlocal关键字</strong></font><blockquote><p><font color="#FF7F00"><strong>global</strong></font>：内部作用域使用全局变量，并且可以修改，作用影响全局；</p><p><font color="#FF7F00"><strong>nonlocal</strong></font>：函数A嵌套函数B，函数B使用函数A的变量，并且可以修改，作用影响函数A的这个变量；</p></blockquote><ol><li>当内部作用域想修改外部作用域的变量时，就要用到global和nonlocal关键字了。</li></ol><p>以下实例修改全局变量 num：</p><pre class=" language-python"><code class="language-python">num <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">def</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> num  <span class="token comment" spellcheck="true"># 需要使用 global 关键字声明</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>     num <span class="token operator">=</span> <span class="token number">123</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>fun1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>以上实例输出结果：<span class="token number">1</span><span class="token number">123</span><span class="token number">123</span></code></pre><p><br></p><ol start="2"><li>如果要修改嵌套作用域（enclosing 作用域，外层非全局作用域）中的变量则需要 nonlocal 关键字了，如下实例：</li></ol><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">10</span>    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        nonlocal num   <span class="token comment" spellcheck="true"># nonlocal关键字声明</span>        num <span class="token operator">=</span> <span class="token number">100</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>    inner<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>outer<span class="token punctuation">(</span><span class="token punctuation">)</span>以上实例输出结果：<span class="token number">100</span><span class="token number">100</span></code></pre><p><br></p><p><br></p><h3 id="六-非公开函数"><a href="#六-非公开函数" class="headerlink" title="六. 非公开函数"></a><font color="#FF6347" face="Comic sans MS">六. 非公开函数</font></h3><blockquote><p><font color="#FF7F00"><strong>外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public</strong></font>。</p></blockquote><p>类似_xxx和__xxx这样的函数或变量就是非公开的（private），不应该被直接引用，比如_abc，__abc等；</p><p>之所以我们说，private函数和变量“不应该”被直接引用，而不是“不能”被直接引用，是因为Python并没有一种方法可以完全限制访问private函数或变量，但是，从编程习惯上不应该引用private函数或变量。</p><p>private函数或变量不应该被别人引用，那它们有什么用呢？请看例子：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">_private_1</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token string">'Hello, %s'</span> <span class="token operator">%</span> name<span class="token keyword">def</span> <span class="token function">_private_2</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token string">'Hi, %s'</span> <span class="token operator">%</span> name<span class="token keyword">def</span> <span class="token function">greeting</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> len<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> _private_1<span class="token punctuation">(</span>name<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> _private_2<span class="token punctuation">(</span>name<span class="token punctuation">)</span></code></pre><p><br></p><p>我们在模块里公开greeting()函数，而把内部逻辑用private函数隐藏起来了，这样，调用greeting()函数不用关心内部的private函数细节，这也是一种非常有用的代码封装和抽象的方法，即：</p><p>外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;有两种定义函数的方法，千万不要忘了冒号和&lt;code&gt;return&lt;/code&gt;   ( ´⚰︎` )&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-运算符</title>
    <link href="Treecatee.gitgub.io/post/python-operators/"/>
    <id>Treecatee.gitgub.io/post/python-operators/</id>
    <published>2019-03-01T07:06:47.000Z</published>
    <updated>2019-03-06T16:36:17.059Z</updated>
    
    <content type="html"><![CDATA[<p>要常来骚扰…₍ ..̮ ₎ ₍ ..̮ ₎<br><a id="more"></a></p><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>运算符</strong></font> </center><p><br></p><p><br></p><p>Python语言支持以下类型的运算符:</p><ul><li><font color="#00B2EE"><a href="http://www.runoob.com/python3/python3-basic-operators.html#ysf1" target="_blank" rel="noopener">算术运算符</a></font></li><li><font color="#00B2EE"><a href="http://www.runoob.com/python3/python3-basic-operators.html#ysf2" target="_blank" rel="noopener">比较（关系）运算符</a></font></li><li><font color="#00B2EE"><a href="http://www.runoob.com/python3/python3-basic-operators.html#ysf3" target="_blank" rel="noopener">赋值运算符</a></font></li><li><font color="#00B2EE"><a href="http://www.runoob.com/python3/python3-basic-operators.html#ysf4" target="_blank" rel="noopener">逻辑运算符</a></font></li><li><font color="#00B2EE"><a href="http://www.runoob.com/python3/python3-basic-operators.html#ysf5" target="_blank" rel="noopener">位运算符</a></font></li><li><font color="#00B2EE"><a href="http://www.runoob.com/python3/python3-basic-operators.html#ysf6" target="_blank" rel="noopener">成员运算符</a></font></li><li><font color="#00B2EE"><a href="http://www.runoob.com/python3/python3-basic-operators.html#ysf7" target="_blank" rel="noopener">身份运算符</a></font></li><li><font color="#00B2EE"><a href="http://www.runoob.com/python3/python3-basic-operators.html#ysf8" target="_blank" rel="noopener">运算符优先级</a></font></li></ul><p><br></p><p><br></p><h3 id="一-算术运算符"><a href="#一-算术运算符" class="headerlink" title=" 一. 算术运算符"></a><font color="#FF6347" face="Comic sans MS"> 一. 算术运算符</font></h3><table><thead><tr><th style="text-align:left">运算符</th><th style="text-align:left">描述</th><th style="text-align:left">实例</th></tr></thead><tbody><tr><td style="text-align:left">+</td><td style="text-align:left">加 - 两个对象相加</td><td style="text-align:left">a + b 输出结果 30</td></tr><tr><td style="text-align:left">-</td><td style="text-align:left">减 - 得到负数或是一个数减去另一个数</td><td style="text-align:left">a - b 输出结果 -10</td></tr><tr><td style="text-align:left">*</td><td style="text-align:left">乘 - 两个数相乘或是返回一个被重复若干次的字符串</td><td style="text-align:left">a * b 输出结果 200</td></tr><tr><td style="text-align:left">/</td><td style="text-align:left">除 - x除以y</td><td style="text-align:left">b / a 输出结果 2</td></tr><tr><td style="text-align:left">%</td><td style="text-align:left">取模 - 返回除法的余数</td><td style="text-align:left">b % a 输出结果 0</td></tr><tr><td style="text-align:left">**</td><td style="text-align:left">幂 - 返回x的y次幂</td><td style="text-align:left">a**b 为10的20次方，<br>输出结果 100000000000000000000</td></tr><tr><td style="text-align:left">//</td><td style="text-align:left">取整除 - 返回商的整数部分（向下取整）</td><td style="text-align:left">&gt;&gt;&gt;&gt; 9//2<br>4<br>&gt;&gt;&gt; -9//2<br>-5</td></tr></tbody></table><p><br></p><p><br></p><h3 id="二-比较运算符"><a href="#二-比较运算符" class="headerlink" title=" 二. 比较运算符"></a><font color="#FF6347" face="Comic sans MS"> 二. 比较运算符</font></h3><p>以下假设变量a为10，变量b为20：</p><table><thead><tr><th style="text-align:left">运算符</th><th style="text-align:left">描述</th><th style="text-align:left">实例</th></tr></thead><tbody><tr><td style="text-align:left">==</td><td style="text-align:left">等于 - 比较对象是否相等</td><td style="text-align:left">(a == b) 返回 False。</td></tr><tr><td style="text-align:left">!=</td><td style="text-align:left">不等于 - 比较两个对象是否不相等</td><td style="text-align:left">(a != b) 返回 True。</td></tr><tr><td style="text-align:left">></td><td style="text-align:left">大于 - 返回x是否大于y</td><td style="text-align:left">(a &gt; b) 返回 False。</td></tr><tr><td style="text-align:left">&lt;</td><td style="text-align:left">小于 - 返回x是否小于y。所有比较运算符返回1表示真，返回0表示假。<br>这分别与特殊的变量True和False等价。注意，这些变量名的大写。</td><td style="text-align:left">(a &lt; b) 返回 True。</td></tr><tr><td style="text-align:left">>=</td><td style="text-align:left">大于等于 - 返回x是否大于等于y。</td><td style="text-align:left">(a &gt;= b) 返回 False。</td></tr><tr><td style="text-align:left">&lt;=</td><td style="text-align:left">小于等于 - 返回x是否小于等于y。</td><td style="text-align:left">(a &lt;= b) 返回 True。</td></tr></tbody></table><p><br></p><p><br></p><h3 id="三-赋值运算符"><a href="#三-赋值运算符" class="headerlink" title="三. 赋值运算符"></a><font color="#FF6347" face="Comic sans MS">三. 赋值运算符</font></h3><p>以下假设变量a为10，变量b为20：</p><table><thead><tr><th style="text-align:left">运算符</th><th style="text-align:left">描述</th><th style="text-align:left">实例</th></tr></thead><tbody><tr><td style="text-align:left">=</td><td style="text-align:left">简单的赋值运算符</td><td style="text-align:left">c = a + b 将 a + b 的运算结果赋值为 c</td></tr><tr><td style="text-align:left">+=</td><td style="text-align:left">加法赋值运算符</td><td style="text-align:left">c += a 等效于 c = c + a</td></tr><tr><td style="text-align:left">-=</td><td style="text-align:left">减法赋值运算符</td><td style="text-align:left">c -= a 等效于 c = c - a</td></tr><tr><td style="text-align:left">*=</td><td style="text-align:left">乘法赋值运算符</td><td style="text-align:left">c *= a 等效于 c = c * a</td></tr><tr><td style="text-align:left">/=</td><td style="text-align:left">除法赋值运算符</td><td style="text-align:left">c /= a 等效于 c = c / a</td></tr><tr><td style="text-align:left">%=</td><td style="text-align:left">取模赋值运算符</td><td style="text-align:left">c %= a 等效于 c = c % a</td></tr><tr><td style="text-align:left">**=</td><td style="text-align:left">幂赋值运算符</td><td style="text-align:left">c **= a 等效于 c = c ** a</td></tr><tr><td style="text-align:left">//=</td><td style="text-align:left">取整除赋值运算符</td><td style="text-align:left">c //= a 等效于 c = c // a</td></tr></tbody></table><p><br></p><p><br></p><h3 id="四-位运算符"><a href="#四-位运算符" class="headerlink" title="四. 位运算符"></a><font color="#FF6347" face="Comic sans MS">四. 位运算符</font></h3><p>按位运算符是把数字看作二进制来进行计算的。Python中的按位运算法则如下：</p><p>下表中变量 a 为 60，b 为 13二进制格式如下：</p><table><thead><tr><th style="text-align:left"></th><th></th></tr></thead><tbody><tr><td style="text-align:left">a = 0011 1100</td><td></td></tr><tr><td style="text-align:left">b = 0000 1101</td><td></td></tr><tr><td style="text-align:left">a&amp;b = 0000 1100</td><td></td></tr><tr><td style="text-align:left">a丨b = 0011 1101</td><td></td></tr><tr><td style="text-align:left">a^b = 0011 0001</td><td></td></tr><tr><td style="text-align:left"><code>~a</code>  = 1100 0011</td><td></td></tr></tbody></table><table><thead><tr><th style="text-align:left">运算符</th><th style="text-align:left">描述</th><th style="text-align:left">实例</th></tr></thead><tbody><tr><td style="text-align:left">&amp;</td><td style="text-align:left">按位与运算符：<br>参与运算的两个值,如果两个相应位都为1,<br>则该位的结果为1,否则为0</td><td style="text-align:left">(a &amp; b) 输出结果 12 <br>二进制解释： 0000 1100</td></tr><tr><td style="text-align:left">丨</td><td style="text-align:left">按位或运算符：<br>只要对应的二个二进位有一个为1时，结果位就为1。</td><td style="text-align:left">(a 丨 b) 输出结果 61 <br>二进制解释： 0011 1101</td></tr><tr><td style="text-align:left">^</td><td style="text-align:left">按位异或运算符：<br>当两对应的二进位相异时，结果为1</td><td style="text-align:left">(a ^ b) 输出结果 49 <br>二进制解释： 0011 0001</td></tr><tr><td style="text-align:left">~</td><td style="text-align:left">按位取反运算符：<br>对数据的每个二进制位取反,<br>即把1变为0,把0变为1。~x 类似于 -x-1</td><td style="text-align:left">(~a ) 输出结果 -61 <br>二进制解释： 1100 0011 <br>在一个有符号二进制数的补码形式。</td></tr><tr><td style="text-align:left">&lt;&lt;</td><td style="text-align:left">左移动运算符：<br>运算数的各二进位全部左移若干位，<br>由”&lt;&lt;”右边的数指定移动的位数，高位丢弃，低位补0。</td><td style="text-align:left">a &lt;&lt; 2 输出结果 240 <br>二进制解释： 1111 0000</td></tr><tr><td style="text-align:left">>></td><td style="text-align:left">右移动运算符：<br>把”&gt;&gt;”左边的运算数的各二进位全部右移若干位，<br>“&gt;&gt;”右边的数指定移动的位数</td><td style="text-align:left">a &gt;&gt; 2 输出结果 15 <br>二进制解释： 0000 1111</td></tr></tbody></table><p><br></p><p><br></p><h3 id="五-逻辑运算符"><a href="#五-逻辑运算符" class="headerlink" title="五. 逻辑运算符"></a><font color="#FF6347" face="Comic sans MS">五. 逻辑运算符</font></h3><p>Python语言支持逻辑运算符，以下假设变量 a 为 10, b为 20:</p><table><thead><tr><th style="text-align:left">运算符</th><th style="text-align:left">逻辑表达式</th><th style="text-align:left">描述</th><th style="text-align:left">实例</th></tr></thead><tbody><tr><td style="text-align:left">and</td><td style="text-align:left">x and y</td><td style="text-align:left">布尔”与” - 如果 x 为 False，<br>x and y 返回 False，否则它返回 y 的计算值。</td><td style="text-align:left">(a and b) 返回 20。</td></tr><tr><td style="text-align:left">or</td><td style="text-align:left">x or y</td><td style="text-align:left">布尔”或” - 如果 x 是 True，<br>它返回 x 的值，否则它返回 y 的计算值。</td><td style="text-align:left">(a or b) 返回 10。</td></tr><tr><td style="text-align:left">not</td><td style="text-align:left">not x</td><td style="text-align:left">布尔”非” - 如果 x 为 True，<br>返回 False 。如果 x 为 False，它返回 True。</td><td style="text-align:left">not(a and b) 返回 False</td></tr></tbody></table><p><br></p><p><br></p><h3 id="六-成员运算符"><a href="#六-成员运算符" class="headerlink" title="六. 成员运算符"></a><font color="#FF6347" face="Comic sans MS">六. 成员运算符</font></h3><p>除了以上的一些运算符之外，Python还支持成员运算符，测试实例中包含了一系列的成员，包括字符串，列表或元组。</p><table><thead><tr><th style="text-align:left">运算符</th><th style="text-align:left">描述</th><th style="text-align:left">实例</th></tr></thead><tbody><tr><td style="text-align:left">in</td><td style="text-align:left">如果在指定的序列中找到值返回 True，否则返回 False。</td><td style="text-align:left">x 在 y 序列中 , <br>如果 x 在 y 序列中返回 True。</td></tr><tr><td style="text-align:left">not in</td><td style="text-align:left">如果在指定的序列中没有找到值返回 True，否则返回 False。</td><td style="text-align:left">x 不在 y 序列中 , <br>如果 x 不在 y 序列中返回 True。</td></tr></tbody></table><p><br></p><p><br></p><h3 id="七-身份运算符"><a href="#七-身份运算符" class="headerlink" title="七. 身份运算符"></a><font color="#FF6347" face="Comic sans MS">七. 身份运算符</font></h3><p>身份运算符用于比较两个对象的存储单元。<br><strong>注：</strong><font color="#00B2EE">[<a href="http://www.runoob.com/python/python-func-id.html" target="_blank" rel="noopener">id() 函数</a>]</font> 用于获取对象内存地址。</p><p>is 与 == 区别：<font color="#FF7F00"><strong>is 用于判断两个变量引用对象是否为同一个， == 用于判断引用变量的值是否相等</strong></font>。</p><table><thead><tr><th style="text-align:left">运算符</th><th style="text-align:left">描述</th><th style="text-align:left">实例</th></tr></thead><tbody><tr><td style="text-align:left">is</td><td style="text-align:left">is 是判断两个标识符是不是引用自一个对象</td><td style="text-align:left">x is y, 类似 id(x) == id(y) 。<br> 如果引用的是同一个对象则返回 True，<br>否则返回 False</td></tr><tr><td style="text-align:left">is not</td><td style="text-align:left">is not 是判断两个标识符是不是引用自不同对象</td><td style="text-align:left">x is not y ， 类似 id(a) != id(b)。<br>如果引用的不是同一个对象则返回结果 True，<br>否则返回 False。</td></tr></tbody></table><p><br></p><p><br></p><h3 id="八-运算符优先级"><a href="#八-运算符优先级" class="headerlink" title="八. 运算符优先级"></a><font color="#FF6347" face="Comic sans MS">八. 运算符优先级</font></h3><p>以下表格列出了从最高到最低优先级的所有运算符：</p><table><thead><tr><th style="text-align:left">运算符</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">**</td><td style="text-align:left">指数 (最高优先级)</td></tr><tr><td style="text-align:left">~ + -</td><td style="text-align:left">按位翻转, 一元加号和减号 (最后两个的方法名为 +@ 和 -@)</td></tr><tr><td style="text-align:left">* / % //</td><td style="text-align:left">乘，除，取模和取整除</td></tr><tr><td style="text-align:left">+ -</td><td style="text-align:left">加法减法</td></tr><tr><td style="text-align:left">>></td><td style="text-align:left">&lt;&lt;    右移，左移运算符</td></tr><tr><td style="text-align:left">&amp;</td><td style="text-align:left">位 ‘AND’</td></tr><tr><td style="text-align:left">^ 丨</td><td style="text-align:left">位运算符</td></tr><tr><td style="text-align:left">&lt;= &lt; &gt; &gt;=</td><td style="text-align:left">比较运算符</td></tr><tr><td style="text-align:left">&lt;&gt; == !=</td><td style="text-align:left">等于运算符</td></tr><tr><td style="text-align:left">= %= /= //= -= += *= **=</td><td style="text-align:left">赋值运算符</td></tr><tr><td style="text-align:left">is is not</td><td style="text-align:left">身份运算符</td></tr><tr><td style="text-align:left">in not in</td><td style="text-align:left">成员运算符</td></tr><tr><td style="text-align:left">and or not</td><td style="text-align:left">逻辑运算符</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;要常来骚扰…₍ ..̮ ₎ ₍ ..̮ ₎&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-条件语句与循环</title>
    <link href="Treecatee.gitgub.io/post/python-conditionalstatements-loops/"/>
    <id>Treecatee.gitgub.io/post/python-conditionalstatements-loops/</id>
    <published>2019-03-01T03:29:20.000Z</published>
    <updated>2019-03-06T16:37:02.457Z</updated>
    
    <content type="html"><![CDATA[<p>记得冒号和换行的缩进呀…(｡◕︎‿◕︎)ﾉﾟ･ﾟ･<br><a id="more"></a></p><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>条件语句与循环</strong></font> </center><p><br></p><p><br></p><h3 id="一-条件语句"><a href="#一-条件语句" class="headerlink" title="一. 条件语句"></a><font color="#FF6347" face="Comic sans MS">一. 条件语句</font></h3><p><br></p><ol><li><p>if-else-elif是条件语句，判断bool类型，判断为True就继续执行后面的缩进语句，判断为Flase则不执行缩进语句。</p></li><li><p>Python程序语言指定任何非0和非空（Null）值为True，0 或者 null为False。</p></li><li><p>Python<font color="#FF7F00"><strong>只执行if-elif-else 结构中的一个代码块</strong></font>，它依次检查每个条件测试，直到遇到通过了的条件测试。测试通过后，Python将执行紧跟在它后面的代码，并跳过余下的测试。</p></li><li><p>python 并<font color="#FF7F00"><strong>不支持 switch 语句</strong></font>，所以多个条件判断，只能用 elif 来实现，如果判断需要多个条件需同时判断时，可以使用 or （或），表示两个条件有一个成立时判断条件成功；使用 and （与）时，表示只有两个条件同时成立的情况下，判断条件才成功。</p></li><li><p>设置if 语句的格式。在条件测试的格式设置方面，PEP 8提供的唯一建议是，在诸如== 、&gt;= 和&lt;= 等比较运算符两边各添加一个空格，例如，<code>if age &lt; 4:</code> 要比<code>if age&lt;4:</code> 好。这样的空格不会影响Python对代码的解读，而只是让代码阅读起来更容易。</p></li><li><p>注意条件语句如果有多条缩进语句时<font color="#FF7F00"><strong>不能忘了冒号（ <code>:</code> ）</strong></font>，不像C语言或其它语言一样，if后面没有括号。</p></li></ol><p><br></p><p>书写格式如下：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">if</span> <span class="token operator">&lt;</span>条件判断<span class="token number">1</span><span class="token operator">></span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>执行<span class="token number">1</span><span class="token operator">></span><span class="token keyword">elif</span> <span class="token operator">&lt;</span>条件判断<span class="token number">2</span><span class="token operator">></span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>执行<span class="token number">2</span><span class="token operator">></span><span class="token keyword">elif</span> <span class="token operator">&lt;</span>条件判断<span class="token number">3</span><span class="token operator">></span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>执行<span class="token number">3</span><span class="token operator">></span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>执行<span class="token number">4</span><span class="token operator">></span></code></pre><p><br></p><p><br></p><h3 id="二-循环语句"><a href="#二-循环语句" class="headerlink" title="二. 循环语句"></a><font color="#FF6347" face="Comic sans MS">二. 循环语句</font></h3><p><br></p><p>Python提供了for循环和while循环（在Python中<strong>没有do..while循环</strong>）:</p><table><thead><tr><th style="text-align:center">循环类型</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center"><font color="#00B2EE"><a href="http://www.runoob.com/python/python-while-loop.html" target="_blank" rel="noopener">while 循环</a></font></td><td style="text-align:left">在给定的判断条件为 true 时执行循环体，否则退出循环体。</td></tr><tr><td style="text-align:center"><font color="#00B2EE"><a href="http://www.runoob.com/python/python-for-loop.html" target="_blank" rel="noopener">for 循环</a></font></td><td style="text-align:left">重复执行语句</td></tr><tr><td style="text-align:center"><font color="#00B2EE"><a href="http://www.runoob.com/python/python-nested-loops.html" target="_blank" rel="noopener">嵌套循环</a></font></td><td style="text-align:left">你可以在while循环体中嵌套for循环</td></tr></tbody></table><p><br></p><p><strong>循环控制语句</strong><br>循环控制语句可以更改语句执行的顺序。Python支持以下循环控制语句：</p><table><thead><tr><th style="text-align:center">循环类型</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center"><font color="#00B2EE"><a href="http://www.runoob.com/python/python-break-statement.html" target="_blank" rel="noopener">break 语句</a></font></td><td style="text-align:left">在语句块执行过程中终止循环，并且跳出整个循环</td></tr><tr><td style="text-align:center"><font color="#00B2EE"><a href="http://www.runoob.com/python/python-continue-statement.html" target="_blank" rel="noopener">continue 语句</a></font></td><td style="text-align:left">在语句块执行过程中终止当前循环，跳出该次循环，执行下一次循环。</td></tr><tr><td style="text-align:center"><font color="#00B2EE"><a href="http://www.runoob.com/python/python-pass-statement.html" target="_blank" rel="noopener">pass 语句</a></font></td><td style="text-align:left">pass是空语句，是为了保持程序结构的完整性。</td></tr></tbody></table><p><br></p><h4 id="2-1-While-循环语句"><a href="#2-1-While-循环语句" class="headerlink" title="2.1 While 循环语句"></a><font color="#3CB371" face="Comic sans MS">2.1 While 循环语句</font></h4><p>执行语句可以是单个语句或语句块。判断条件可以是任何表达式，任何非零、或非空（Null）的值均为True。当判断条件假False时，循环结束。其基本形式为（<strong>注意并没有括号</strong>）：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">while</span> 判断条件：    执行语句……</code></pre><p><br></p><p>Gif 演示 Python while 语句执行过程：</p><p><img src="https://i.loli.net/2019/03/01/5c789f82d8f65.gif" alt="loop-over-python-list-animation.gif"></p><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>循环使用 else 语句：</strong></font><p>在 python 中，while … else 在循环条件为 False 时执行 else 语句块：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">while</span> count <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>count<span class="token punctuation">,</span> <span class="token string">" is  less than 5"</span><span class="token punctuation">)</span>   count <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token keyword">else</span><span class="token punctuation">:</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>count<span class="token punctuation">,</span> <span class="token string">" is not less than 5"</span><span class="token punctuation">)</span>运行结果：<span class="token number">0</span>  <span class="token keyword">is</span>  less than <span class="token number">5</span> <span class="token number">1</span>  <span class="token keyword">is</span>  less than <span class="token number">5</span> <span class="token number">2</span>  <span class="token keyword">is</span>  less than <span class="token number">5</span> <span class="token number">3</span>  <span class="token keyword">is</span>  less than <span class="token number">5</span> <span class="token number">4</span>  <span class="token keyword">is</span>  less than <span class="token number">5</span> <span class="token number">5</span>  <span class="token keyword">is</span> <span class="token operator">not</span> less than <span class="token number">5</span> </code></pre><p><br></p><p><br></p><h4 id="2-2-for-in-语句"><a href="#2-2-for-in-语句" class="headerlink" title="2.2 for..in 语句"></a><font color="#3CB371" face="Comic sans MS">2.2 for..in 语句</font></h4><ol><li><p>Python for循环可以遍历任何序列的项目，如一个<font color="#FF7F00"><strong>列表</strong></font>或者一个<font color="#FF7F00"><strong>字符串</strong></font>。</p></li><li><p>Python 中的 for 语句和 C 或 Pascal 中的略有不同。通常的循环可能会依据一个等差数值步进过程（如 Pascal），或由用户来定义迭代步骤和中止条件（如 C ），Python 的 for 语句依据任意序列（列表或字符串）中的子项，按它们在序列中的顺序来进行迭代。</p></li><li><p>在迭代过程中修改迭代序列不安全（只有在使用列表这样的可变序列时才会有这样的情况）。如果你想要修改你迭代的序列（例如，复制选择项），你可以迭代它的复本。使用切割标识就可以很方便的做到这一点</p></li></ol><p><br></p><blockquote><p><font color="#00B2EE" face="Comic sans MS"><strong>for…in语句处理字符串和列表不同：</strong></font></p><ol><li><strong>处理列表：</strong><font color="#FF7F00"><strong>每次取列表的一个元素赋给 in 前面的变量</strong></font>；</li><li><strong>处理字符串：</strong><font color="#FF7F00"><strong>每次取字符串的一个字符赋给 in 前面的变量</strong></font>；</li></ol></blockquote><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token string">'beauty'</span><span class="token punctuation">:</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>运行结果：<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> b e a u t y </code></pre><p><br></p><blockquote><font color="#FF7F00"><strong>上例列表 for x in …循环就是把每个元素代入变量x，然后执行缩进块的语句。这就像把序列中的每一个数(或对象)分配给x，一次一个,然后为每个x值执行语句块。</strong></font></blockquote><p><br></p><h4 id="2-2-break、continue、pass-语句"><a href="#2-2-break、continue、pass-语句" class="headerlink" title="2.2 break、continue、pass 语句"></a><font color="#3CB371" face="Comic sans MS">2.2 break、continue、pass 语句</font></h4><p><font color="#FF7F00"><strong>break语句：</strong></font> 在循环中，可以提前退出循环。</p><p><font color="#FF7F00"><strong>break语句：</strong></font> 在循环过程中，跳过当前的这次循环，直接开始下一次循环。</p><p><font color="#FF7F00"><strong>pass语句：</strong></font> pass 是空语句，是为了保持程序结构的完整性。pass 不做任何事情，一般用做占位语句。</p><p><br>    </p><p>Python 语言 pass 语句语法格式如下：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span><span class="token comment" spellcheck="true"># 输出 Python 的每个字母</span><span class="token keyword">for</span> letter <span class="token keyword">in</span> <span class="token string">'Python'</span><span class="token punctuation">:</span>   <span class="token keyword">if</span> letter <span class="token operator">==</span> <span class="token string">'h'</span><span class="token punctuation">:</span>      <span class="token keyword">pass</span>      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这是 pass 块'</span><span class="token punctuation">)</span>   <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'当前字母 :'</span><span class="token punctuation">,</span> letter<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Good bye!'</span><span class="token punctuation">)</span>运行结果：当前字母 <span class="token punctuation">:</span> P 当前字母 <span class="token punctuation">:</span> y 当前字母 <span class="token punctuation">:</span> t 这是 <span class="token keyword">pass</span> 块 当前字母 <span class="token punctuation">:</span> h 当前字母 <span class="token punctuation">:</span> o 当前字母 <span class="token punctuation">:</span> n Good bye! </code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;记得冒号和换行的缩进呀…(｡◕︎‿◕︎)ﾉﾟ･ﾟ･&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-列表、元组、字典、集合</title>
    <link href="Treecatee.gitgub.io/post/python-list-tuple-dict-set/"/>
    <id>Treecatee.gitgub.io/post/python-list-tuple-dict-set/</id>
    <published>2019-02-28T12:28:00.000Z</published>
    <updated>2019-03-06T16:36:44.771Z</updated>
    
    <content type="html"><![CDATA[<p>Python的列表相当于数组 ( ⸝⸝•ᴗ•⸝⸝ )੭⁾⁾<br><a id="more"></a></p><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>Python 列表、元组、字典、集合</strong></font> </center><p><br></p><p><br></p><h3 id="一-认识列表"><a href="#一-认识列表" class="headerlink" title="一. 认识列表"></a><font color="#FF6347" face="Comic sans MS">一. 认识列表</font></h3><p><br></p><blockquote><p><font color="#00B2EE" face="Comic sans MS"><strong>列表（list）是什么：</strong></font></p><ol><li>序列是Python中最基本的数据结构。</li><li>在Python中，用方括号 [ ] 来表示列表，并用逗号来分隔其中的元素。并且<font color="#FF7F00"><strong>列表的数据项（各个元素）不需要具有相同的类型</strong></font>。</li><li>序列中的每个元素都分配一个数字 - 它的位置，即索引，<font color="#FF7F00"><strong>第一个索引是0，第二个索引是1，依此类推</strong></font>。<ol><li>序列都可以进行的操作包括索引，切片，加，乘，检查成员。</li><li>此外，Python已经内置确定序列的长度以及确定最大和最小的元素的方法。</li></ol></li><li>把列表当作堆栈使用。涉及的方法有：append()、pop()</li><li>访问和使用列表可以使用切片。[a:b]</li><li>把列表当作队列使用（不过使用起来较麻烦，可自行百度）。</li><li>列表可以<font color="#FF7F00"><strong>嵌套使用</strong></font>。</li><li>列表复制是这样的：<code>list2 = list1[:]</code></li><li>获取列表的索引值：<code>a = list.index(&quot;String&quot;)</code></li></ol></blockquote><p><br></p><p>定义列表的示例：</p><pre class=" language-python"><code class="language-python">list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">]</span>list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span>list3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span>运行结果：<span class="token punctuation">[</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span> </code></pre><p><br></p><p><br></p><h3 id="二-切片"><a href="#二-切片" class="headerlink" title="二. 切片"></a><font color="#FF6347" face="Comic sans MS">二. 切片</font></h3><blockquote><p><font color="#00B2EE" face="Comic sans MS"><strong>切片和索引：</strong></font></p><ol><li>与字符串的索引一样，列表索引从0开始。(在字符串那个章节总结过)列表可以进行截取、组合等；</li><li>你还可以处理列表的部分元素——Python称之为切片。使用下标索引来访问列表中的值，同样你也可以使用方括号[ ]的形式截取字符； [x:y]</li><li>要创建切片，可指定要使用的第一个元素和最后一个元素的索引。与函数range() 一样，Python在<font color="#FF7F00"><strong>到达你指定的第二个索引前面的元素后停止</strong></font>。要输出列表中的前三个元素，需要指定索引<code>0~3</code>，这将输出分别为0 、1 和2 的元素； [1:5]表示索引为1,2,3,4的四个元素</li><li>如果你没有指定第一个索引，Python将自动从列表开头开始； [ :6]</li><li>要让切片终止于列表末尾，也可使用类似的语法，即不指定第二个索引； [2: ]<br>无论列表多长，这种语法都能够让你输出从特定位置到列表末尾的所有元素。</li><li>如果要遍历列表的部分元素，可在for 循环中使用切片。</li></ol></blockquote><p><br></p><p>下面示例代码（注意“//”不代表注释，仅仅为了展示）：</p><pre class=" language-python"><code class="language-python">list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">]</span>list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>list1<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>           <span class="token operator">//</span>类似字符串一样使用索引<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"list1[0]: "</span><span class="token punctuation">,</span> list1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>      <span class="token operator">//</span>输出第一个元素<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"list2[1:5]: "</span><span class="token punctuation">,</span> list2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token operator">//</span>输出索引为<span class="token number">1</span>到（<span class="token number">5</span><span class="token operator">-</span><span class="token number">1</span>）的元素<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"list2[:4]: "</span><span class="token punctuation">,</span> list2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token operator">//</span>前者输出从第<span class="token number">1</span>个元素到索引为（<span class="token number">4</span><span class="token operator">-</span><span class="token number">1</span>）的元素                                    <span class="token operator">//</span>后者输出索引为<span class="token number">1</span>到最后一个元素运行结果：chemistry <span class="token number">1997</span> list1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  physics list2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> list2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span> </code></pre><p><br></p><p><br></p><h3 id="三-更新列表"><a href="#三-更新列表" class="headerlink" title="三. 更新列表"></a><font color="#FF6347" face="Comic sans MS">三. 更新列表</font></h3><h4 id="3-1-处理元素"><a href="#3-1-处理元素" class="headerlink" title="3.1 处理元素"></a><font color="#3CB371" face="Comic sans MS">3.1 处理元素</font></h4><p>附加参考：<font color="#00B2EE">[<a href="https://www.cnblogs.com/wl404/p/7884665.html" target="_blank" rel="noopener">列表使用大全</a>]</font> <font color="#00B2EE">[<a href="https://blog.csdn.net/viviliao_/article/details/79518219" target="_blank" rel="noopener">Python3列表元素的修改</a>]</font> </p><blockquote><p><font color="#00B2EE" face="Comic sans MS"><strong>1. 按索引来使用的方法</strong></font></p><ol><li><font color="#FF7F00">append(‘String’)：</font> 将元素string追加到列表末尾，即把一个元素添加到堆栈顶；</li><li><font color="#FF7F00">pop(X)：</font> 删除列表中任何位置的元素，只需在括号中指定要删除的元素的索引即可。若果不指定则默认删除末尾的元素；</li><li><font color="#FF7F00">insert(X, “String”)：</font> 将元素String插入到索引为X的位置，原来元素从索引为X往后移；</li><li><font color="#FF7F00">del list[X]：</font> 删除列表list索引为X的元素；</li><li><font color="#FF7F00">len(list)：</font> 是个函数，统计列表list元素的个数，和在字符串中使用一样；</li><li>del和pop()的区别在于：del删除的元素不可以再继续使用了，但是pop()有个返回值，因为当作栈使用，它删除的元素还可以在其他地方继续使用；</li><li><font color="#FF7F00">reverse() ：</font> 按元素顺序倒转；</li><li><font color="#FF7F00">sort() ：</font> 是方法，对列表进行永久性排序，前提是列表中所有元素数据类型一样；</li><li><font color="#FF7F00">sorted() ：</font> 注意这是个函数，对列表进行临时排序，若列表中所有元素数据类型不一样会报错；</li></ol></blockquote><blockquote><p><font color="#00B2EE" face="Comic sans MS"><strong>2. 按值来使用的方法</strong></font></p><ol><li><font color="#FF7F00"><strong>remove(“String”)</strong>：</font> 删除列表中值为String的元素。注意：方法remove() 只删除第一个指定的值。如果要删除的值可能在列表中出现多次，就需要使用循环来判断是否删除了所有这样的值。</li></ol></blockquote><p><br></p><p>下面示例代码（注意“//”不代表注释，仅仅为了展示）：</p><pre class=" language-python"><code class="language-python">list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">]</span>list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token punctuation">]</span>list1<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">)</span>      <span class="token operator">//</span>append<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span>a <span class="token operator">=</span> list2<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>          <span class="token operator">//</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">del</span> list2<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>              <span class="token operator">//</span><span class="token keyword">del</span><span class="token keyword">print</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span>list2<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span>         <span class="token operator">//</span>insert<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token operator">//</span>len<span class="token punctuation">(</span><span class="token punctuation">)</span>list1<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">1997</span><span class="token punctuation">)</span>        <span class="token operator">//</span>removelist1<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">"Adam"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span>运行结果：<span class="token punctuation">[</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token string">'Adam'</span><span class="token punctuation">]</span> <span class="token number">4</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token number">6</span> <span class="token punctuation">[</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">]</span> </code></pre><pre class=" language-python"><code class="language-python">p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'asp'</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">]</span>s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span><span class="token string">'scheme'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>                        <span class="token operator">//</span>临时排序<span class="token keyword">print</span><span class="token punctuation">(</span>sorted<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>   <span class="token operator">//</span>永久排序 s<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>            <span class="token operator">//</span>倒序运行结果：<span class="token punctuation">[</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">'scheme'</span><span class="token punctuation">,</span> <span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">]</span> </code></pre><p><br></p><p><br></p><h4 id="3-2-嵌套使用列表"><a href="#3-2-嵌套使用列表" class="headerlink" title="3.2 嵌套使用列表"></a><font color="#3CB371" face="Comic sans MS">3.2 嵌套使用列表</font></h4><p><br></p><pre class=" language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'asp'</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：<span class="token number">4</span> </code></pre><p><br></p><p>要注意s只有4个元素，其中s[2]又是一个list，如果拆开写就更容易理解了。<br>要拿到’php’可以写p[1]或者s[2][1]，因此s可以看成是一个二维数组，类似的还有三维、四维……数组，不过很少用到。</p><pre class=" language-python"><code class="language-python">p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'asp'</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">]</span>s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>运行结果：<span class="token punctuation">[</span><span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'asp'</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'scheme'</span><span class="token punctuation">]</span> php php </code></pre><p><br></p><p><br></p><h3 id="四-列表常用的方法和函数"><a href="#四-列表常用的方法和函数" class="headerlink" title="四. 列表常用的方法和函数"></a><font color="#FF6347" face="Comic sans MS">四. 列表常用的方法和函数</font></h3><h4 id="4-1-列表操作符"><a href="#4-1-列表操作符" class="headerlink" title="4.1 列表操作符"></a><font color="#3CB371" face="Comic sans MS">4.1 列表操作符</font></h4><p>列表对 + 和 * 的操作符与字符串相似。+ 号用于组合列表，* 号用于重复列表。<br>如下所示：</p><table><thead><tr><th style="text-align:left">Python表达式</th><th style="text-align:left">结果</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">len([1, 2, 3])</td><td style="text-align:left">3</td><td style="text-align:left">长度</td></tr><tr><td style="text-align:left">[1, 2, 3] + [4, 5, 6]</td><td style="text-align:left">[1, 2, 3, 4, 5, 6]</td><td style="text-align:left">组合</td></tr><tr><td style="text-align:left">[‘Hi!’] * 4</td><td style="text-align:left">[‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’]</td><td style="text-align:left">重复</td></tr><tr><td style="text-align:left">3 in [1, 2, 3]</td><td style="text-align:left">True</td><td style="text-align:left">元素是否存在于列表中</td></tr><tr><td style="text-align:left">for x in [1, 2, 3]: print x,</td><td style="text-align:left">1 2 3</td><td style="text-align:left">迭代</td></tr></tbody></table><p><br></p><p><br></p><h4 id="4-2-列表函数-amp-方法"><a href="#4-2-列表函数-amp-方法" class="headerlink" title="4.2 列表函数&amp;方法"></a><font color="#3CB371" face="Comic sans MS">4.2 列表函数&amp;方法</font></h4><p>可查阅：<font color="#00B2EE">[<a href="http://www.runoob.com/python/python-lists.html" target="_blank" rel="noopener">Python列表函数&amp;方法</a>]</font></p><p>列表中Python包含以下函数:</p><table><thead><tr><th style="text-align:center">序号</th><th style="text-align:left">函数</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:left">cmp(list1, list2)<br>比较两个列表的元素</td></tr><tr><td style="text-align:center">2</td><td style="text-align:left">len(list)<br>列表元素个数</td></tr><tr><td style="text-align:center">3</td><td style="text-align:left">max(list)<br>返回列表元素最大值</td></tr><tr><td style="text-align:center">4</td><td style="text-align:left">min(list)<br>返回列表元素最小值</td></tr><tr><td style="text-align:center">5</td><td style="text-align:left">list(seq)<br>将元组转换为列表</td></tr></tbody></table><p><br></p><p>Python包含以下方法:</p><table><thead><tr><th style="text-align:center">序号</th><th style="text-align:left">方法</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:left">list.append(obj)<br>在列表末尾添加新的对象</td></tr><tr><td style="text-align:center">2</td><td style="text-align:left">list.count(obj)<br>统计某个元素在列表中出现的次数</td></tr><tr><td style="text-align:center">3</td><td style="text-align:left">list.extend(seq)<br>在列表末尾一次性追加另一个序列中的多个值（用新列表扩展原来的列表）</td></tr><tr><td style="text-align:center">4</td><td style="text-align:left">list.index(obj)<br>从列表中找出某个值第一个匹配项的索引位置</td></tr><tr><td style="text-align:center">5</td><td style="text-align:left">list.insert(index, obj)<br>将对象插入列表</td></tr><tr><td style="text-align:center">6</td><td style="text-align:left">list.pop([index=-1])<br>移除列表中的一个元素（默认最后一个元素），并且返回该元素的值</td></tr><tr><td style="text-align:center">7</td><td style="text-align:left">list.remove(obj)<br>移除列表中某个值的第一个匹配项</td></tr><tr><td style="text-align:center">8</td><td style="text-align:left">list.reverse()<br>反向列表中元素</td></tr><tr><td style="text-align:center">9</td><td style="text-align:left">list.sort(cmp=None, key=None, reverse=False)<br>对原列表进行排序</td></tr></tbody></table><p><br></p><p><br></p><h3 id="五-元组"><a href="#五-元组" class="headerlink" title="五. 元组"></a><font color="#FF6347" face="Comic sans MS">五. 元组</font></h3><blockquote><p><font color="#00B2EE" face="Comic sans MS"><strong>什么是元组tuple：</strong></font></p><ol><li>Python的元组与列表类似，不同之处在于元组的元素不能修改。</li><li>元组使用小括号<code>()</code>，列表使用方括号<code>[]</code>。</li><li>元组创建很简单，只需要在括号中添加元素，并使用逗号隔开即可。</li><li>当括号中只有一个数字没有逗号时，既表示一个数字也可以便是一个元组，又可以表示数学公式中的小括号，这就产生了歧义。这种情况下，按小括号进行计算，计算结果自然是1。所以，只有1个元素的tuple定义时<font color="#FF7F00"><strong>必须加一个逗号</strong></font>。</li></ol></blockquote><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>一、定义元组</strong></font><pre class=" language-python"><code class="language-python">tup1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>tup2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">)</span>tup3 <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span></code></pre><p><br></p><p>创建空元组：<code>tup1 = ()</code></p><p>元组中只包含一个元素时，需要在元素后面添加逗号。<code>tup1 = (50,)</code></p><p>元组与字符串类似，下标索引从0开始，可以进行截取，组合等。</p><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>二、使用元组</strong></font><ol><li>元组可以使用下标索引来访问元组中的值，如下：</li></ol><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/python</span>tup1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>tup2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token string">"tup1[0]: "</span><span class="token punctuation">,</span> tup1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">print</span> <span class="token string">"tup2[1:5]: "</span><span class="token punctuation">,</span> tup2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>以上实例输出结果：tup1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  physicstup2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></code></pre><ol start="2"><li><p>元组的值不允许修改，但是可以进行运算，比如连接用加号（+），重复用星号（*）。</p></li><li><p>元组中的元素值是不允许删除的，但我们可以使用del语句来删除整个元组</p></li></ol><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/python</span>tup <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token keyword">print</span> tup<span class="token keyword">del</span> tup<span class="token keyword">print</span> <span class="token string">"After deleting tup : "</span><span class="token keyword">print</span> tup</code></pre><p>以上实例元组被删除后，输出变量会有异常信息，输出如下所示：</p><pre class=" language-python"><code class="language-python"><span class="token punctuation">(</span><span class="token string">'physics'</span><span class="token punctuation">,</span> <span class="token string">'chemistry'</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>After deleting tup <span class="token punctuation">:</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"test.py"</span><span class="token punctuation">,</span> line <span class="token number">9</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>    <span class="token keyword">print</span> tupNameError<span class="token punctuation">:</span> name <span class="token string">'tup'</span> <span class="token keyword">is</span> <span class="token operator">not</span> defined</code></pre><p><br></p><ol start="4"><li><font color="#FF7F00"><strong>最后来看一个“可变的”tuple：</strong></font></li></ol><pre class=" language-python"><code class="language-python">t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>t<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'X'</span>t<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Y'</span><span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>运行结果：<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'X'</span><span class="token punctuation">,</span> <span class="token string">'Y'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> </code></pre><p>这个tuple定义的时候有3个元素，分别是’a’，’b’和一个list。不是说tuple一旦定义后就不可变了吗？怎么后来又变了？<br>别急，我们先看看定义的时候tuple包含的3个元素：</p><p><img src="https://i.loli.net/2019/02/28/5c77b1cc56635.png" alt="0.png"></p><p>当我们把list的元素’A’和’B’修改为’X’和’Y’后，tuple变为：</p><p><img src="https://i.loli.net/2019/02/28/5c77b1f4c3628.png" alt="0 (1).png"></p><p><br></p><p>表面上看，tuple的元素确实变了，但其实变的不是tuple的元素，而是list的元素。tuple一开始指向的list并没有改成别的list，所以，tuple所谓的“不变”是说，tuple的每个元素，指向永远不变。即指向’a’，就不能改成指向’b’，指向一个list，就不能改成指向其他对象，但指向的这个list本身是可变的！</p><p>理解了“指向不变”后，要创建一个内容也不变的tuple怎么做？那就必须保证tuple的每一个元素本身也不能变。</p><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>三、元组运算符</strong></font><p>与字符串一样，元组之间可以使用 + 号和 * 号进行运算。这就意味着他们可以组合和复制，运算后会生成一个新的元组。</p><table><thead><tr><th style="text-align:left">Python表达式</th><th style="text-align:left">结果</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">len((1, 2, 3))</td><td style="text-align:left">3</td><td style="text-align:left">计算元素个数</td></tr><tr><td style="text-align:left">(1, 2, 3) + (4, 5, 6)</td><td style="text-align:left">(1, 2, 3, 4, 5, 6)</td><td style="text-align:left">连接</td></tr><tr><td style="text-align:left">(‘Hi!’,) * 4</td><td style="text-align:left">(‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’)</td><td style="text-align:left">复制</td></tr><tr><td style="text-align:left">3 in (1, 2, 3)</td><td style="text-align:left">True</td><td style="text-align:left">元素是否存在</td></tr><tr><td style="text-align:left">for x in (1, 2, 3): print x,</td><td style="text-align:left">1 2 3</td><td style="text-align:left">迭代</td></tr></tbody></table><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>四、元组内置函数</strong></font><p>Python元组包含了以下内置函数</p><table><thead><tr><th style="text-align:center">序号</th><th style="text-align:left">函数</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:left">cmp(tuple1, tuple2)<br>比较两个元组元素。</td></tr><tr><td style="text-align:center">2</td><td style="text-align:left">len(tuple)<br>计算元组元素个数。</td></tr><tr><td style="text-align:center">3</td><td style="text-align:left">max(tuple)<br>返回元组中元素最大值。</td></tr><tr><td style="text-align:center">4</td><td style="text-align:left">min(tuple)<br>返回元组中元素最小值。</td></tr><tr><td style="text-align:center">5</td><td style="text-align:left">tuple(seq)<br>将列表转换为元组。</td></tr></tbody></table><p><br></p><p><br></p><h3 id="六-字典"><a href="#六-字典" class="headerlink" title="六. 字典"></a><font color="#FF6347" face="Comic sans MS">六. 字典</font></h3><h4 id="6-1-字典的定义"><a href="#6-1-字典的定义" class="headerlink" title="6.1 字典的定义"></a><font color="#3CB371" face="Comic sans MS">6.1 字典的定义</font></h4><blockquote><p><font color="#00B2EE" face="Comic sans MS"><strong>关于字典dict：</strong></font></p><ol><li>字典是另一种可变容器模型，且可存储任意类型对象；</li><li>字典的每个键值 key=&gt;value 对用冒号 : 分割，每个键值对之间用逗号 , 分割，整个字典包括在花括号 {} 中；<code>d = {key1 : value1, key2 : value2 }</code></li><li>键一般是唯一的，如果重复最后的一个键值对会替换前面的，值不需要唯一；</li><li>值可以取任何数据类型，但键必须是不可变的，如字符串，数字或元组；</li><li>第一个键定义为什么数据类型，后面所有的键必须定义为相同的数据类型；</li><li>访问字典里的值，把相应的键放入熟悉的方括弧即可，<code>dict[key]</code></li></ol></blockquote><p><br></p><h4 id="6-2-字典的修改"><a href="#6-2-字典的修改" class="headerlink" title="6.2 字典的修改"></a><font color="#3CB371" face="Comic sans MS">6.2 字典的修改</font></h4><p>向字典添加新内容的方法是增加新的键/值对，修改或删除已有键/值对</p><font color="#00B2EE" face="Comic sans MS"><strong>一、添加键—值对、修改字典</strong></font><br><br><br><br><font color="#FF7F00"><strong>字典是一种动态结构，可随时在其中添加键—值对</strong></font>。要添加键—值对，可依次指定字典名、用方括号括起的键和相关联的值。<br><br><br>如下示例，我们先建立一个空字典，然后向里面添加元素（键值对）并修改：<br><font color="#FF7F00"></font><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>a<span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">'green'</span>a<span class="token punctuation">[</span><span class="token string">'points'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">5</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span><span class="token string">'points'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>a<span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">666</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span><span class="token string">'points'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>运行结果：green <span class="token number">5</span><span class="token number">666</span> <span class="token number">5</span></code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>二、删除键—值对</strong></font><p>能删单一的元素也能清空字典，清空只需一项操作。</p><blockquote><p><font color="#FF7F00"><strong>删除字典可以使用del或者pop()。</strong></font></p><ol><li><font color="#FF7F00"><strong>要删除一个key:</strong></font><ol><li>用pop(key)方法，对应的value也会从dict中删除</li><li>可使用del 语句将相应的键—值对彻底删除。使用del 语句时，必须指定字典名和要删除的键。<code>del dict[&#39;key&#39;]</code></li></ol></li><li><font color="#FF7F00"><strong>删除整个字典：</strong></font>del dict 则dict这个字典被删除了</li></ol></blockquote><p><br></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: UTF-8 -*-</span>dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Name'</span><span class="token punctuation">:</span> <span class="token string">'Zara'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'Class'</span><span class="token punctuation">:</span> <span class="token string">'First'</span><span class="token punctuation">}</span><span class="token keyword">del</span> dict<span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true"># 删除键是'Name'的条目</span>dict<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'Class'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict<span class="token punctuation">[</span><span class="token string">'Age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>dict<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true"># 清空词典所有条目</span><span class="token keyword">del</span> dict          <span class="token comment" spellcheck="true"># 删除词典</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict<span class="token punctuation">[</span><span class="token string">'Age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>运行结果：<span class="token number">7</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"1.py"</span><span class="token punctuation">,</span> line <span class="token number">11</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>    <span class="token keyword">print</span><span class="token punctuation">(</span>dict<span class="token punctuation">[</span><span class="token string">'Age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>TypeError<span class="token punctuation">:</span> <span class="token string">'type'</span> object <span class="token keyword">is</span> <span class="token operator">not</span> subscriptable</code></pre><p><br></p><h4 id="6-3-字典的遍历"><a href="#6-3-字典的遍历" class="headerlink" title="6.3 字典的遍历"></a><font color="#3CB371" face="Comic sans MS">6.3 字典的遍历</font></h4><font color="#00B2EE" face="Comic sans MS"><strong>一、判断字典中</strong><font color="red"><strong>某个键</strong></font><strong>是否存在</strong></font><blockquote><p><font color="#FF7F00"><strong>方法：</strong></font></p><ol><li>通过in判断key是否存在；</li><li>通过dict提供的get()方法，如果key不存在，可以返回None，或者返回自己指定的value。</li></ol></blockquote><p><br></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: UTF-8 -*-</span>dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Name'</span><span class="token punctuation">:</span> <span class="token string">'Zara'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'Class'</span><span class="token punctuation">:</span> <span class="token string">'First'</span><span class="token punctuation">}</span>a <span class="token operator">=</span> <span class="token string">'Name'</span> <span class="token keyword">in</span> dictb <span class="token operator">=</span> <span class="token string">'Year'</span> <span class="token keyword">in</span> dict<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>c <span class="token operator">=</span> dict<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'Name'</span><span class="token punctuation">,</span><span class="token string">'如果不存在，这里是返回信息'</span><span class="token punctuation">)</span>d <span class="token operator">=</span> dict<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'Year'</span><span class="token punctuation">,</span><span class="token string">'如果不存在，这里是返回信息'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>运行结果：<span class="token boolean">True</span><span class="token boolean">False</span>Zara如果不存在，这里是返回信息</code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>二、遍历字典中的所有键</strong></font><p>在不需要使用字典中的值时，方法keys() 很有用。</p><pre class=" language-python"><code class="language-python">f <span class="token operator">=</span> <span class="token punctuation">{</span>      <span class="token string">'jen'</span><span class="token punctuation">:</span> <span class="token string">'python'</span><span class="token punctuation">,</span>      <span class="token string">'sarah'</span><span class="token punctuation">:</span> <span class="token string">'c'</span><span class="token punctuation">,</span>      <span class="token string">'edward'</span><span class="token punctuation">:</span> <span class="token string">'ruby'</span><span class="token punctuation">,</span>      <span class="token string">'phil'</span><span class="token punctuation">:</span> <span class="token string">'python'</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span>  <span class="token keyword">for</span> name <span class="token keyword">in</span> f<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：JenSarahEdwardPhil</code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>三、遍历字典中的所有值</strong></font><p>如果你感兴趣的主要是字典包含的值，可使用方法values() ，它返回一个值列表，而不包含任何键。</p><pre class=" language-python"><code class="language-python">f <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'jen'</span><span class="token punctuation">:</span> <span class="token string">'python'</span><span class="token punctuation">,</span>    <span class="token string">'sarah'</span><span class="token punctuation">:</span> <span class="token string">'c'</span><span class="token punctuation">,</span>    <span class="token string">'edward'</span><span class="token punctuation">:</span> <span class="token string">'ruby'</span><span class="token punctuation">,</span>    <span class="token string">'phil'</span><span class="token punctuation">:</span> <span class="token string">'python'</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token keyword">for</span> g <span class="token keyword">in</span> f<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：PythonCRubyPython</code></pre><p><br></p><h4 id="6-4-字典的各种嵌套"><a href="#6-4-字典的各种嵌套" class="headerlink" title="6.4 字典的各种嵌套"></a><font color="#3CB371" face="Comic sans MS">6.4 字典的各种嵌套</font></h4><p>请自行查阅Python编程：从入门到实践 6.4</p><p><br></p><h4 id="6-5-字典内置函数-amp-方法"><a href="#6-5-字典内置函数-amp-方法" class="headerlink" title="6.5 字典内置函数&amp;方法"></a><font color="#3CB371" face="Comic sans MS">6.5 字典内置函数&amp;方法</font></h4><p>可查阅：<font color="#00B2EE">[<a href="http://www.runoob.com/python/python-dictionary.html" target="_blank" rel="noopener">Python字典函数&amp;方法</a>]</font></p><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>一、Python字典包含了以下内置函数：</strong></font><table><thead><tr><th style="text-align:center">序号</th><th style="text-align:left">函数</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:left">cmp(dict1, dict2)<br>比较两个字典元素。</td></tr><tr><td style="text-align:center">2</td><td style="text-align:left">len(dict)<br>计算字典元素个数，即键的总数。</td></tr><tr><td style="text-align:center">3</td><td style="text-align:left">str(dict)<br>输出字典可打印的字符串表示。</td></tr><tr><td style="text-align:center">4</td><td style="text-align:left">type(variable)<br>返回输入的变量类型，如果变量是字典就返回字典类型。</td></tr></tbody></table><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>二、Python字典包含了以下内置方法：</strong></font><table><thead><tr><th style="text-align:center">序号</th><th style="text-align:left">方法</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:left">dict.clear()<br>删除字典内所有元素</td></tr><tr><td style="text-align:center">2</td><td style="text-align:left">dict.copy()<br>返回一个字典的浅复制</td></tr><tr><td style="text-align:center">3</td><td style="text-align:left">dict.fromkeys(seq[, val])<br>创建一个新字典，以序列 seq 中元素做字典的键，val 为字典所有键对应的初始值</td></tr><tr><td style="text-align:center">4</td><td style="text-align:left">dict.get(key, default=None)<br>返回指定键的值，如果值不在字典中返回default值</td></tr><tr><td style="text-align:center">5</td><td style="text-align:left">dict.has_key(key)<br>如果键在字典dict里返回true，否则返回false</td></tr><tr><td style="text-align:center">6</td><td style="text-align:left">dict.items()<br>以列表返回可遍历的(键, 值) 元组数组</td></tr><tr><td style="text-align:center">7</td><td style="text-align:left">dict.keys()<br>以列表返回一个字典所有的键</td></tr><tr><td style="text-align:center">8</td><td style="text-align:left">dict.setdefault(key, default=None)<br>和get()类似, 但如果键不存在于字典中，将会添加键并将值设为default</td></tr><tr><td style="text-align:center">9</td><td style="text-align:left">dict.update(dict2)<br>把字典dict2的键/值对更新到dict里</td></tr><tr><td style="text-align:center">10</td><td style="text-align:left">dict.values()<br>以列表返回字典中的所有值</td></tr><tr><td style="text-align:center">11</td><td style="text-align:left">pop(key[,default])<br>删除字典给定键 key 所对应的值，返回值为被删除的值。key值必须给出。 否则，返回default值。</td></tr><tr><td style="text-align:center">12</td><td style="text-align:left">popitem()<br>随机返回并删除字典中的一对键和值。</td></tr></tbody></table><p><br></p><p><br></p><h3 id="七-集合"><a href="#七-集合" class="headerlink" title="七. 集合"></a><font color="#FF6347" face="Comic sans MS">七. 集合</font></h3><blockquote><p><font color="#FF7F00"><strong>集合是什么：</strong></font></p><ol><li>集合和字典类似，也是一组key的集合，但不存储value。由于key不能重复，所以，在集合中，没有重复的key；</li><li>集合可以看成数学意义上的无序和无重复元素的集合，因此，两个set可以做数学意义上的交集、并集，差等操作；</li><li>基本功能包括关系测试和消除重复元素。集合对象还支持 union（联合），intersection（交），difference（差）和 sysmmetric difference（对称差集）等数学运算；</li><li>大括号或 set() <strong>函数</strong>可以用来创建集合。注意：想要创建空集合，你必须使用 set() 而不是 {}。后者用于创建空字典。</li><li>注意：<font color="#FF7F00"><strong>set()只能放一个参数，它会将里面的字符串拆成字符，并且每个字符都是无序的（集合的属性）</strong></font>；</li><li>如果集合中包含多喝不可拆的元素，则必须用{}来定义集合。</li></ol></blockquote><p><br></p><p>仔细分析如下代码：</p><pre class=" language-python"><code class="language-python">basket <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'apple'</span><span class="token punctuation">,</span>     <span class="token string">'orange'</span><span class="token punctuation">,</span>     <span class="token string">'apple'</span><span class="token punctuation">,</span>     <span class="token string">'pear'</span><span class="token punctuation">,</span>     <span class="token string">'orange'</span><span class="token punctuation">,</span>     <span class="token string">'banana'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>basket<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span> a <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token string">'abracadabra'</span><span class="token punctuation">)</span>b <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token string">'alacazam'</span><span class="token punctuation">)</span>c <span class="token operator">=</span>set<span class="token punctuation">(</span><span class="token string">'我们'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">|</span> b<span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">^</span> b <span class="token punctuation">)</span> 运行结果：<span class="token punctuation">{</span><span class="token string">'pear'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'们'</span><span class="token punctuation">,</span> <span class="token string">'我'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Python的列表相当于数组 ( ⸝⸝•ᴗ•⸝⸝ )੭⁾⁾&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-字符编码&amp;字符串&amp;格式化</title>
    <link href="Treecatee.gitgub.io/post/python-coding/"/>
    <id>Treecatee.gitgub.io/post/python-coding/</id>
    <published>2019-02-27T17:15:48.000Z</published>
    <updated>2019-03-06T16:37:05.300Z</updated>
    
    <content type="html"><![CDATA[<p>字符编码、字符串(๑°⌓︎°๑)<br><a id="more"></a></p><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>Python-字符编码、字符串、格式化</strong></font> </center><p><br></p><p><br></p><h3 id="一-字符编码"><a href="#一-字符编码" class="headerlink" title="一. 字符编码"></a><font color="#FF6347" face="Comic sans MS">一. 字符编码</font></h3><ol><li><p>我们已经讲过了，字符串也是一种数据类型，但是，<strong>字符串</strong>比较特殊的是还有一个<strong>编码</strong>问题。</p></li><li><p><font color="#FF7F00"><strong>因为计算机只能处理数字，如果要处理文本，就必须先把文本转换为数字才能处理</strong></font>。最早的计算机在设计时采用8个比特（<strong><code>8 bit</code></strong>）作为一个字节（<strong><code>1 byte</code></strong>）。</p><ol><li>所以，<strong><code>一个字节</code></strong>能表示的最大的整数就是<strong><code>255</code></strong>（二进制11111111=十进制255）；</li><li>如果要表示更大的整数，就必须用更多的字节。比如两个字节可以表示的最大整数是65535，<strong><code>4个字节</code></strong>可以表示的最大整数是<strong><code>4294967295</code></strong>。</li></ol></li><li><p>由于计算机是美国人发明的，因此，最早只有127个字符被编码到计算机里，也就是大小写英文字母、数字和一些符号，这个编码表被称为<font color="#FF7F00"><strong>ASCII编码</strong></font>，比如大写字母<code>A</code>的编码是<code>65</code>，小写字母<code>z</code>的编码是<code>122</code>。</p></li><li><p>但是要处理中文显然一个字节是不够的，<strong>至少需要两个字节</strong>，而且还不能和ASCII编码冲突，所以，<font color="#FF7F00"><strong>中国制定了GB2312编码，用来把中文编进去</strong></font>。</p></li><li><p>你可以想得到的是，全世界有上百种语言，日本把日文编到<code>Shift_JIS</code>里，韩国把韩文编到<code>Euc-kr</code>里，各国有各国的标准，就会不可避免地出现冲突，结果就是，在多语言混合的文本中，显示出来会有乱码。</p></li><li><p>因此，<code>Unicode</code>应运而生。<font color="#FF7F00"><strong>Unicode把所有语言都统一到一套编码里，这样就不会再有乱码问题了</strong></font>。</p><ol><li>Unicode标准也在不断发展，但最常用的是<font color="#00B2EE"><strong>用两个字节表示一个字符</strong></font>（如果要用到非常偏僻的字符，就需要4个字节）。现代操作系统和大多数编程语言都直接支持Unicode。</li><li><p>现在，捋一捋ASCII编码和Unicode编码的区别：<font color="#00B2EE"><strong>ASCII编码是1个字节，而Unicode编码通常是2个字节</strong></font>。</p><ol><li>字母<code>A</code>用ASCII编码是十进制的<code>65</code>，二进制的<code>01000001</code>；</li><li>字符<code>0</code>用ASCII编码是十进制的<code>48</code>，二进制的<code>00110000</code>，注意字符’0’(‘零’)和整数0(零)是不同的；</li><li>汉字<code>中</code>已经超出了ASCII编码的范围，用Unicode编码是十进制的<code>20013</code>，二进制的<code>01001110 00101101</code>。</li><li>你可以猜测，如果<font color="red"><strong>把ASCII编码的A用Unicode编码，只需要在前面补0(零)就可以</strong></font>，因此，A的Unicode编码是00000000 01000001。</li></ol></li><li><p>新的问题又出现了：如果统一成Unicode编码，乱码问题从此消失了。但是，如果你写的文本基本上全部是英文的话，<font color="#00B2EE"><strong>用Unicode编码比ASCII编码需要多一倍的存储空间</strong></font>，在存储和传输上就十分不划算。</p></li><li>所以，<strong>本着节约的精神</strong>，又出现了<font color="#00B2EE"><strong>把Unicode编码转化为“可变长编码”的UTF-8编码</strong></font>。UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成1个字节，汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节。如果你要传输的文本包含大量英文字符，用UTF-8编码就能节省空间：</li></ol></li></ol><table><thead><tr><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">字符</td><td style="text-align:center">ASCII</td><td style="text-align:center">Unicode</td><td style="text-align:center">UTF-8</td></tr><tr><td style="text-align:center">A</td><td style="text-align:center">1000001</td><td style="text-align:center">00000000 01000001</td><td style="text-align:center">01000001</td></tr><tr><td style="text-align:center">中</td><td style="text-align:center">x</td><td style="text-align:center">01001110 00101101</td><td style="text-align:center">11100100 10111000 10101101</td></tr></tbody></table><blockquote><ol><li>从上面的表格还可以发现，UTF-8编码有一个额外的好处，就是<font color="#FF7F00"><strong>ASCII编码实际上可以被看成是UTF-8编码的一部分</strong></font>，所以，大量只支持ASCII编码的历史遗留软件可以在UTF-8编码下继续工作。</li></ol></blockquote><p><strong>总结一下现在计算机系统通用的字符编码工作方式：</strong></p><ol><li><font color="#FF7F00"><strong>在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码</strong></font>。</li><li>举例：用记事本编辑(计算机内存中)的时候，从文件读取的UTF-8字符被转换为Unicode字符到内存里，编辑完成后，保存的时候再把Unicode转换为UTF-8(保存到文件硬盘或者需要传输)</li></ol><p><br></p><p>PS：所以你看到很多网页的源码上会有类似<code>&lt;meta charset=&quot;UTF-8&quot; /&gt;</code>的信息，表示该网页正是用的UTF-8编码。</p><p><br></p><p><br></p><h3 id="二-代码编码和文件编码的设置"><a href="#二-代码编码和文件编码的设置" class="headerlink" title="二. 代码编码和文件编码的设置"></a><font color="#FF6347" face="Comic sans MS">二. 代码编码和文件编码的设置</font></h3><blockquote><p><strong>Python中默认的编码格式是 ASCII 格式，在没修改编码格式时无法正确打印汉字，所以在读取中文时会报错。</strong><br>解决方法为只要在文件开头加入<code># -*- coding: UTF-8 -*-</code> 或者 <code>#coding=utf-8</code> 就行了<br>（<strong>注意：</strong><code>#coding=utf-8</code> 的 <code>=</code> 号两边不要空格。）</p></blockquote><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/python</span><span class="token comment" spellcheck="true"># -*- coding: UTF-8 -*-</span><span class="token keyword">print</span> <span class="token string">"你好，世界"</span><span class="token punctuation">;</span>运行结果：你好，世界</code></pre><blockquote><p><strong>注意：</strong></p><ol><li>Python3.X 源码文件默认使用utf-8编码，所以可以正常解析中文，无需指定 UTF-8 编码。</li><li>注意：如果你使用编辑器，同时需要设置 py 文件存储的格式为 UTF-8</li></ol></blockquote><p><br></p><p><br></p><h3 id="三-字符与编码的转换"><a href="#三-字符与编码的转换" class="headerlink" title="三. 字符与编码的转换"></a><font color="#FF6347" face="Comic sans MS">三. 字符与编码的转换</font></h3><p>在最新的Python 3版本中，<font color="#FF7F00"><strong>字符串是以Unicode编码的</strong></font>，也就是说，Python的字符串支持多语言（字符串可以写任意国家文字）。</p><p><br></p><h4 id="3-1-字符与十进制编码的转换"><a href="#3-1-字符与十进制编码的转换" class="headerlink" title="3.1 字符与十进制编码的转换"></a><font color="#3CB371" face="Comic sans MS">3.1 字符与十进制编码的转换</font></h4><blockquote><p><strong>使用函数：</strong></p><ol><li>ord()：将字符转换成其对应的整数（十进制），注意不是字符串；</li><li>chr()：将十进制整数转换成其对应的字符。</li></ol></blockquote><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span>ord<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>b<span class="token operator">=</span>chr<span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>运行结果：<span class="token number">65</span> x </code></pre><p><br></p><h4 id="3-2-不同编码之间的转换"><a href="#3-2-不同编码之间的转换" class="headerlink" title="3.2 不同编码之间的转换"></a><font color="#3CB371" face="Comic sans MS">3.2 不同编码之间的转换</font></h4><p>由于Python的字符串类型是str，<font color="#FF7F00"><strong>在内存中以Unicode表示，一个字符对应若干个字节</strong></font>。如果要在网络上传输，或者保存到磁盘上，就需要<font color="#FF7F00"><strong>把str变为以字节为单位的bytes</strong></font>。</p><p>Python对bytes类型的数据用带<code>b前缀</code>的<font color="#FF7F00"><strong>单引号</strong></font>或<font color="#FF7F00"><strong>双引号</strong></font>表示：</p><pre class=" language-python"><code class="language-python">x <span class="token operator">=</span> b<span class="token string">'ABC'</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>运行结果：b<span class="token string">'ABC'</span> </code></pre><blockquote><p><strong>结论：</strong>要注意区分’ABC’和b’ABC’，前者是str，后者虽然内容显示得和前者一样，但<font color="#FF7F00"><strong>bytes的每个字符都只占用一个字节</strong></font>。</p></blockquote><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>不同编码之间的转换使用函数：</strong></font><ol><li><strong>decode()：</strong> 解码，将其他编码的字符串解码成unicode编码；</li><li><strong>encode()：</strong> 转码，将unicode编码的字符串转码成其他编码。</li><li><strong>decode(“utf-8”, errors=”ignore”) ：</strong> 忽略其中有异常的编码，仅显示有效的编码；</li><li><strong>decode(“utf-8”, errors=”replace”)：</strong> 替换其中异常的编码，这个相对来可能一眼就知道那些字符编码出问题了；</li><li><strong>len()：</strong> 计算的是str的字符数，如果换成bytes，len()函数就计算字节数。</li></ol><p><br></p><p>资料查阅：<font color="#00B2EE">[<a href="https://blog.csdn.net/xw_classmate/article/details/51934723" target="_blank" rel="noopener">Python中的编码（encode）与解码（decode）程</a>]</font></p><p><br></p><p>字符串在Python内部的表示是unicode编码，因此，在做编码转换时，通常需要以unicode作为<font color="#FF7F00"><strong>中间编码</strong></font>，即先将其他编码的字符串解码（<code>decode</code>）成unicode，再从unicode编码（<code>encode</code>）成另一种编码。</p><p><br></p><p>举例1：以Unicode表示的str通过<code>encode()</code>方法可以编码为指定的bytes</p><pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：b<span class="token string">'ABC'</span> b<span class="token string">'\xe4\xb8\xad\xe6\x96\x87'</span> Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>   File <span class="token string">"C:\Users\Alvin\AppData\Local\Temp\learn_python_q5t__kzk_py\test_21.py"</span><span class="token punctuation">,</span> line <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> UnicodeEncodeError<span class="token punctuation">:</span> <span class="token string">'ascii'</span> codec can't encode characters <span class="token keyword">in</span> position <span class="token number">0</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span> ordinal <span class="token operator">not</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span> </code></pre><p><br></p><blockquote><p>第三个输出报错是因为含有中文的str无法用ASCII编码，因为中文编码的范围超过了ASCII编码的范围，Python会报错。</p></blockquote><p><br></p><p>举例2：以Unicode表示的str通过<code>encode()</code>方法可以编码为指定的bytes    </p><pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token string">'ABC'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token string">'\xe4\xb8\xad\xe6\x96\x87'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token string">'\xe4\xb8\xad\xff'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：ABC 中文 Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>   File <span class="token string">"C:\Users\Alvin\AppData\Local\Temp\learn_python_q5t__kzk_py\test_22.py"</span><span class="token punctuation">,</span> line <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>     <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token string">'\xe4\xb8\xad\xff'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> UnicodeDecodeError<span class="token punctuation">:</span> <span class="token string">'utf-8'</span> codec can't decode byte <span class="token number">0xff</span> <span class="token keyword">in</span> position <span class="token number">3</span><span class="token punctuation">:</span> invalid start byte </code></pre><blockquote><p>第三个输出报错是因为bytes中包含无法解码的字节，decode()方法会报错。</p></blockquote><p><br></p><p>举例3：如果bytes中只有一小部分无效的字节，可以传入<code>errors=&#39;ignore&#39;</code>忽略错误的字节</p><pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token string">'\xe4\xb8\xad'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'中'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token string">'\xe4\xb8\xad\xff'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：中 b<span class="token string">'\xe4\xb8\xad'</span> 中 </code></pre><p><br></p><p>举例4：<code>len()</code>函数计算的是str的字符数，如果换成bytes，len()函数就计算字节数</p><pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span><span class="token string">'ABC'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span>b<span class="token string">'ABC'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行结果：<span class="token number">3</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">6</span> </code></pre><p><br></p><blockquote><ol><li>可见，1个中文字符经过UTF-8编码后通常<font color="#FF7F00"><strong>会占用3个字节，而1个英文字符只占用1个字节</strong></font>。</li><li>在操作字符串时，我们经常遇到str和bytes的互相转换。<font color="#FF7F00"><strong>为了避免乱码问题，应当始终坚持使用UTF-8编码对str和bytes进行转换</strong></font>。</li></ol></blockquote><p><br></p><p><br></p><h3 id="四-格式化"><a href="#四-格式化" class="headerlink" title="四. 格式化"></a><font color="#FF6347" face="Comic sans MS">四. 格式化</font></h3><blockquote><p><font color="#FF7F00"><strong>重要总结：</strong></font></p><ol><li>一个常见的问题是如何输出格式化的字符串。<ol><li>我们经常会输出类似”亲爱的<code>xxx</code>你好！你<code>xx</code>月的话费是<code>xx</code>，余额是<code>xx</code>“之类的字符串，而<code>xxx</code>的内容都是根据变量变化的，所以，需要一种简便的格式化字符串的方式。</li></ol></li><li>在Python中，采用的格式化方式和C语言是一致的，用<font color="#FF7F00"><strong>%</strong></font>实现。</li><li>%运算符就是用来格式化字符串的。在字符串内部，%s表示用字符串替换，%d表示用整数替换，有几个%?占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个%?，括号可以省略。</li><li>格式化整数还可以指定<font color="#FF7F00"><strong>是否补0和整数</strong></font>；浮点数可以指定<font color="#FF7F00"><strong>小数的位数</strong></font>。</li><li>要输出%，用%对其进行转义，即用%%来表示一个%。</li><li>另一种格式化字符串的方法是使用字符串的<font color="#FF7F00"><strong>format()方法</strong></font>，它会用传入的参数依次替换字符串内的占位符{0}、{1}……，不过这种方式写起来比%要麻烦得多</li></ol></blockquote><p><br></p><p>常见的占位符有：</p><table><thead><tr><th style="text-align:center">占位符</th><th style="text-align:center">替换内容</th></tr></thead><tbody><tr><td style="text-align:center">%d</td><td style="text-align:center">整数</td></tr><tr><td style="text-align:center">%f</td><td style="text-align:center">浮点数</td></tr><tr><td style="text-align:center">%s</td><td style="text-align:center">字符串</td></tr><tr><td style="text-align:center">%x</td><td style="text-align:center">十六进制整数</td></tr></tbody></table><p><br></p><p>示例代码：（里面的“//”并不代表注释符）</p><pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token string">'Hello, %s'</span> <span class="token operator">%</span> <span class="token string">'world'</span>    <span class="token operator">//</span> 替换一个不使用括号b <span class="token operator">=</span> <span class="token string">'Hi, %s, you have $%d.'</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token string">'Michael'</span><span class="token punctuation">,</span> <span class="token number">1000000</span><span class="token punctuation">)</span>   <span class="token operator">//</span> 替换多个使用括号c <span class="token operator">=</span> <span class="token string">'%6d-%02d'</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token operator">//</span>  <span class="token operator">%</span><span class="token number">6d</span>  表示输出<span class="token number">3</span>之前有（<span class="token number">6</span><span class="token operator">-</span><span class="token number">1</span>）个空格输出                         <span class="token operator">//</span>  <span class="token operator">%</span><span class="token number">05d</span> 表示输出<span class="token number">1</span>之前有（<span class="token number">5</span><span class="token operator">-</span><span class="token number">1</span>）个<span class="token number">0</span>输出d <span class="token operator">=</span> <span class="token string">'%.2f'</span> <span class="token operator">%</span> <span class="token number">3.145926</span>    <span class="token operator">//</span>  <span class="token operator">%</span><span class="token punctuation">.</span><span class="token number">2f</span> 表示输出的浮点数保留两位小数，第三位小数<span class="token operator">>=</span><span class="token number">5</span>就向前进<span class="token number">1</span>e <span class="token operator">=</span> <span class="token string">'growth rate: %d %%'</span> <span class="token operator">%</span> <span class="token number">7</span>   <span class="token operator">//</span>  转义，用<span class="token operator">%</span><span class="token operator">%</span>表示一个<span class="token operator">%</span>输出f<span class="token operator">=</span><span class="token string">'Hello, {0}, 成绩提升了 {1:.1f}%'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token number">17.125</span><span class="token punctuation">)</span>                         <span class="token operator">//</span>  使用字符串format<span class="token punctuation">(</span><span class="token punctuation">)</span>方法，注意括号里面的<span class="token number">1</span>的意义<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>运行结果：Hello<span class="token punctuation">,</span> world Hi<span class="token punctuation">,</span> Michael<span class="token punctuation">,</span> you have $<span class="token number">1000000</span><span class="token punctuation">.</span>      <span class="token number">3</span><span class="token operator">-</span><span class="token number">000000001</span> <span class="token number">3.15</span>growth rate<span class="token punctuation">:</span> <span class="token number">7</span> <span class="token operator">%</span> Hello<span class="token punctuation">,</span> 小明<span class="token punctuation">,</span> 成绩提升了 <span class="token number">17.1</span><span class="token operator">%</span> </code></pre><p><br></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;字符编码、字符串(๑°⌓︎°๑)&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-变量和数据类型</title>
    <link href="Treecatee.gitgub.io/post/python-variables-datatypes/"/>
    <id>Treecatee.gitgub.io/post/python-variables-datatypes/</id>
    <published>2019-02-27T12:00:39.000Z</published>
    <updated>2019-03-06T16:36:09.793Z</updated>
    
    <content type="html"><![CDATA[<p>定义一个变量就是定义了一个指针！  ٩(ˊᗜˋ*)و<br>字符串内容很多，就很烦(っ ̯ -｡)<br><a id="more"></a></p><p><br></p><p><br></p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>变量和数据类型</strong></font> </center><p><br></p><p><br></p><h3 id="一-变量"><a href="#一-变量" class="headerlink" title="一. 变量"></a><font color="#FF6347" face="Comic sans MS">一. 变量</font></h3><font color="#00B2EE" face="Comic sans MS"><strong>一、关于变量</strong></font><blockquote><ol><li>变量存储在内存中的值。这就意味着在创建变量时会<strong>在内存中开辟一个空间</strong>。</li><li>基于变量的数据类型，解释器会分配指定内存，并决定什么数据可以被存储在内存中。</li><li>Python 中的变量不需要声明。每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建。</li><li>在 Python 中，变量就是变量，它没有类型，我们所说的”类型”是变量所指的内存中对象的类型。</li></ol></blockquote><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>二、变量的赋值</strong></font><blockquote><ol><li>Python 中的变量赋值<font color="#FF7F00"><strong>不需要类型声明</strong></font>。</li><li>每个变量在内存中创建，都包括变量的标识，名称和数据这些信息。</li><li>每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建。</li><li>变量的赋值分为：<font color="#FF7F00"><strong>单个变量赋值</strong></font>和<font color="#FF7F00"><strong>多个变量赋值</strong></font></li></ol></blockquote><p><br></p><p><strong>单个变量赋值：</strong>使用等号（=）运算符左边是一个变量名,等号（=）运算符右边是存储在变量中的值。例如：</p><pre class=" language-python"><code class="language-python">message <span class="token operator">=</span> <span class="token string">"Hello Python world!"</span><span class="token keyword">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></code></pre><blockquote><p>我们添加了一个名为message的<strong>变量</strong>。每个变量都存储了一个<strong>值</strong>——与变量相关联的信息。在这里，存储的值为文本“Hello Python world!”。</p></blockquote><p><br></p><p><strong>多个变量赋值：</strong></p><pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> b <span class="token operator">=</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token comment" spellcheck="true">#以上实例，创建一个整型对象，值为1，三个变量被分配到相同的内存空间上。</span></code></pre><p>或者</p><pre class=" language-python"><code class="language-python">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"john"</span><span class="token comment" spellcheck="true">#以上实例，两个整型对象 1 和 2 分别分配给变量 a 和 b，字符串对象 "john" 分配给变量 c。</span></code></pre><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>三、变量的命名和使用</strong></font><blockquote><p><font color="#FF7F00"><strong>请务必牢记下述有关变量的规则：</strong></font></p><ol><li>变量名只能包含<font color="#FF7F00"><strong>字母、数字</strong>和<strong>下划线</strong></font>。变量名可以字母或下划线打头，但不能以数字打头，例如，可将变量命名为message_1，但不能将其命名为1_message。</li><li><font color="#FF7F00"><strong>变量名不能包含空格</strong></font>，但可使用下划线来分隔其中的单词。例如，变量名greeting_message可行，但变量名greeting message会引发错误。</li><li><font color="#FF7F00"><strong>不要将Python关键字和函数名用作变量名</strong></font>，即不要使用Python保留用于特殊用途的单词，如print。</li><li>变量名应既简短又具有描述性。例如，name比n好，student_name比s_n好，name_length比length_of_persons_name好。</li><li><font color="#FF7F00"><strong>慎用小写字母l和大写字母O</strong></font>，因为它们可能被人错看成数字1和0。</li><li>注意：就目前而言，<font color="#FF7F00"><strong>应使用小写的Python变量名</strong></font>。在变量名中使用大写字母虽然不会导致错误，但避免使用大写字母是个不错的主意。</li></ol></blockquote><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>四、变量是一种动态语言</strong></font><br>&emsp;<br>代码示例：<br><font color="#00B2EE"></font><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span>a <span class="token operator">=</span> <span class="token number">123</span> <span class="token comment" spellcheck="true"># a是整数</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>a <span class="token operator">=</span> <span class="token string">'ABC'</span> <span class="token comment" spellcheck="true"># a变为字符串</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>运行结果：<span class="token number">123</span> ABC</code></pre><p>&emsp;<br>这种变量本身类型不固定的语言称之为<font color="red"><strong>动态语言</strong></font>，与之对应的是<font color="red"><strong>静态语言</strong></font>。和静态语言相比，<strong>动态语言更灵活</strong>，就是这个原因。静态语言在定义变量时必须指定变量类型，如果赋值的时候类型不匹配，就会报错。例如Java是静态语言，赋值语句如下（// 表示注释）：</p><pre class=" language-java"><code class="language-java"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// a是整数类型变量</span>a <span class="token operator">=</span> <span class="token string">"ABC"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 错误：不能把字符串赋给整型变量</span></code></pre><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>五、Python的变量是Python的指针</strong></font> <p>可参考：<font color="#00B2EE">[<a href="https://www.cnblogs.com/hzwsj/p/5777973.html" target="_blank" rel="noopener">一切都是对象，一切都是指针，一切都是东西（python的编程哲学）</a>]</font><br>&emsp;<br>如下代码：</p><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span><span class="token number">5</span>a<span class="token operator">=</span><span class="token number">5</span><span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行输出：<span class="token number">1769134320</span> <span class="token number">1769134320</span> </code></pre><p>&emsp;<br>我们分别查一下他们的内存地址，发现地址是一样的。</p><blockquote><p><strong>于是我们可以这样理解：</strong></p><ol><li><font color="#FF7F00"><strong>python把一切数据，一切的一切都看作对象，在python中，没有变量，只有指针，要说变量，也是指针变量</strong></font>。</li><li>这样的变量还有如：<strong>列表</strong>，<strong>字典的值</strong>。</li><li><font color="#FF7F00"><strong>但是字符串，数字等类型的变量，字典的键就是传值使用，不是指针，而是不可再改变的值</strong></font>。</li></ol></blockquote><p>&emsp;<br><strong>举例子</strong></p><font color="#00B2EE">例子1：</font>当我们写：<br><font color="#00B2EE"></font><pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token string">'ABC'</span></code></pre><p>时，Python解释器干了两件事情：</p><blockquote><ol><li>在内存中创建了一个’ABC’的字符串；</li><li>在内存中创建了一个名为a的变量，<strong>并把它指向’ABC’</strong></li></ol></blockquote><p>&emsp;</p><font color="#00B2EE">例子2：</font><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span>a <span class="token operator">=</span> <span class="token string">'ABC'</span>b <span class="token operator">=</span> aa <span class="token operator">=</span> <span class="token string">'XYZ'</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>运行结果：ABC </code></pre><p><br></p><p>最后一行打印出变量b的内容到底是<strong><code>&#39;ABC&#39;</code></strong>呢还是<strong><code>&#39;XYZ&#39;</code></strong>？如果从数学意义上理解，就会错误地得出<strong><code>b</code></strong>和<strong><code>a</code></strong>相同，也应该是<strong><code>&#39;XYZ&#39;</code></strong>，但实际上<strong><code>b</code></strong>的值是<strong><code>&#39;ABC&#39;</code></strong>，让我们一行一行地执行代码，就可以看到到底发生了什么事：</p><ol><li>执行a = ‘ABC’，解释器创建了字符串’ABC’和变量a，<strong>并把a指向’ABC’</strong>：</li></ol><p><img src="https://i.loli.net/2019/02/27/5c760234f3b42.png" alt="1.png"></p><ol start="2"><li>执行b = a，解释器创建了变量b，并把b指向a指向的字符串’ABC’：</li></ol><p><img src="https://i.loli.net/2019/02/27/5c7602fa3c6f7.png" alt="0 (1).png"></p><ol start="3"><li>执行a = ‘XYZ’，解释器创建了字符串’XYZ’，并把a的指向改为’XYZ’，但b并没有更改：</li></ol><p><img src="https://i.loli.net/2019/02/27/5c7603411d5fc.png" alt="0 (2).png"></p><p>所以，最后打印变量b的结果自然是’ABC’了。</p><p><br><br>&emsp;</p><h3 id="二-常量"><a href="#二-常量" class="headerlink" title="二. 常量"></a><font color="#FF6347" face="Comic sans MS">二. 常量</font></h3><p>所谓常量就是不能变的变量，比如常用的数学常数π就是一个常量。在Python中，<strong>通常用全部大写的变量名表示常量</strong>：</p><pre class=" language-python"><code class="language-python">PI <span class="token operator">=</span> <span class="token number">3.14159265359</span></code></pre><font color="#FF7F00"><strong>但事实上PI仍然是一个变量，Python根本没有任何机制保证PI不会被改变</strong></font>，所以，用全部大写的变量名表示常量只是一个习惯上的用法，如果你一定要改变变量PI的值，也没人能拦住你。<br><br><br><font color="#FF7F00"></font><h3 id="三-数据类型"><a href="#三-数据类型" class="headerlink" title="三. 数据类型"></a><font color="#FF6347" face="Comic sans MS">三. 数据类型</font></h3><p><strong>标准数据类型</strong></p><p>在内存中存储的数据可以有多种类型。</p><p>Python 定义了一些标准类型，用于存储各种类型的数据。</p><blockquote><p>Python<font color="#FF7F00"><strong>有五个标准</strong></font>的数据类型：</p><ol><li>Numbers（数字）</li><li>String（字符串）</li><li>List（列表）</li><li>Tuple（元组）</li><li>Dictionary（字典）</li></ol></blockquote><h4 id="3-1-数字运算和函数"><a href="#3-1-数字运算和函数" class="headerlink" title="3.1 数字运算和函数"></a><font color="#3CB371" face="Comic sans MS">3.1 数字运算和函数</font></h4><font color="#00B2EE" face="Comic sans MS"><strong>一、整数的定义和基础知识</strong></font> <ol><li><p><font color="#FF7F00"><strong>Python可以处理任意大小的整数，当然包括负整数</strong></font>，在程序中的表示方法和数学上的写法一模一样，例如：1，100，-8080，0，等等。</p></li><li><p>计算机由于使用二进制，所以，有时候用<font color="#FF7F00"><strong>十六进制表示整数</strong></font>比较方便，十六进制用0x前缀和0-9，a-f表示，例如：0xff00，0xa5b4c3d2，等等。</p></li></ol><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>二、整数运算</strong></font> <p>在Python中，可对整数执行加（<strong><code>+</code></strong>）减（<strong><code>-</code></strong>）乘（<strong><code>*</code></strong>）除（<strong><code>/</code></strong>）平方（<code>**</code>）取余（<code>%</code>）运算。</p><blockquote><p><font color="red"><strong>注意事项：</strong></font></p><ol><li>Python使用<font color="#FF7F00"><strong>两个乘号表示乘方运算：</strong></font><code>3 ** 2==9</code></li><li>Python<font color="#FF7F00"><strong>整数的除法得到的结果是精确的</strong></font>。在Python中，有两种除法：<ol><li>一种除法是<code>/</code>(结果是浮点数)</li><li>另一种是除法是<code>//</code>，称为地板除(两个整数的除法仍然是整数)</li></ol></li><li>因为<strong><code>//</code></strong>除法只取结果的整数部分，所以Python还提供一个余数运算(<code>%</code>)，可以得到两个整数相除的余数。</li></ol></blockquote><p>&emsp;<br>示例代码：</p><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">3</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>a<span class="token operator">=</span><span class="token number">10</span><span class="token operator">//</span><span class="token number">3</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>a<span class="token operator">=</span><span class="token number">10</span><span class="token operator">%</span><span class="token number">3</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>运算结果：<span class="token number">3.3333333333333335</span> <span class="token number">3</span> <span class="token number">1</span> </code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>三、Number 类型转换</strong></font> <table><thead><tr><th style="text-align:left"></th><th style="text-align:left"></th></tr></thead><tbody><tr><td style="text-align:left">int(x [,base ])</td><td style="text-align:left">将x转换为一个整数  </td></tr><tr><td style="text-align:left">long(x [,base ])</td><td style="text-align:left">将x转换为一个长整数  </td></tr><tr><td style="text-align:left">float(x )</td><td style="text-align:left">将x转换到一个浮点数  </td></tr><tr><td style="text-align:left">complex(real [,imag ])</td><td style="text-align:left">创建一个复数  </td></tr><tr><td style="text-align:left">str(x )</td><td style="text-align:left">将对象 x 转换为字符串  </td></tr><tr><td style="text-align:left">repr(x )</td><td style="text-align:left">将对象 x 转换为表达式字符串  </td></tr><tr><td style="text-align:left">eval(str )</td><td style="text-align:left">用来计算在字符串中的有效Python表达式,并返回一个对象  </td></tr><tr><td style="text-align:left">tuple(s )</td><td style="text-align:left">将序列 s 转换为一个元组  </td></tr><tr><td style="text-align:left">list(s )</td><td style="text-align:left">将序列 s 转换为一个列表  </td></tr><tr><td style="text-align:left">chr(x )</td><td style="text-align:left">将一个整数转换为一个字符  </td></tr><tr><td style="text-align:left">unichr(x )</td><td style="text-align:left">将一个整数转换为Unicode字符  </td></tr><tr><td style="text-align:left">ord(x )</td><td style="text-align:left">将一个字符转换为它的整数值  </td></tr><tr><td style="text-align:left">hex(x )</td><td style="text-align:left">将一个整数转换为一个十六进制字符串  </td></tr><tr><td style="text-align:left">oct(x )</td><td style="text-align:left">将一个整数转换为一个八进制字符串  </td></tr></tbody></table><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>四、数学函数</strong></font> <table><thead><tr><th style="text-align:left">函数</th><th style="text-align:left">返回值 ( 描述 )</th></tr></thead><tbody><tr><td style="text-align:left">abs(x)</td><td style="text-align:left">返回数字的绝对值，如abs(-10) 返回 10</td></tr><tr><td style="text-align:left">ceil(x)</td><td style="text-align:left">返回数字的上入整数，如math.ceil(4.1) 返回 5</td></tr><tr><td style="text-align:left">cmp(x, y)</td><td style="text-align:left">如果 x &lt; y 返回 -1, 如果 x == y 返回 0, 如果 x &gt; y 返回 1</td></tr><tr><td style="text-align:left">exp(x)</td><td style="text-align:left">返回e的x次幂(ex),如math.exp(1) 返回2.718281828459045</td></tr><tr><td style="text-align:left">fabs(x)</td><td style="text-align:left">返回数字的绝对值，如math.fabs(-10) 返回10.0</td></tr><tr><td style="text-align:left">floor(x)</td><td style="text-align:left">返回数字的下舍整数，如math.floor(4.9)返回 4</td></tr><tr><td style="text-align:left">log(x)</td><td style="text-align:left">如math.log(math.e)返回1.0,math.log(100,10)返回2.0</td></tr><tr><td style="text-align:left">log10(x)</td><td style="text-align:left">返回以10为基数的x的对数，如math.log10(100)返回 2.0</td></tr><tr><td style="text-align:left">max(x1, x2,…)</td><td style="text-align:left">返回给定参数的最大值，参数可以为序列。</td></tr><tr><td style="text-align:left">min(x1, x2,…)</td><td style="text-align:left">返回给定参数的最小值，参数可以为序列。</td></tr><tr><td style="text-align:left">modf(x)</td><td style="text-align:left">返回x的整数部分与小数部分，两部分的数值符号与x相同，整数部分以浮点型表示。</td></tr><tr><td style="text-align:left">pow(x, y)</td><td style="text-align:left">x**y 运算后的值。</td></tr><tr><td style="text-align:left">round(x [,n])</td><td style="text-align:left">返回浮点数x的四舍五入值，如给出n值，则代表舍入到小数点后的位数。</td></tr><tr><td style="text-align:left">sqrt(x)</td><td style="text-align:left">返回数字x的平方根</td></tr></tbody></table><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>五、随机数函数</strong></font> <p>随机数可以用于数学，游戏，安全等领域中，还经常被嵌入到算法中，用以提高算法效率，并提高程序的安全性。</p><p>Python包含以下常用随机数函数：</p><table><thead><tr><th style="text-align:left">函数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">choice(seq)</td><td style="text-align:left">从序列的元素中随机挑选一个元素，比如random.choice(range(10))，<br>从0到9中随机挑选一个整数。</td></tr><tr><td style="text-align:left">randrange</td><td style="text-align:left">([start,] stop [,step])    从指定范围内，按指定基数递增的集合中获取一个随机数，<br>基数缺省值为1</td></tr><tr><td style="text-align:left">random()</td><td style="text-align:left">随机生成下一个实数，它在[0,1)范围内。</td></tr><tr><td style="text-align:left">seed([x])</td><td style="text-align:left">改变随机数生成器的种子seed。如果你不了解其原理，你不必特别去设定seed，<br>Python会帮你选择seed。</td></tr><tr><td style="text-align:left">shuffle(lst)</td><td style="text-align:left">将序列的所有元素随机排序</td></tr><tr><td style="text-align:left">uniform(x, y)</td><td style="text-align:left">随机生成下一个实数，它在[x,y]范围内。</td></tr></tbody></table><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>六、三角函数</strong></font> <table><thead><tr><th style="text-align:left">函数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">acos(x)</td><td style="text-align:left">返回x的反余弦弧度值。</td></tr><tr><td style="text-align:left">asin(x)</td><td style="text-align:left">返回x的反正弦弧度值。</td></tr><tr><td style="text-align:left">atan(x)</td><td style="text-align:left">返回x的反正切弧度值。</td></tr><tr><td style="text-align:left">atan2(y, x)</td><td style="text-align:left">返回给定的 X 及 Y 坐标值的反正切值。</td></tr><tr><td style="text-align:left">cos(x)</td><td style="text-align:left">返回x的弧度的余弦值。</td></tr><tr><td style="text-align:left">hypot(x, y)</td><td style="text-align:left">返回欧几里德范数 sqrt(x<em>x + y</em>y)。</td></tr><tr><td style="text-align:left">sin(x)</td><td style="text-align:left">返回的x弧度的正弦值。</td></tr><tr><td style="text-align:left">tan(x)</td><td style="text-align:left">返回x弧度的正切值。</td></tr><tr><td style="text-align:left">degrees(x)</td><td style="text-align:left">将弧度转换为角度,如degrees(math.pi/2) ， 返回90.0</td></tr><tr><td style="text-align:left">radians(x)</td><td style="text-align:left">将角度转换为弧度</td></tr></tbody></table><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>七、数学常量</strong></font><table><thead><tr><th style="text-align:left">函数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">pi</td><td style="text-align:left">数学常量 pi（圆周率，一般以π来表示）</td></tr><tr><td style="text-align:left">e</td><td style="text-align:left">数学常量 e，e即自然常数（自然常数）。 </td></tr></tbody></table><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>八、 range()函数</strong></font><p>Python3 range() 函数返回的是一个可迭代对象（类型是对象），而不是列表类型， 所以打印的时候不会打印列表。</p><p>Python3 list() 函数是对象迭代器，可以把range()返回的可迭代对象转为一个列表，返回的变量类型为列表。</p><p>Python2 range() 函数返回的是列表。</p><font face="Comic sans MS"><font color="#00B2EE">[<a href="http://www.runoob.com/python3/python3-built-in-functions.html" target="_blank" rel="noopener">Python3 内置函数</a>]</font></font>&emsp;<font face="Comic sans MS"><font color="#00B2EE">[<a href="http://www.runoob.com/python3/python3-func-range.html" target="_blank" rel="noopener">Python3 range() 函数用法</a>]</font><br></font><p><br></p><p><strong>函数语法：</strong></p><font color="#FF7F00"><strong>range(stop)</strong></font><br><font color="#FF7F00"><strong>range(start, stop[, step])</strong></font><p><br></p><blockquote><p><strong>参数说明：</strong></p><p><font color="#FF7F00"><strong>start:</strong></font> 计数从 start开始。默认是从 0 开始。例如range（5）等价于range（0， 5）;</p><p><font color="#FF7F00"><strong>stop:</strong></font> 计数到 stop 结束，但不包括 stop。例如：range（0， 5） 是[0, 1, 2, 3, 4]没有5</p><p><font color="#FF7F00"><strong>step：</strong></font>步长，默认为1。例如：range（0， 5） 等价于 range(0, 5, 1)</p></blockquote><p><br></p><p><br></p><h4 id="3-2-浮点数"><a href="#3-2-浮点数" class="headerlink" title="3.2 浮点数"></a><font color="#3CB371" face="Comic sans MS">3.2 浮点数</font></h4><ol><li><p>浮点数也就是小数，之所以称为浮点数，<strong>是因为按照科学记数法表示时，一个浮点数的小数点位置是可变的</strong>，比如，1.23x10^9和12.3x10^8是完全相等的。浮点数可以用数学写法，如<strong><code>1.23</code></strong>，<strong><code>3.14</code></strong>，<strong><code>-9.01</code></strong>，等等。但是对于很大或很小的浮点数，就必须用科学计数法表示，<strong>把10用e替代</strong>，1.23x109就是<strong><code>1.23e9</code></strong>，或者<strong><code>12.3e8</code></strong>，0.000012可以写成<strong><code>1.2e-5</code></strong>，等等。</p></li><li><p>整数和浮点数在计算机内部存储的方式是不同的，整数运算永远是精确的（除法难道也是精确的？是的！），而浮点数运算则可能会有四舍五入的误差。</p></li></ol><p><br></p><h4 id="3-3-字符串"><a href="#3-3-字符串" class="headerlink" title="3.3 字符串"></a><font color="#3CB371" face="Comic sans MS">3.3 字符串</font></h4><h5 id="1-定义字符串并输出"><a href="#1-定义字符串并输出" class="headerlink" title="1.定义字符串并输出"></a><font color="#00B2EE" face="Comic sans MS">1.定义字符串并输出</font></h5><ol><li><font color="red" face="Comic sans MS"><strong>区分单引号和双引号：</strong></font>字符串是以单引号<strong><code>&#39;</code></strong>或双引号<strong><code>&quot;</code></strong>括起来的任意文本，比如<strong><code>&#39;abc&#39;</code></strong>，<strong><code>&quot;xyz&quot;</code></strong>等等。<br><strong>请注意</strong>：<strong><code>&#39;&#39;</code></strong>或<strong><code>&quot;&quot;</code></strong>本身只是一种表示方式，不是字符串的一部分，因此，字符串<strong><code>&#39;abc&#39;</code></strong>只有<strong><code>a</code></strong>，<strong><code>b</code></strong>，<strong><code>c</code></strong>这3个字符。如果<code>&#39;</code>本身也是一个字符，那就可以用<code>&quot;&quot;</code>括起来，比如<code>&quot;I&#39;m OK&quot;</code>包含的字符是<strong><code>I</code></strong>，<strong><code>&#39;</code></strong>，<strong><code>m</code></strong>，<strong><code>空格</code></strong>，<strong><code>O</code></strong>，<strong><code>K</code></strong>这6个字符。<br>即<font color="#FF7F00"><strong>单引号要放到双引号里面，双引号要放到单引号里面</strong></font>。</li></ol><p><br></p><ol start="2"><li><font color="red" face="Comic sans MS"><strong>使用转义字符“<code>\</code>”</strong></font> ： 如果字符串内部既包含<strong><code>&#39;</code></strong>又包含<strong><code>&quot;</code></strong>怎么办？可以用转义字符<strong><code>\</code></strong>来标识，比如：</li></ol><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span><span class="token string">'I\'m \"OK\"!'</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>运行输出：I'm <span class="token string">"OK"</span>! </code></pre><p><br></p><p>把双引号括在单引号里面，但是下面的单引号必须转义，如下也是正确的：</p><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span><span class="token string">'I\'m "OK"!'</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre><p><br></p><ol start="3"><li><font color="red" face="Comic sans MS"><strong>使用不转义字符“<code>r&#39;&#39;</code>”</strong></font>： 如果字符串里面有很多字符都需要转义，就需要加很多<strong><code>\</code></strong>，为了简化，Python还允许用<code>r&#39;&#39;</code>表示，<font color="#FF7F00"><strong><code>&#39;&#39;</code>内部的字符串默认不转义</strong></font>，可以自己试试：</li></ol><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span><span class="token string">'\\\t\\'</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>a<span class="token operator">=</span>r<span class="token string">'\\\t\\'</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>输出结果：\    \ \\\t\\ </code></pre><p><br></p><ol start="4"><li><font color="red" face="Comic sans MS"><strong>在字符串里面有换行，将字符串按照换行输出。使用</strong><code>&#39;&#39;&#39;  内容  &#39;&#39;&#39;</code><strong>：</strong></font>如果字符串内部有很多换行，用<strong><code>\n</code></strong>写在一行里不好阅读，为了简化，Python允许用<strong><code>&#39;&#39;&#39; 这里写内容&#39;&#39;&#39;</code></strong>的格式表示多行内容，可以自己试试：</li></ol><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span><span class="token triple-quoted-string string">'''helloworldline1line2'''</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>运行输出：hello world line1 line2 </code></pre><p><br></p><ol start="5"><li><font color="red" face="Comic sans MS"><strong>在字符串里面有换行，将字符串按照换行输出，并且不转义输出字符。使用<code>r&#39;&#39;&#39;  &#39;&#39;&#39;</code>：</strong></font></li></ol><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span>r<span class="token triple-quoted-string string">'''hello \nworldline1line2'''</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>运行输出：hello \n world line1 line2 </code></pre><p><br></p><h5 id="2-使用字符串-取下标"><a href="#2-使用字符串-取下标" class="headerlink" title="2.使用字符串(取下标)"></a><font color="#00B2EE" face="Comic sans MS">2.使用字符串(取下标)</font></h5><blockquote><p><font color="#FF7F00"><strong>python的字串列表有2种取值顺序:</strong></font></p><ol><li><strong>从左到右索引默认<font color="#FF7F00"></font></strong>0<strong>开始的</strong>，最大范围是字符串<strong>长度少1</strong>；</li><li>从右到左索引默认-1开始的，最大范围是字符串开头。</li></ol></blockquote><p><img src="https://i.loli.net/2019/02/27/5c7665042686e.png" alt="python-string-slice.png"></p><blockquote><ol start="3"><li>如果你要实现从字符串中获取一段<strong>子字符串</strong>的话，可以使用 <font color="#FF7F00"><strong>[头下标:尾下标]</strong></font> 来截取相应的字符串，其中下标是从 0 开始算起，可以是正数或负数，下标可以为空表示取到头或尾。</li><li><strong><code>[头下标:尾下标]</code></strong> 获取的子字符串包含头下标的字符，但<strong>不包含尾下标的字符</strong>。</li></ol></blockquote><p><br></p><p>比如:</p><pre class=" language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">'abcdef'</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>运行结果：c bcde </code></pre><blockquote><p>当使用以冒号<strong><code>:</code></strong>分隔的字符串，python 返回一个新的对象，结果包含了以这对偏移标识的连续的内容，左边的开始是包含了下边界。<br>上面的结果包含了 s[1] 的值 b，而取到的最大范围不包括尾下标，就是 s[5] 的值 f。</p></blockquote><p><img src="https://i.loli.net/2019/02/27/5c76663ee5909.png" alt="9aU.png"></p><p><br></p><h5 id="3-加号-星号-冒号"><a href="#3-加号-星号-冒号" class="headerlink" title="3.加号(+)星号(*)冒号(:)"></a><font color="#00B2EE" face="Comic sans MS">3.加号(+)星号(*)冒号(:)</font></h5><blockquote><ol><li><font color="#FF7F00"><strong>加号(+)：</strong></font><strong>拼接字符串；</strong></li><li><font color="#FF7F00"><strong>星号(*)：</strong></font><strong>重复操作；</strong></li><li><font color="#FF7F00"><strong>冒号(:)：</strong></font><strong>截取字符。</strong></li></ol></blockquote><p><br></p><ol><li><font color="red"><strong>Python使用加号（ + ）来合并字符串</strong></font></li></ol><pre class=" language-python"><code class="language-python">first_name <span class="token operator">=</span> <span class="token string">"ada"</span>last_name <span class="token operator">=</span> <span class="token string">"lovelace"</span>full_name <span class="token operator">=</span> first_name <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> last_name<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello, "</span> <span class="token operator">+</span> full_name <span class="token operator">+</span> <span class="token string">"!"</span><span class="token punctuation">)</span>运行结果：Hello<span class="token punctuation">,</span> ada lovelace! </code></pre><p><br></p><ol start="2"><li><font color="red"><strong>Python使用星号（ * ）来重复字符串</strong></font></li></ol><pre class=" language-python"><code class="language-python">str <span class="token operator">=</span> <span class="token string">'Hello World!'</span>a<span class="token operator">=</span>str<span class="token operator">*</span><span class="token number">2</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>运行输出：Hello World!Hello World! </code></pre><p><br></p><ol start="3"><li><font color="red"><strong>Python使用冒号（ ： ）来截取字符</strong></font></li></ol><pre class=" language-java"><code class="language-java">#<span class="token operator">!</span><span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>python# <span class="token operator">-</span><span class="token operator">*</span><span class="token operator">-</span> coding<span class="token operator">:</span> UTF<span class="token operator">-</span><span class="token number">8</span> <span class="token operator">-</span><span class="token operator">*</span><span class="token operator">-</span>str <span class="token operator">=</span> <span class="token string">'Hello World!'</span>print str           # 输出完整字符串print str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        # 输出字符串中的第一个字符print str<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">]</span>      # 输出字符串中第三个至第五个之间的字符串print str<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token punctuation">]</span>       # 输出从第三个字符开始的字符串print str <span class="token operator">*</span> <span class="token number">2</span>       # 输出字符串两次print str <span class="token operator">+</span> <span class="token string">"TEST"</span>  # 输出连接的字符串以上实例输出结果：Hello World<span class="token operator">!</span>Hllollo World<span class="token operator">!</span>Hello World<span class="token operator">!</span>Hello World<span class="token operator">!</span>Hello World<span class="token operator">!</span>TEST</code></pre><blockquote><p>Python 列表截取可以接收第三个参数，<font color="#FF7F00"><strong>参数作用是截取的步长，以下实例在索引 1 到索引 4 的位置并设置为步长为 2（间隔一个位置）来截取字符串：</strong></font></p></blockquote><p><img src="https://i.loli.net/2019/02/27/5c766ace2223e.png" alt="python_list_slice_2.png"></p><p><br></p><h5 id="4-常用的字符串方法"><a href="#4-常用的字符串方法" class="headerlink" title="4.常用的字符串方法"></a><font color="#00B2EE" face="Comic sans MS">4.常用的字符串方法</font></h5><h6 id="1-修改字符串的大小写"><a href="#1-修改字符串的大小写" class="headerlink" title="1. 修改字符串的大小写"></a><font color="#20B2AA" face="Comic sans MS">1. 修改字符串的大小写</font></h6><blockquote><p><font color="#FF7F00"><strong>使用方法：</strong></font></p><ol><li><strong>upper()</strong>：将字符串<font color="#FF7F00"><strong>所有字母大写</strong></font>；</li><li><strong>lower()</strong>：将字符串<font color="#FF7F00"><strong>所有字母小写</strong></font>；</li><li><strong>title()</strong>：将字符串<font color="#FF7F00"><strong>所有单词首字母大写，并将单词中除了首字母的变为小写</strong></font>。</li></ol></blockquote><p><br></p><p>示例代码：</p><pre class=" language-python"><code class="language-python">name <span class="token operator">=</span> <span class="token string">"Hexo lovelace giTHub toMMrow n"</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>运行输出：HEXO LOVELACE GITHUB TOMMROW N hexo lovelace github tommrow n Hexo Lovelace Github Tommrow N </code></pre><p>在<strong><code>name.title()</code></strong> 中，name 后面的句点（ <strong><code>.</code></strong> ）让Python对变量name 执行方法title() 指定的操作。每个方法后面都跟着一对括号，这是因为方法通常需要<font color="#FF7F00"><strong>额外的信息来完成其工作</strong></font>。这种信息是在括号内提供的。函数title() 不需要额外的信息，因此它后面的括号是空的。</p><p><br></p><h6 id="2-暂时-永久删除字符串两端空白"><a href="#2-暂时-永久删除字符串两端空白" class="headerlink" title="2. 暂时/永久删除字符串两端空白"></a><font color="#20B2AA" face="Comic sans MS">2. 暂时/永久删除字符串两端空白</font></h6><blockquote><p><font color="#FF7F00"><strong>使用方法：</strong></font></p><ol><li><strong>strip()：</strong>删除字符串<font color="#FF7F00"><strong>两端</strong></font>空白；</li><li><strong>lstrip()：</strong>删除字符串<font color="#FF7F00"><strong>左</strong></font>端空白；</li><li><strong>rstrip()：</strong>删除字符串<font color="#FF7F00"><strong>右</strong></font>端空白；</li></ol></blockquote><p><br></p><blockquote><p><font color="#FF7F00"><strong>暂时</strong></font><strong>或者是</strong><font color="#FF7F00"><strong>永久</strong></font><strong>删除的区别是在于调用方法后是否重新赋值给一个变量：</strong></p><ol><li><strong>不赋值：</strong><font color="#FF7F00"><strong>暂时删除，下次调用时还是原字符串</strong></font>；</li><li><strong>重新赋值：</strong><font color="#FF7F00"><strong>永久删除</strong></font>。</li></ol></blockquote><p><br></p><p>示例代码：</p><pre class=" language-python"><code class="language-python">name <span class="token operator">=</span> <span class="token string">"    HexoAndGithub  "</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>name <span class="token operator">=</span> name<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>运行结果：    HexoAndGithub   HexoAndGithub     HexoAndGithub HexoAndGithub       HexoAndGithub   HexoAndGithub HexoAndGithub HexoAndGithub HexoAndGithub HexoAndGithub </code></pre><p><br></p><h6 id="3-内置函数-len-返回字符串长度"><a href="#3-内置函数-len-返回字符串长度" class="headerlink" title="3. 内置函数 len()返回字符串长度"></a><font color="#20B2AA" face="Comic sans MS">3. 内置函数 len()返回字符串长度</font></h6><p>内置函数 len() 返回字符串长度，注意，它<strong>并不是字符串的方法！！！</strong></p><pre class=" language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token string">'supercalifragilisticexpialidocious'</span>b <span class="token operator">=</span> len<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>运行结果：supercalifragilisticexpialidocious <span class="token number">34</span> </code></pre><p><br></p><h4 id="3-4-布尔值"><a href="#3-4-布尔值" class="headerlink" title="3.4 布尔值"></a><font color="#3CB371" face="Comic sans MS">3.4 布尔值</font></h4><ol><li><p>布尔值和布尔代数的表示完全一致，一个布尔值只有<strong><code>True</code></strong>、<strong><code>False</code></strong>两种值，要么是True，要么是False；</p></li><li><p>在Python中，True、False<font color="#FF7F00"><strong>首字母必须大写</strong></font>。可以直接用True、False表示布尔值，请注意大小写，也可以通过布尔运算计算出来：</p></li></ol><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span><span class="token boolean">True</span>b<span class="token operator">=</span><span class="token number">3</span><span class="token operator">></span><span class="token number">2</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>运行结果：<span class="token boolean">True</span> <span class="token boolean">True</span> </code></pre><p><br></p><ol start="3"><li><strong>布尔值可以用<code>and</code>、<code>or</code>和<code>not</code>运算</strong><ol><li><strong><code>and</code></strong>运算是<strong>与运算</strong>，只有<font color="#FF7F00"><strong>所有都为True，and运算结果才是True</strong></font></li><li><strong><code>or</code></strong>运算是<strong>或运算</strong>，只要<font color="#FF7F00"><strong>其中有一个为True，or运算结果就是True</strong></font></li><li><strong><code>not</code></strong>运算是<strong>非运算</strong>，它是一个单目运算符，<font color="#FF7F00"><strong>把True变成False，False变成True</strong></font></li></ol></li></ol><p><br></p><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">></span> <span class="token number">3</span> <span class="token operator">and</span> <span class="token number">3</span> <span class="token operator">&lt;</span> <span class="token number">1</span>b<span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">></span> <span class="token number">3</span> <span class="token operator">or</span> <span class="token number">1</span> <span class="token operator">></span> <span class="token number">3</span>c<span class="token operator">=</span> <span class="token operator">not</span> <span class="token number">1</span> <span class="token operator">></span> <span class="token number">2</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>运行结果：<span class="token boolean">False</span> <span class="token boolean">True</span> <span class="token boolean">True</span> </code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;定义一个变量就是定义了一个指针！  ٩(ˊᗜˋ*)و&lt;br&gt;字符串内容很多，就很烦(っ ̯ -｡)&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-基础语法</title>
    <link href="Treecatee.gitgub.io/post/python-grammar/"/>
    <id>Treecatee.gitgub.io/post/python-grammar/</id>
    <published>2019-02-27T08:06:40.000Z</published>
    <updated>2019-03-06T16:36:50.762Z</updated>
    
    <content type="html"><![CDATA[<p>请务必注意，Python程序是<font color="#FF7F00"><strong>大小写敏感</strong></font>的，如果写错了大小写，程序会报错。<br><a id="more"></a></p><p>&ensp;<br>&ensp;</p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>Python 基础语法</strong></font> </center><p>&emsp;<br>&emsp;</p><h3 id="一-标识符"><a href="#一-标识符" class="headerlink" title="一. 标识符"></a><font color="#FF6347" face="Comic sans MS">一. 标识符</font></h3><font color="#00B2EE" face="Comic sans MS"><strong>一、标识符定义规则</strong></font><ol><li><p>在 Python 里，标识符由<font color="#FF7F00"><strong>字母</strong></font>、<font color="#FF7F00"><strong>数字</strong></font>、<font color="#FF7F00"><strong>下划线</strong></font>组成。</p></li><li><p>在 Python 中，所有标识符<font color="#FF7F00"><strong>不能以数字开头</strong></font>。</p></li><li><p>Python 中的标识符<font color="#FF7F00"><strong>是区分大小写的</strong></font>。</p></li><li><p>以<font color="#FF7F00"><strong>下划线开头</strong></font>的标识符是<font color="#FF7F00"><strong>有特殊意义</strong></font>的。</p><ol><li>以单下划线开头 <code>_foo</code> 的代表不能直接访问的类属性，需通过类提供的接口进行访问，不能用 from xxx import * 而导入。</li><li>以双下划线开头的 <code>__foo</code> 代表类的私有成员，以双下划线开头和结尾的 <code>__foo__</code>代表 Python 里特殊方法专用的标识，如 <code>__init__()</code> 代表类的构造函数。</li></ol></li></ol><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>二、Python 保留字符</strong></font><p>下面的列表显示了在Python中的保留字。这些保留字<font color="#FF7F00"><strong>不能用作常数或变数，或任何其他标识符名称</strong></font>。</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center"></th></tr></thead><tbody><tr><td style="text-align:center">and</td><td style="text-align:center">exec</td><td style="text-align:center">not</td></tr><tr><td style="text-align:center">assert</td><td style="text-align:center">finally</td><td style="text-align:center">or</td></tr><tr><td style="text-align:center">break</td><td style="text-align:center">for</td><td style="text-align:center">pass</td></tr><tr><td style="text-align:center">class</td><td style="text-align:center">from</td><td style="text-align:center">print</td></tr><tr><td style="text-align:center">continue</td><td style="text-align:center">global</td><td style="text-align:center">raise</td></tr><tr><td style="text-align:center">def</td><td style="text-align:center">if</td><td style="text-align:center">return</td></tr><tr><td style="text-align:center">del</td><td style="text-align:center">import</td><td style="text-align:center">try</td></tr><tr><td style="text-align:center">elif</td><td style="text-align:center">in</td><td style="text-align:center">while</td></tr><tr><td style="text-align:center">else</td><td style="text-align:center">is</td><td style="text-align:center">with</td></tr><tr><td style="text-align:center">except</td><td style="text-align:center">lambda</td><td style="text-align:center">yield</td></tr></tbody></table><p><br></p><h3 id="二-缩进-代码块"><a href="#二-缩进-代码块" class="headerlink" title="二. 缩进(代码块)"></a><font color="#FF6347" face="Comic sans MS">二. 缩进(代码块)</font></h3><font color="#00B2EE" face="Comic sans MS"><strong>一、注意事项：</strong></font><ol><li><p>学习 Python 与其他语言最大的区别就是，Python 的<font color="#FF7F00"><strong>代码块不使用大括号 <code>{}</code> 来控制类，函数以及其他逻辑判断</strong></font>。python 最具特色的就是<font color="#FF7F00"><strong>用缩进来写模块</strong></font>。</p></li><li><p>缩进的空白数量是可变的，但是<font color="#FF7F00"><strong>所有代码块语句必须包含相同的缩进空白数量</strong></font>，<strong>这个必须严格执行</strong>！！！</p><ol><li>按照约定俗成的管理，应该始终坚持使用<font color="red"><strong>4个空格</strong></font>的缩进；</li><li>很多Python程序员都建议每行不超过80字符（最多79个见多）；</li><li>要将程序的不同部分分开，可使用空行，但不要在程序文件中过多地使用空行</li></ol></li></ol><p><br></p><p>以下代码将会执行错误：<strong>缩进空白数量不一样会报错！</strong></p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/python</span><span class="token comment" spellcheck="true"># -*- coding: UTF-8 -*-</span><span class="token comment" spellcheck="true"># 文件名：test.py</span><span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">print</span> <span class="token string">"Answer"</span>    <span class="token keyword">print</span> <span class="token string">"True"</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span> <span class="token string">"Answer"</span>    <span class="token comment" spellcheck="true"># 没有严格缩进，在执行时会报错</span>  <span class="token keyword">print</span> <span class="token string">"False"</span>执行以上代码，会出现如下错误提醒：$ python test<span class="token punctuation">.</span>py    File <span class="token string">"test.py"</span><span class="token punctuation">,</span> line <span class="token number">10</span>    <span class="token keyword">print</span> <span class="token string">"False"</span>                <span class="token operator">^</span>IndentationError<span class="token punctuation">:</span> unindent does <span class="token operator">not</span> match any outer indentation level</code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>二、多个语句构成代码块</strong></font><ol><li><p>Python不像C/C++/Java一样一条语句是以<code>;</code>结束，而是<font color="#FF7F00"><strong>换行即表示一个语句结束</strong></font>。</p></li><li><p>缩进相同的一组语句构成一个<strong>代码块</strong>，我们称之代码组。</p></li><li><p>像if、while、def和class这样的复合语句，<strong>首行以关键字开始</strong>，<strong>以冒号( <code>:</code> )结束</strong>，该行之后的一行或多行缩进代码构成代码组。注意这里冒号( <code>:</code> )不能省略。</p></li></ol><p><br></p><p>如下实例的冒号不能省略：</p><pre class=" language-python"><code class="language-python"><span class="token keyword">if</span> expression <span class="token punctuation">:</span>    suite <span class="token keyword">elif</span> expression <span class="token punctuation">:</span>     suite  <span class="token keyword">else</span> <span class="token punctuation">:</span>     suite </code></pre><p><br></p><h3 id="三-一行和多行语句"><a href="#三-一行和多行语句" class="headerlink" title="三. 一行和多行语句"></a><font color="#FF6347" face="Comic sans MS">三. 一行和多行语句</font></h3><blockquote><p><font color="red"><strong>一行</strong></font>分为：</p><ol><li><font color="#FF7F00"><strong>同一行显示多条语句</strong></font>;</li><li>将一行的语句分为多行显示(<font color="#FF7F00"><strong>一条语句以多行来书写</strong></font>)也包括在多行语句里面来讲。</li></ol></blockquote><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>1. 同一行显示多条语句</strong></font><p>Python可以在同一行中使用多条语句，语句之间<strong>使用分号( <code>;</code> )分割</strong>，以下是一个简单的实例：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/python</span><span class="token keyword">import</span> sys<span class="token punctuation">;</span> x <span class="token operator">=</span> <span class="token string">'runoob'</span><span class="token punctuation">;</span> sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>运行输出：runoob</code></pre><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>3. 一条语句以多行来书写</strong></font><p>看下面的多行语句即可，是同一个意思。</p><p><br></p><font color="#00B2EE" face="Comic sans MS"><strong>3. 多行语句</strong></font><blockquote><p><font color="red"><strong>多行</strong></font>：</p><ol><li>Python语句中一般<font color="#FF7F00"><strong>以新行作为语句的结束符</strong></font>，但是我们可以使用斜杠（  <code>\</code> ）将一行的语句分为多行显示，斜杠（  <code>\</code> ）称为<code>多行连接符</code>。</li><li>语句中包含 [], {} 或 () 括号就<strong>不需要</strong>使用多行连接符。</li></ol></blockquote><ol><li><font color="#FF7F00"><strong>Python语句中一般以新行作为语句的结束符</strong></font>。但是我们可以使用斜杠（  <code>\</code> ）将一行的语句分为多行显示，如下所示：</li></ol><pre class=" language-python"><code class="language-python">total <span class="token operator">=</span> item_one <span class="token operator">+</span> \        item_two <span class="token operator">+</span> \        item_three</code></pre><p><br></p><ol start="2"><li>语句中包含 [], {} 或 () 括号就不需要使用多行连接符。如下实例：</li></ol><pre class=" language-python"><code class="language-python">days <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Monday'</span><span class="token punctuation">,</span> <span class="token string">'Tuesday'</span><span class="token punctuation">,</span> <span class="token string">'Wednesday'</span><span class="token punctuation">,</span>        <span class="token string">'Thursday'</span><span class="token punctuation">,</span> <span class="token string">'Friday'</span><span class="token punctuation">]</span></code></pre><p><br></p><h3 id="四-引号"><a href="#四-引号" class="headerlink" title="四. 引号"></a><font color="#FF6347" face="Comic sans MS">四. 引号</font></h3><ol><li><p>Python 可以使用单引号( <code>&#39;</code> )、双引号( <code>&quot;</code> )、三引号( <code>&#39;&#39;&#39;</code> 或 <code>&quot;&quot;&quot;</code> ) <strong>来表示字符串</strong>，引号的开始与结束必须的相同类型的。</p></li><li><p><strong>其中三引号可以由多行组成，编写多行文本的快捷语法，常用于文档字符串，在文件的特定地点，</strong><font color="#FF7F00"><strong>被当做注释</strong></font>。</p></li></ol><p>如下示例：</p><pre class=" language-python"><code class="language-python">word <span class="token operator">=</span> <span class="token string">'word'</span>sentence <span class="token operator">=</span> <span class="token string">"这是一个句子。"</span>paragraph <span class="token operator">=</span> <span class="token triple-quoted-string string">"""这是一个段落。包含了多个语句"""</span></code></pre><p><br></p><h3 id="五-注释"><a href="#五-注释" class="headerlink" title="五. 注释"></a><font color="#FF6347" face="Comic sans MS">五. 注释</font></h3><ol><li><font color="#FF7F00"><strong>python中单行注释采用 <code>#</code> 开头。</strong></font></li><li>python 中多行注释使用三个单引号( <code>&#39;&#39;&#39;</code> )或三个双引号( <code>&quot;&quot;&quot;</code> )。</li></ol><p>单行注释,如下示例1：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/python</span><span class="token comment" spellcheck="true"># -*- coding: UTF-8 -*-</span><span class="token comment" spellcheck="true"># 文件名：test.py</span><span class="token comment" spellcheck="true"># 第一个注释</span><span class="token keyword">print</span> <span class="token string">"Hello, Python!"</span>  <span class="token comment" spellcheck="true"># 第二个注释</span></code></pre><p><br><br>多行注释,如下示例2：</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/python</span><span class="token comment" spellcheck="true"># -*- coding: UTF-8 -*-</span><span class="token comment" spellcheck="true"># 文件名：test.py</span><span class="token triple-quoted-string string">'''这是多行注释，使用单引号。这是多行注释，使用单引号。这是多行注释，使用单引号。'''</span><span class="token triple-quoted-string string">"""这是多行注释，使用双引号。这是多行注释，使用双引号。这是多行注释，使用双引号。"""</span></code></pre><p><br></p><h3 id="六-空行"><a href="#六-空行" class="headerlink" title="六. 空行"></a><font color="#FF6347" face="Comic sans MS">六. 空行</font></h3><blockquote><ol><li>函数之间或类的方法之间用空行分隔，表示一段新的代码的开始。类和函数入口之间也用一行空行分隔，以突出函数入口的开始。</li><li>空行与代码缩进不同，空行并不是Python语法的一部分。书写时不插入空行，Python解释器运行也不会出错。但是空行的作用在于<font color="#FF7F00"><strong>分隔两段不同功能或含义的代码，便于日后代码的维护或重构</strong></font>。</li><li>记住：<font color="#FF7F00"><strong>空行也是程序代码的一部分</strong></font>。</li></ol></blockquote><p>什么是空行？</p><pre class=" language-python"><code class="language-python">a<span class="token operator">=</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>           <span class="token comment" spellcheck="true">#这里就是空行</span>b<span class="token operator">=</span>a<span class="token operator">+</span><span class="token number">3</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></code></pre><p><br></p><h3 id="七-输出-print"><a href="#七-输出-print" class="headerlink" title="七. 输出(print)"></a><font color="#FF6347" face="Comic sans MS">七. 输出(print)</font></h3><p>Python3.0以后的输出使用<code>print()</code>函数。分为<strong>换行输出</strong>和<strong>不换行输出</strong>。<br>在print()括号中加上字符串，就可以向屏幕上输出指定的文字。括号里还可以放表达式等……</p><blockquote><ol><li><strong>换行输出：</strong><font color="#FF7F00"><strong>print 默认输出是换行的</strong></font></li><li><strong>不换行输出：</strong>将括号里的所有参数输出在一行，只需要<font color="#FF7F00"><strong>在每一个参数后面加一个<code>,</code></strong></font>即可。<strong>注意：</strong><ol><li>最后一个参数后面没有<code>,</code>，也就是和普通函数使用一样；</li><li>参数中间的<code>,</code>输出来是一个空格。如下：</li></ol></li><li>循环输出变量b的时候如果不换行，可在后面加个<code>end=&#39; &#39;</code>，即<code>print(b, end=&#39; &#39;)</code></li></ol></blockquote><pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Thequickbrownfox'</span><span class="token punctuation">,</span> <span class="token string">'jumpsover'</span><span class="token punctuation">,</span> <span class="token string">'thelazydog'</span><span class="token punctuation">)</span>运行结果：Thequickbrownfox jumpsover thelazydog </code></pre><p><br></p><h3 id="八-输入-input"><a href="#八-输入-input" class="headerlink" title="八. 输入(input)"></a><font color="#FF6347" face="Comic sans MS">八. 输入(input)</font></h3><blockquote><ol><li>函数input()让程序暂停运行，等待用户输入一些文本。获取用户输入后，Python将其存储在一个变量（指针）中，以方便你使用。</li><li>input()函数有个返回值，<font color="#FF7F00"><strong>返回类型为String</strong></font>。</li></ol></blockquote><p><br></p><font color="red"><strong>一、参数</strong></font><p>输入分为两种：<strong>空参数</strong>、<strong>带有参数</strong>。</p><font color="#00B2EE"><strong>空参数：</strong></font><code>input()</code>；效果是屏幕上没有任何提示，等待用户输入。<br><font color="#00B2EE"><strong>带有参数：</strong></font><code>input(&#39;请输入一个字符串：&#39;)</code>；效果是屏幕上显示“请输入一个字符串：”，然后等待用户输入。<br><br><br><br><font color="red"><strong>二、返回值</strong></font><p>关于input()的返回值，是<font color="#FF7F00"><strong>字符串String类型</strong></font><br>如下会报错，假如输入1998，返回给s的值是字符串”1998”，如果直接和数字型进行比较会报错：</p><pre class=" language-python"><code class="language-python">s <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'birth: '</span><span class="token punctuation">)</span>birth <span class="token operator">=</span> s<span class="token keyword">if</span> birth <span class="token operator">&lt;</span> <span class="token number">2000</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'00前'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'00后'</span><span class="token punctuation">)</span></code></pre><p><br></p><p>解决方法是使用函数<code>int(str)</code>，功能是<font color="#FF7F00"><strong>将字符串类型转换成数字型</strong></font>。</p><pre class=" language-python"><code class="language-python">s <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'birth: '</span><span class="token punctuation">)</span>birth <span class="token operator">=</span> int<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token keyword">if</span> birth <span class="token operator">&lt;</span> <span class="token number">2000</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'00前'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'00后'</span><span class="token punctuation">)</span></code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;请务必注意，Python程序是&lt;font color=&quot;#FF7F00&quot;&gt;&lt;strong&gt;大小写敏感&lt;/strong&gt;&lt;/font&gt;的，如果写错了大小写，程序会报错。&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Python-基础</title>
    <link href="Treecatee.gitgub.io/post/python-basics/"/>
    <id>Treecatee.gitgub.io/post/python-basics/</id>
    <published>2019-02-27T02:18:37.000Z</published>
    <updated>2019-03-07T10:02:49.567Z</updated>
    
    <content type="html"><![CDATA[<p>从今天开始Python的学习吧……ヾ(๑╹◡╹)ﾉ”<br><a id="more"></a><br>本文参考：</p><font color="#00B2EE">[<a href="http://www.runoob.com/python3/python3-tutorial.html" target="_blank" rel="noopener">Python3 教程</a>]</font><br><font color="#00B2EE">[<a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431658624177ea4f8fcb06bc4d0e8aab2fd7aa65dd95000" target="_blank" rel="noopener">廖雪峰的官方网站Python教程</a>]</font><br><font color="#00B2EE">[<a href="http://www.ituring.com.cn/book/tupubarticle/10626" target="_blank" rel="noopener">Python编程：从入门到实践</a>]</font><br><font color="#00B2EE">[<a href="http://www.pythondoc.com/" target="_blank" rel="noopener">Python 中文学习大本营-Python 3.6.X 官方教程</a>]</font><p>&ensp;<br>&ensp;</p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>Python 基础</strong></font> </center><p>&emsp;<br>&emsp;</p><h3 id="一-基础语法"><a href="#一-基础语法" class="headerlink" title="一. 基础语法"></a><font color="#FF6347" face="Comic sans MS">一. 基础语法</font></h3><font face="Comic sans MS"><font color="#00B2EE"><strong>参见本站博客：[<a href="https://treecatee.github.io/post/Python-Grammar" target="_blank" rel="noopener">Python-基础语法</a>]</strong></font><br></font><p><br></p><p><br></p><h3 id="二-变量和数据类型"><a href="#二-变量和数据类型" class="headerlink" title="二. 变量和数据类型"></a><font color="#FF6347" face="Comic sans MS">二. 变量和数据类型</font></h3><font face="Comic sans MS"><font color="#00B2EE"><strong>参见本站博客：[<a href="https://treecatee.github.io/post/Python-Variables-DataTypes" target="_blank" rel="noopener">Python-变量和数据类型</a>]</strong></font><br></font><p><br></p><p><br></p><h3 id="三-运算符"><a href="#三-运算符" class="headerlink" title="三. 运算符"></a><font color="#FF6347" face="Comic sans MS">三. 运算符</font></h3><font face="Comic sans MS"><font color="#00B2EE"><strong>参见本站博客：[<a href="https://treecatee.github.io/post/Python-Operators" target="_blank" rel="noopener">Python-运算符</a>]</strong></font><br></font><p><br></p><p><br></p><h3 id="四-条件语句与循环"><a href="#四-条件语句与循环" class="headerlink" title="四. 条件语句与循环"></a><font color="#FF6347" face="Comic sans MS">四. 条件语句与循环</font></h3><font face="Comic sans MS"><font color="#00B2EE"><strong>参见本站博客：[<a href="https://treecatee.github.io/post/Python-ConditionalStatements-loops" target="_blank" rel="noopener">Python-条件语句与循环</a>]</strong></font><br></font><p><br></p><p><br></p><h3 id="五-字符编码、字符串、格式化"><a href="#五-字符编码、字符串、格式化" class="headerlink" title="五. 字符编码、字符串、格式化"></a><font color="#FF6347" face="Comic sans MS">五. 字符编码、字符串、格式化</font></h3><font face="Comic sans MS"><font color="#00B2EE"><strong>参见本站博客：[<a href="https://treecatee.github.io/post/Python-Coding" target="_blank" rel="noopener">Python-字符编码&amp;字符串&amp;格式化</a>]</strong></font><br></font><p><br></p><p><br></p><h3 id="六-列表、元组、字典、集合"><a href="#六-列表、元组、字典、集合" class="headerlink" title="六. 列表、元组、字典、集合"></a><font color="#FF6347" face="Comic sans MS">六. 列表、元组、字典、集合</font></h3><font face="Comic sans MS"><font color="#00B2EE"><strong>参见本站博客：[<a href="https://treecatee.github.io/post/Python-list-tuple-dict-set" target="_blank" rel="noopener">Python-列表、元组、字典、集合</a>]</strong></font><br></font><p><br></p><p><br></p><h3 id="七-函数"><a href="#七-函数" class="headerlink" title="七. 函数"></a><font color="#FF6347" face="Comic sans MS">七. 函数</font></h3><font face="Comic sans MS"><font color="#00B2EE"><strong>参见本站博客：[<a href="https://treecatee.github.io/post/Python-Function" target="_blank" rel="noopener">Python-函数</a>]</strong></font><br></font><p><br></p><p><br></p><h3 id="八-生成器与迭代器"><a href="#八-生成器与迭代器" class="headerlink" title="八. 生成器与迭代器"></a><font color="#FF6347" face="Comic sans MS">八. 生成器与迭代器</font></h3><font face="Comic sans MS"><font color="#00B2EE"><strong>参见本站博客：[<a href="https://treecatee.github.io/post/Python-generator-iterator" target="_blank" rel="noopener">Python-生成器与迭代器</a>]</strong></font><br></font><p><br></p><p><br></p><h3 id="九-模块和包"><a href="#九-模块和包" class="headerlink" title="九. 模块和包"></a><font color="#FF6347" face="Comic sans MS">九. 模块和包</font></h3><font face="Comic sans MS"><font color="#00B2EE"><strong>参见本站博客：[<a href="https://treecatee.github.io/post/Python-Modules-Packages" target="_blank" rel="noopener">Python-模块和包</a>]</strong></font><br></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;从今天开始Python的学习吧……ヾ(๑╹◡╹)ﾉ”&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="Treecatee.gitgub.io/categories/Python/"/>
    
    
      <category term="Python语言" scheme="Treecatee.gitgub.io/tags/Python%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>PHP-会话管理和控制</title>
    <link href="Treecatee.gitgub.io/post/php-sessionmanagement/"/>
    <id>Treecatee.gitgub.io/post/php-sessionmanagement/</id>
    <published>2019-02-26T09:22:53.000Z</published>
    <updated>2019-03-06T16:37:18.520Z</updated>
    
    <content type="html"><![CDATA[<p>(。・∀・)ノ<br><a id="more"></a></p><p>&ensp;<br>&ensp;</p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>PHP 会话管理和控制</strong></font></center><p>&emsp;<br>&emsp;</p><h3 id="一-前言"><a href="#一-前言" class="headerlink" title="一. 前言"></a><font color="#FF6347" face="Comic sans MS">一. 前言</font></h3><p>标准的http协议是无状态的，无连接的。<br>？？？什么意思？⊙﹏⊙∥</p><blockquote><p><strong>【无状态】</strong></p><ol><li>协议对于事务处理没有记忆能力【事物处理】【记忆能力】</li><li>对同一个url请求没有上下文关系【上下文关系】</li><li>每次的请求都是独立的，它的执行情况和结果与前面的请求和之后的请求是无直接关系的，它不会受前面的请求应答情况直接影响，也不会直接影响后面的请求应答情况【无直接联系】【受直接影响】</li><li>服务器中没有保存客户端的状态，客户端必须每次带上自己的状态去请求服务器【状态】</li></ol></blockquote><blockquote><p><strong>【无连接】</strong></p><ol><li>每一个访问都是无连接，服务器挨个处理访问队列里的访问，处理完一个就关闭连接，这事儿就完了，然后处理下一个新的</li><li>无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接</li></ol></blockquote><p>&emsp;<br>具体内容以及为什么使用Session和Cookie参考下面博文：</p><font color="#00B2EE">[<a href="https://www.cnblogs.com/bellkosmos/p/5237146.html" target="_blank" rel="noopener">http协议无状态中的 “状态” 到底指的是什么？！</a>]</font><p>&emsp;<br>&emsp;</p><h3 id="二-Cookie概述"><a href="#二-Cookie概述" class="headerlink" title="二. Cookie概述"></a><font color="#FF6347" face="Comic sans MS">二. Cookie概述</font></h3><p>什么是Cookie？<br>请参考本站博客<font color="#00B2EE">[<a href="https://directoree.github.io/post/HTTP-User-Agen-Cookie" target="_blank" rel="noopener">HTTP协议请求头部的User-Agen和Cookie</a>]</font></p><p>&emsp;<br>&emsp;</p><h3 id="三-PHP中的Cookie"><a href="#三-PHP中的Cookie" class="headerlink" title="三. PHP中的Cookie"></a><font color="#FF6347" face="Comic sans MS">三. PHP中的Cookie</font></h3><p><strong>这节我们通过一个用户首次登陆网站后，再次访问不需要重复输入用户名和密码的例子来学习Cookie。</strong></p><font face="Comic sans MS">php中提供了一个函数来让我们设置cookie，这个函数是：<font color="#FF7F00">bool setcookie()</font>;<br><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_http_setcookie.asp" target="_blank" rel="noopener">PHP setcookie() 函数</a>]</font><br>需要注意的是，这个函数每次只能设置Cookie中的一个参数，比如一次只能设置用户名、密码等字段。</font><pre class=" language-php"><code class="language-php">bool <span class="token function">setcookie</span>  <span class="token punctuation">(</span>        string $名字        <span class="token punctuation">[</span><span class="token punctuation">,</span> string $值<span class="token punctuation">]</span>        <span class="token punctuation">[</span><span class="token punctuation">,</span> int $过期时间  <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">]</span>        <span class="token punctuation">[</span><span class="token punctuation">,</span> string $路径<span class="token punctuation">]</span>        <span class="token punctuation">[</span><span class="token punctuation">,</span> string $域名<span class="token punctuation">]</span>        <span class="token punctuation">[</span><span class="token punctuation">,</span> bool $安全  <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">]</span>        <span class="token punctuation">[</span><span class="token punctuation">,</span> bool <span class="token variable">$http</span>只读  <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">]</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">$名字</td><td style="text-align:left">必需。规定 cookie 的名称。</td></tr><tr><td style="text-align:center">$值</td><td style="text-align:left">可选。规定 cookie 的值。</td></tr><tr><td style="text-align:center">$有效期</td><td style="text-align:left">可选。规定 cookie 的有效期。</td></tr><tr><td style="text-align:center">$路径</td><td style="text-align:left">可选。规定 cookie 的服务器路径。</td></tr><tr><td style="text-align:center">$域名</td><td style="text-align:left">可选。规定 cookie 的域名。</td></tr><tr><td style="text-align:center">$安全</td><td style="text-align:left">可选。规定是否通过安全的 HTTPS 连接来传输 cookie。</td></tr><tr><td style="text-align:center">$http只读</td><td style="text-align:left">可选。如果true，那么js就无法读取改cookie，增加安全性。</td></tr></tbody></table><blockquote><p>1.一般来说，我们其实用不到上面那么多参数，对于这个函数，我们一般这么用：<font color="#FF7F00"><strong>setcookie(cookie名,cookie值,cookie有效期)</strong></font>;<br>2.没错，就那么3个。如此一来，我们就可以在服务端通过$_COOKIE[‘name’] 来读取cookie了。</p></blockquote><p>&emsp;<br>&emsp;<br><strong>以下是示例：</strong></p><ol><li>我们将文件名命名为：cookie.php。</li><li>我们来模拟我们在互联网上见到最常见的例子：输入用户名和密码，登陆成功的过程。</li><li>我们来建一个数据库login,其中有表user,有username和password这两个字段。</li></ol><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//第一次登陆的时候，通过用户输入的信息来确认用户</span><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$userName</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//从db获取用户信息</span>    <span class="token comment" spellcheck="true">//PS：数据库连接信息改成自己的 分别为主机 数据库用户名 密码</span>    <span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">,</span><span class="token string">'root'</span><span class="token punctuation">,</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mysqli_select_db</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"select * from user where `username` = '$userName' "</span><span class="token punctuation">;</span>    <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token variable">$password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//密码验证通过，设置cookies，把用户名和密码保存在客户端</span>        <span class="token function">setcookie</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span><span class="token variable">$userName</span><span class="token punctuation">,</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//设置时效一个月,一个月后这个cookie失效</span>        <span class="token function">setcookie</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">,</span><span class="token variable">$password</span><span class="token punctuation">,</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//最后跳转到登录后的欢迎页面</span>        <span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Location: welcome.php'</span> <span class="token punctuation">.</span> <span class="token string">"?username=$userName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//再次访问的时候通过cookie来识别用户</span><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>  <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$userName</span> <span class="token operator">=</span> <span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//从db获取用户信息</span>    <span class="token comment" spellcheck="true">//PS：数据库连接信息改成自己的 分别为主机 数据库用户名 密码</span>    <span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">,</span><span class="token string">'root'</span><span class="token punctuation">,</span><span class="token string">'root'</span><span class="token punctuation">,</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span><span class="token string">"select * from user where `username` =  '$userName' "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token variable">$password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//验证通过后跳转到登录后的欢迎页面</span>        <span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Location: welcome.php'</span> <span class="token punctuation">.</span> <span class="token string">"?username=$userName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span></span>        用户名：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>        密  码：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>        <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>登录<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>&emsp;<br>跳转到的welcome.php代码</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>   welcome<span class="token punctuation">,</span><span class="token delimiter">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$user</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>&emsp;</p><blockquote><ol><li>这样，当我第一次访问cookie.php的时候，我需要输入用户名和密码，输入完毕后跳转到了welcome.php。然后我关闭浏览器，再次打开cookie.php，这次没有要求我输入用户信息，而是直接跳转到了welcome.php,因为之前我们存的cookie信息被浏览器自动发送到了服务端,服务端做完处理直接跳转到了welcome.php,服务器认识我们了！知道我是之前那个登陆过的用户，这样我们就通过cookie技术让无状态的HTTP协议保持了状态。<br>照着这个做一遍，我相信你会用cookie了。</li><li>只不过！！！只不过！！！只不过！！！重要的事要说3遍，<font color="#FF7F00"><strong>我们一般是不会把用户名和密码放到cookie中的，因为这并不安全，容易泄露自己的信息，请不要把重要的信息放到cookie中</strong></font>。我们这个只是一个学习cookie的例子。</li></ol></blockquote><p>&emsp;<br>&emsp;</p><h3 id="四-PHP中使用session"><a href="#四-PHP中使用session" class="headerlink" title="四. PHP中使用session"></a><font color="#FF6347" face="Comic sans MS">四. PHP中使用session</font></h3><p>什么是session以及一些使用方法?可参考博文：</p><font color="#00B2EE">[<a href="http://www.cnblogs.com/lxwphp/p/9237312.html" target="_blank" rel="noopener">php中Session使用方法详解</a>]</font><br><font color="#00B2EE">[<a href="https://www.cnblogs.com/mike1314/p/6985457.html" target="_blank" rel="noopener">PHP会话机制—session的基本使用</a>]</font><br><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/php_sessions.asp" target="_blank" rel="noopener">W3school PHP Sessions</a>]</font><p>&emsp;</p><ol><li>注意：session_start()函数之前不能有任何输出,session_start() 函数必须位于 <code>&lt;html&gt;</code> 标签之前：<br><code>&lt;?php session_start(); ?&gt;</code><br><code>&lt;\html&gt;</code><br><code>&lt;body&gt;</code><br><code>&lt;/body&gt;</code><br><code>&lt;/html&gt;</code></li><li>当第一次访问网站时，Seesion_start()函数就会创建一个唯一的Session ID，并自动通过HTTP的响应头，将这个Session ID保存到客户端Cookie中。同时，也在服务器端创建一个以Session ID命名的文件，用于保存这个用户的会话信息。当同一个用户再次访问这个网站时，也会自动通过HTTP的请求头将Cookie中保存的Seesion ID再携带过来，这时Session_start()函数就不会再去分配一个新的Session ID，而是在服务器的硬盘中去寻找和这个Session ID同名的Session文件，将这之前为这个用户保存的会话信息读出，在当前脚本中应用，达到跟踪这个用户的目的。 Session以数组的形式使用，如：$_SESSION[‘session名’]</li><li><strong>注册一个会话变量和读取Session</strong></li><li><font color="#FF7F00"><strong>在PHP中使用Session变量，除了要启动之外，还要经过注册的过程</strong></font>。注册和读取Session变量，都要通过访问$_SESSION数组完成。在$_SESSION<font color="#FF7F00"><strong>关联数组</strong></font>中的键名具有和PHP中普通变量相同的命名规则。</li></ol><p>&emsp;</p><h4 id="4-1-开启session"><a href="#4-1-开启session" class="headerlink" title="4.1 开启session"></a><font color="#3CB371" face="Comic sans MS">4.1 开启session</font></h4><p><strong>使用函数：</strong><font color="#00B2EE"><strong>bool session_start()</strong></font></p><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_http_setcookie.asp" target="_blank" rel="noopener">PHP setcookie(void) 函数</a>]</font><p>首先我们要开启session，那么第一个要学习的函数就是<br>bool session_start()了，这个函数没有参数。在php文件的开始使用</p><pre class=" language-php"><code class="language-php"><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>&emsp;</p><h4 id="4-2-注册-添加session数据"><a href="#4-2-注册-添加session数据" class="headerlink" title="4.2 (注册)添加session数据"></a><font color="#3CB371" face="Comic sans MS">4.2 (注册)添加session数据</font></h4><p>开启会话之后，那么在接下来的处理中，我们就可以使用$_SESSION变量来存取信息了。我们要知道的是$_SESSION变量是个数组。当我们要把信息存入session的时候应该这么写：</p><pre class=" language-php"><code class="language-php"> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'userName'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'wang'</span><span class="token punctuation">;</span></code></pre><p>&emsp;</p><h4 id="4-3-读取session数据"><a href="#4-3-读取session数据" class="headerlink" title="4.3 读取session数据"></a><font color="#3CB371" face="Comic sans MS">4.3 读取session数据</font></h4><p>读取很简单，就像我们使用数组一样，如下：</p><pre class=" language-php"><code class="language-php">   <span class="token variable">$userName</span> <span class="token operator">=</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'userName'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>当然也可以 $_SESSION[‘userName’] 来用。和<font color="red"><strong>数组一样的使用</strong></font>。</p><p>&emsp;</p><h4 id="4-4-销毁session数据"><a href="#4-4-销毁session数据" class="headerlink" title="4.4 销毁session数据"></a><font color="#3CB371" face="Comic sans MS">4.4 销毁session数据</font></h4><p>我们可以使用很多种方式来销毁session数据。</p><font color="#00B2EE"><strong>a) unset函数</strong></font><br>我们通过使用类似<br><font color="#00B2EE"></font><pre class=" language-php"><code class="language-php">   <span class="token function">unset</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'XXX'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>来销毁session中的 XXX 变量。</p><blockquote><font color="#FF7F00"><strong>请不要！请不要！请不要unset($_SESSION),会导致后续无法使用$_SESSION这个变量！！！</strong></font></blockquote><p>&emsp;</p><font color="#00B2EE"><strong>b) 空数组赋值给session变量</strong></font><pre class=" language-php"><code class="language-php">   $\<span class="token package">_SESSION</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>之前我们说过$_SESSOIN变量是个数组，那么空数组赋值的话也是相当于将当前会话的$_SESSION变量中的值销毁。</p></blockquote><p>&emsp;</p><font color="#00B2EE"><strong>c) session_destory() 函数</strong></font><br><strong>这个函数会销毁当前会话中的全部数据，并结束当前会话。但是不会重置当前会话所关联的全局变量， 也不会重置会话 cookie。</strong><br><br><font color="#00B2EE"></font><p>&emsp;</p><h4 id="4-5-session的扩展"><a href="#4-5-session的扩展" class="headerlink" title="4.5 session的扩展"></a><font color="#3CB371" face="Comic sans MS">4.5 session的扩展</font></h4><p>我们可以使用很多种方式来销毁session数据。<br>默认session存储在哪里?<br>&emsp;<br>1.在<code>php.ini</code>配置文件中有这么一行 <code>session.save_handler = files</code>,<br>files说明了php默认的是用文件读写的方式来保存session的。那么在哪个目录呢？继续看。session.save_path = “/tmp”,这一行前面有个 ; ，说明是被注释的，不过即便这样，php默认的session 也是保存在这里的，<code>/tmp</code>目录。</p><p>&emsp;<br>&emsp;</p><h3 id="五-SESSION应用实例"><a href="#五-SESSION应用实例" class="headerlink" title="五. SESSION应用实例"></a><font color="#FF6347" face="Comic sans MS">五. SESSION应用实例</font></h3><h4 id="5-1-登陆例子"><a href="#5-1-登陆例子" class="headerlink" title="5.1 登陆例子"></a><font color="#3CB371" face="Comic sans MS">5.1 登陆例子</font></h4><blockquote><p><strong>2个文件：</strong></p><ol><li><font color="#FF7F00">login.php</font>，用于登陆界面；</li><li><font color="#FF7F00">welcome.php</font>，用于接收从login.php的跳转并设置session。</li></ol></blockquote><p><strong>首先建立数据库信息：</strong><br>新建一个名为 login 的数据库，再建一个 user 表，表的结构有2个字段:<br>username  varchar(20)<br>password  varchar(20)</p><p>&emsp;<br>login.php</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token variable">$userName</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//从db获取用户信息   数据库信息改成自己的</span>   <span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string">'host'</span><span class="token punctuation">,</span><span class="token string">'username'</span><span class="token punctuation">,</span><span class="token string">'password'</span><span class="token punctuation">,</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span><span class="token string">"select * from user where `username` =  '$username' "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token variable">$password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//密码验证通过，设置session，把用户名和密码保存在服务端</span>       <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$username</span><span class="token punctuation">;</span>       <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$password</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//最后跳转到登录后的欢迎页面 //注意：这里我们没有像cookie一样带参数过去</span>       <span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Location: welcome.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token comment" spellcheck="true">&lt;!-- 这里指明页面编码 --></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>   <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>       <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span></span>           用户名：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>           密  码：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>           <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>登录<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>               <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span>   <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>&emsp;<br>&emsp;<br>welcome.php 这里我们用的是session中的信息,而不是像cookie一样在url中带参数过来</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$username</span> <span class="token operator">=</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>   welcome<span class="token punctuation">,</span><span class="token delimiter">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$username</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>&emsp;</p><h4 id="5-2-购物车例子"><a href="#5-2-购物车例子" class="headerlink" title="5.2 购物车例子"></a><font color="#3CB371" face="Comic sans MS">5.2 购物车例子</font></h4><blockquote><p><strong>3个文件：</strong></p><ol><li><font color="#FF7F00">goodsList.php</font> 这个是商品展示页，还有功能：如果是第一次购买某物品，则在购物车中加入该商品信息和计算总价，如果再次点击购买，则已购商品数量加1，总价重新计算，查看购物车链接可以到购物车页面。</li><li><font color="#FF7F00">buy.php</font> 此页完成购买功能，然后再次跳转到商品列表。主要是做了在session中处理购买商品操作。</li><li><font color="#FF7F00">shoppingCart.php</font> 此页展示购物车中的商品、价格、总价等信息。</li></ol></blockquote><p>&emsp;<br><strong>首先建立数据库信息：</strong><br>建立名为test的数据库，库中有个shop表，表结构有3个字段：<br>id  int(10)<br>name  varchar(20)<br>price  varchar(20)</p><p>&emsp;<br>goodsList.php</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token variable">$goods</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//从数据库获取商品信息存入$goods二维数组</span>   <span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//这里请换上自己的数据库相关信息</span>   <span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string">'host'</span><span class="token punctuation">,</span><span class="token string">'username'</span><span class="token punctuation">,</span><span class="token string">'password'</span><span class="token punctuation">,</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span><span class="token string">'select * from shop'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//这里把商品信息放到$goods二维数组，每一维存的是单个</span>   <span class="token comment" spellcheck="true">//商品的信息，比如商品名、价格。</span>   <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token variable">$goods</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token variable">$goods</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token variable">$goods</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token variable">$i</span><span class="token operator">++</span> <span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token delimiter">?></span><span class="token markup"><span class="token doctype">&lt;!DOCTYPE html></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>   <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html;charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>   <span class="token delimiter">&lt;?php</span>   <span class="token comment" spellcheck="true">//取出商品信息显示在页面上，并添加购买功能</span>       <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$goods</span> <span class="token keyword">as</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>           <span class="token keyword">echo</span> <span class="token string">' 商品名 '</span> <span class="token punctuation">.</span> <span class="token variable">$value</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token string">' 价格 '</span> <span class="token punctuation">.</span> <span class="token variable">$value</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>           <span class="token keyword">echo</span> <span class="token string">"&lt;a href=buy.php?name="</span> <span class="token punctuation">.</span> <span class="token variable">$value</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token string">'&amp;price='</span> <span class="token punctuation">.</span> <span class="token variable">$value</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token string">">购买&lt;/a>"</span><span class="token punctuation">;</span>           <span class="token keyword">echo</span> <span class="token string">'&lt;br />'</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span>   <span class="token delimiter">?></span>   <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>shoppingCart.php<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>查看购物车<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>&emsp;<br>buy.php</p><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>   <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html;charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span><span class="token delimiter">&lt;?php</span>   <span class="token comment" spellcheck="true">//开启session</span>   <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//获取传过来的商品名和价格</span>   <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token variable">$price</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//把session中的商品信息和传过来的(刚买的)商品信息对比</span>   <span class="token variable">$goods</span> <span class="token operator">=</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'goods'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">==</span> <span class="token variable">$goods</span><span class="token punctuation">[</span><span class="token variable">$name</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//买过的话，则总价格增加，相应商品数量增加</span>       <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'totalPrice'</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token variable">$price</span><span class="token punctuation">;</span>       <span class="token variable">$goods</span><span class="token punctuation">[</span><span class="token variable">$name</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'number'</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//第一次买的话，将相应的商品信息添加到session中</span>       <span class="token variable">$goods</span><span class="token punctuation">[</span><span class="token variable">$name</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$name</span><span class="token punctuation">;</span>       <span class="token variable">$goods</span><span class="token punctuation">[</span><span class="token variable">$name</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$price</span><span class="token punctuation">;</span>       <span class="token variable">$goods</span><span class="token punctuation">[</span><span class="token variable">$name</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'number'</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>       <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'totalPrice'</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token variable">$price</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span>   <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'goods'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$goods</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//购买处理完毕后跳转到商品列表</span>   <span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'location: goodsList.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>&emsp;<br>shoppingCart.php</p><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>   <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html;charset<span class="token punctuation">=</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span><span class="token delimiter">&lt;?php</span><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将session中的商品信息(即购物车中的商品)和总价显示到页面</span><span class="token variable">$goods</span> <span class="token operator">=</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'goods'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'您买了:&lt;br />'</span><span class="token punctuation">;</span><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$goods</span> <span class="token keyword">as</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token variable">$value</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token string">' 价格 '</span> <span class="token punctuation">.</span> <span class="token variable">$value</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token string">' 数量 '</span> <span class="token punctuation">.</span> <span class="token variable">$value</span><span class="token punctuation">[</span><span class="token string">'number'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token string">'&lt;br />'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token string">'总价：'</span> <span class="token punctuation">.</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'totalPrice'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token string">'&lt;br />'</span><span class="token punctuation">;</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>goodsList.php<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>返回商品列表<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre><p>&emsp;<br>效果图如下：</p><p><img src="https://i.loli.net/2019/02/26/5c7522ea3d61f.png" alt="1"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;(。・∀・)ノ&lt;br&gt;
    
    </summary>
    
      <category term="PHP" scheme="Treecatee.gitgub.io/categories/PHP/"/>
    
    
      <category term="PHP语言" scheme="Treecatee.gitgub.io/tags/PHP%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>PHP操作MySQL数据库</title>
    <link href="Treecatee.gitgub.io/post/php-mysql/"/>
    <id>Treecatee.gitgub.io/post/php-mysql/</id>
    <published>2019-02-24T02:32:17.000Z</published>
    <updated>2019-03-06T16:37:37.536Z</updated>
    
    <content type="html"><![CDATA[<p>😁<br><a id="more"></a><br>&ensp;<br>&ensp;</p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>PHP操作MySQL数据库</strong></font></center><p>&emsp;<br>&emsp;</p><h3 id="一-数据库连接步骤"><a href="#一-数据库连接步骤" class="headerlink" title="一. 数据库连接步骤"></a><font color="#FF6347" face="Comic sans MS">一. 数据库连接步骤</font></h3><p>将数据库连接整理成了最重要的<font color="#FF7F00"><strong>8个步骤</strong></font>，我戏称它为：“数据库连接天龙八步”。😊  (。・∀・)ノ</p><p>&emsp;</p><h4 id="第一步-连接数据库服务器"><a href="#第一步-连接数据库服务器" class="headerlink" title="第一步:  连接数据库服务器"></a><font color="#3CB371" face="Comic sans MS">第一步:  连接数据库服务器</font></h4><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_mysql_connect.asp" target="_blank" rel="noopener">PHP mysql_connect() 函数</a>]</font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">函数</td><td style="text-align:left">mysqli_connect()</td></tr><tr><td style="text-align:center">函数原型</td><td style="text-align:left">mysql_connect(server,user,pwd,newlink,clientflag)</td></tr><tr><td style="text-align:center">功能</td><td style="text-align:left">连接到mysql数据库服务器</td></tr><tr><td style="text-align:center">返回值</td><td style="text-align:left">如果成功，则返回一个 MySQL 连接标识，失败则返回 FALSE。</td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">主机</td></tr><tr><td style="text-align:center">参数2</td><td style="text-align:left">数据库服务器登陆名</td></tr><tr><td style="text-align:center">参数3</td><td style="text-align:left">密码</td></tr><tr><td style="text-align:center">参数4</td><td style="text-align:left">数据库的名称</td></tr><tr><td style="text-align:center">参数5</td><td style="text-align:left">数据库服务器端口不填默认3306</td></tr></tbody></table><blockquote><font color="#FF7F00"><strong>对于参数4，数据库名称在此步已填并择，不需要执行第三步。</strong></font></blockquote><p>&emsp;</p><h4 id="第二步-判断错误"><a href="#第二步-判断错误" class="headerlink" title="第二步:  判断错误"></a><font color="#3CB371" face="Comic sans MS">第二步:  判断错误</font></h4><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_mysql_errno.asp" target="_blank" rel="noopener">PHP mysqli_errno() 函数</a>]</font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">函数</td><td style="text-align:left">mysqli_errno(connection)</td></tr><tr><td style="text-align:center">功能/返回值</td><td style="text-align:left">返回连接错误号，无错误返回0</td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">传入mysqli_connect()返回的资源可选。规定 SQL 连接标识符。如果未规定，则使用上一个<br>打开的连接。</td></tr></tbody></table><p>&emsp;</p><font color="#FF7F00"><strong>如果mysqli_errno()函数返回错误号，则用mysqli_error()显示文本错误信息。</strong></font>&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_mysql_error.asp" target="_blank" rel="noopener">PHP mysql_error() 函数</a>]</font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">函数</td><td style="text-align:left">mysqli_error(connection)</td></tr><tr><td style="text-align:center">功能/返回值</td><td style="text-align:left">返回连接错误字符串，如果没有出错则返回 ‘’（空字符串）</td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">传入mysqli_connect返回的资源</td></tr></tbody></table><p>&emsp;</p><h4 id="第三步-选择数据库"><a href="#第三步-选择数据库" class="headerlink" title="第三步:  选择数据库"></a><font color="#3CB371" face="Comic sans MS">第三步:  选择数据库</font></h4><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_mysql_select_db.asp" target="_blank" rel="noopener">PHP mysqli_select_db() 函数</a>]</font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">函数</td><td style="text-align:left">mysql_selecti_db(connection,database)</td></tr><tr><td style="text-align:center">返回值</td><td style="text-align:left">如果成功，则该函数返回 true。如果失败，则返回 false。</td></tr><tr><td style="text-align:center">功能</td><td style="text-align:left">选择本连接中的<strong>数据库</strong></td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">传入mysqli_connect返回的资源</td></tr><tr><td style="text-align:center">参数2</td><td style="text-align:left">需要连接的数据库名</td></tr></tbody></table><blockquote><font color="#FF7F00"><strong>若在第一步已填数据库，不需要更换成其他数据库，则不需要执行第三步。</strong></font></blockquote><p>&emsp;</p><h4 id="第四步-设置字符集"><a href="#第四步-设置字符集" class="headerlink" title="第四步:  设置字符集"></a><font color="#3CB371" face="Comic sans MS">第四步:  设置字符集</font></h4><font color="#00B2EE">[<a href="http://www.runoob.com/php/func-mysqli-set-charset.html" target="_blank" rel="noopener">PHP mysqli_set_charset 函数</a>]</font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">函数</td><td style="text-align:left">mysqli_set_charset(connection,charset)</td></tr><tr><td style="text-align:center">功能</td><td style="text-align:left">设置与mysql服力器连接，结果，校验字符集</td></tr><tr><td style="text-align:center">返回值</td><td style="text-align:left">无返回值</td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">传入mysqli_connect返回的资源</td></tr><tr><td style="text-align:center">参数2</td><td style="text-align:left">字符集类型</td></tr></tbody></table><p>&emsp;</p><h4 id="第五步-准备SQL语句"><a href="#第五步-准备SQL语句" class="headerlink" title="第五步:  准备SQL语句"></a><font color="#3CB371" face="Comic sans MS">第五步:  准备SQL语句</font></h4><font color="#FF7F00"><strong>其实就是一个SQL语句的字符串，用于对MySQL数据库的操作。这一步很重要！</strong></font> <p>&emsp;<br>例如：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"insert into user(username,password) values('$username','$password')"</span><span class="token punctuation">;</span><span class="token variable">$con</span> <span class="token operator">=</span> <span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string">"localhost"</span><span class="token punctuation">,</span><span class="token string">"peter"</span><span class="token punctuation">,</span><span class="token string">"abc123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$con</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string">'Could not connect: '</span> <span class="token punctuation">.</span> <span class="token function">mysql_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">// some code</span><span class="token delimiter">?></span></code></pre><blockquote><ol><li>我们通常要把变量赋值在SQL语句中使用。可是变量或者SQL语句出错了，非常不好排查。</li><li>我们根据实际工作经验增加了这一步。</li><li>如果在执行此步的时候报错了，我们可以把SQL语句打印出来，粘贴到phpMyAdmin或者相关工具中。</li><li>排错时，如果执行成功就说明不是SQL语句的问题。如果执行失败，请仔细检查SQL语句。</li></ol></blockquote><p>&emsp;</p><h4 id="第六步-发送SQL语句"><a href="#第六步-发送SQL语句" class="headerlink" title="第六步:  发送SQL语句"></a><font color="#3CB371" face="Comic sans MS">第六步:  发送SQL语句</font></h4><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_mysql_query.asp" target="_blank" rel="noopener">PHP mysqli_query() 函数</a>]</font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">功能</td><td style="text-align:left">发送SQL语句,执行一条 MySQL 查询。</td></tr><tr><td style="text-align:center">返回值</td><td style="text-align:left">mysqli_query() 仅对 SELECT，SHOW，EXPLAIN 或 DESCRIBE 语句<strong>返回一个资源标识符</strong>，<br>如果查询执行不正确则返回 FALSE。</td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">传入mysqli_connect返回的资源</td></tr><tr><td style="text-align:center">参数2</td><td style="text-align:left">传入发送的SQL语句。注意：查询字符串不应以分号结束。</td></tr></tbody></table><blockquote><ol><li>SQL语句准备完成，需要通过mysqli_query将SQL语句发送给MySQL服务器。</li><li>MySQL服务器会执行发送过来的SQL语句进行执行。</li></ol></blockquote><p>&emsp;</p><h4 id="第七步-判断是否执行正常或者遍历数据"><a href="#第七步-判断是否执行正常或者遍历数据" class="headerlink" title="第七步:  判断是否执行正常或者遍历数据"></a><font color="#3CB371" face="Comic sans MS">第七步:  判断是否执行正常或者遍历数据</font></h4><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_mysql_fetch_array.asp" target="_blank" rel="noopener">PHP mysqli_fetch_array() 函数</a>]</font><br>读取第6步中，发送的是select类别的语句，<font color="#FF7F00"><strong>通常需要将结果以数组形式输出显示出来</strong></font>。就需要用到遍历显示数据的函数。<br><br><font color="red"></font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">函数</td><td style="text-align:left">mysqli_fetch_array(data,array_type)</td></tr><tr><td style="text-align:center">功能</td><td style="text-align:left">得到result结果集中的数据，返回数组进行遍历</td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">可选。规定要使用的数据指针。该数据指针是 mysqli_query() 函数产生的结果。</td></tr><tr><td style="text-align:center">参数2</td><td style="text-align:left">可选。规定返回哪种结果。可能的值：<br>MYSQL_ASSOC - 关联数组<br>MYSQL_NUM - 数字数组<br>MYSQL_BOTH - 默认。同时产生关联和数字数组</td></tr></tbody></table><p>&emsp;<br>下面举例几个常用的<strong>将mysqli_query()查询得到的字符串处理成数组的函数</strong>…….</p><font color="red"></font><table><thead><tr><th style="text-align:center">函数</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">mysqli_fetch_assoc(data)</td><td style="text-align:left">返回根据从结果集取得的行生成的<strong>关联数组</strong>，如果没有更多行，则返回 false</td></tr><tr><td style="text-align:center">mysqli_fetch_row(data)</td><td style="text-align:left">返回根据从结果集取得的行生成的<strong>索引数组</strong>，如果没有更多行，则返回 false</td></tr><tr><td style="text-align:center">mysqli_fetch_object(data)</td><td style="text-align:left">从结果集（记录集）中取得一行作为对象。<br>若成功的话，本函数从 mysql_query() 获得一行，并返回一个对象。如果失败<br>或没有更多的行，则返回 false。</td></tr><tr><td style="text-align:center">mysqli_num_rows(data)</td><td style="text-align:left">返回结果集中行的数目。此命令仅对 SELECT 语句有效。<br>要取得被 INSERT，UPDATE 或者 DELETE 查询所影响到的行的数目，<br>用 mysqli_affected_rows()。</td></tr><tr><td style="text-align:center">mysqli_fetch_field</td><td style="text-align:left">从结果集中取得列信息并作为对象返回。</td></tr></tbody></table><p>&emsp;</p><h4 id="第八步-关闭数据库"><a href="#第八步-关闭数据库" class="headerlink" title="第八步:  关闭数据库"></a><font color="#3CB371" face="Comic sans MS">第八步:  关闭数据库</font></h4><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_mysql_close.asp" target="_blank" rel="noopener">PHP mysql_close() 函数</a>]</font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">函数</td><td style="text-align:left">mysqli_close(link_identifier)</td></tr><tr><td style="text-align:center">功能</td><td style="text-align:left">关闭数据库连接</td></tr><tr><td style="text-align:center">返回值</td><td style="text-align:left">如果成功则返回 true，失败则返回 false。</td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">传入mysqli_connect返回的资源</td></tr></tbody></table><p>&emsp;</p><font color="red" face="Comic sans MS"><strong>其他：显示服务器信息函数</strong></font> <table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">函数</td><td style="text-align:left">mysqli_get_server_info</td></tr><tr><td style="text-align:center">功能</td><td style="text-align:left">返回服务器信息</td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">传入mysqli_connect返回的资源</td></tr></tbody></table><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">函数</td><td style="text-align:left">mysqli_get_server_version</td></tr><tr><td style="text-align:center">功能</td><td style="text-align:left">返回服务器版本</td></tr><tr><td style="text-align:center">参数1</td><td style="text-align:left">传入mysqli_connect返回的资源</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font><br>mysqli只学过程化的方法即可。在面向对象阶段实际工作中完全抛弃了mysqli的对象用法，而是使用的是PDO对象连接数据库的方式。</p></blockquote><p>&emsp;<br>&emsp;</p><h3 id="二-通过步骤做一个用户注册实例"><a href="#二-通过步骤做一个用户注册实例" class="headerlink" title="二. 通过步骤做一个用户注册实例"></a><font color="#FF6347" face="Comic sans MS">二. 通过步骤做一个用户注册实例</font></h3><blockquote><p><font color="#FF7F00"><strong>我们做一个最简单的注册页面。注册页面中有三个参数：</strong></font></p><ol><li>用户名</li><li>密码</li><li>重复密码</li></ol><ul><li>用户写好三个参数后，点击提交的时候向<code>connect.php</code>页面中传入POST记录。</li><li>我们可以把<code>POST记录</code>处理后写入到MySQL数据库中，即完成了用户注。</li></ul></blockquote><blockquote><p><font color="#FF7F00"><strong>本例用到的两个文件：</strong></font></p><ol><li><code>index.php</code>：表单页面；</li><li><code>connect.php</code>：处理表单的页面。</li></ol></blockquote><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>一、 判断重复密码：</strong></font><blockquote><p>1.<strong>由于有重复密码，</strong><font color="#FF7F00"><strong>如果用户两次输入的密码不一致也就是有没有进行下一步的任何意义。</strong></font><br>2.<font color="#FF7F00"><strong>在网页中很多地方还是使用到了重复密码。</strong></font><strong>因为，害怕的是用户产生手误。将密码填写出错。</strong><br>3.<font color="#FF7F00"><strong>用户在输入密码的时候可能在左右两边多打两个空格。因此，我们会使用trim将密码和重复密码的两边去掉空格。</strong></font></p></blockquote><p>&emsp;<br>代码如下：</p><pre class=" language-php"><code class="language-php"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'repassword'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">'两次密码不一致,请返回上一页'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>二、 准备好写入的数据：</strong></font><br>我们需要把用户的<strong>输入数据</strong>和<strong>隐藏的数据</strong>都写入到数据库。<br><br><font color="red"><strong>可见数据有：</strong></font><table><thead><tr><th style="text-align:center">变量</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">$_POST[‘username’]</td><td style="text-align:left">用户名</td></tr><tr><td style="text-align:center">$_POST[‘password’]</td><td style="text-align:left">密码</td></tr></tbody></table><blockquote><ol><li>我们需要把用户名去掉两边的空格，这样避免输入不必要的这些信息。</li><li>在mysql这一章节我们讲过，用户的密码不要让包括公司内部人员可见。保证密码是不可逆向的。在初级阶段大家学习一下MD5即可。以后我们再教大家其他的加密方式。</li></ol></blockquote><font color="red"><strong>不可见数据有：</strong></font><table><thead><tr><th style="text-align:center">变量</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">$time</td><td style="text-align:left">用户的注册时间</td></tr><tr><td style="text-align:center">$_SERVER[‘REMOTE_ADDR’]</td><td style="text-align:left">用户的注册IP</td></tr></tbody></table><blockquote><ol><li>time返回的unix时间戳</li><li>REMOTE_ADDR返回的是IP地址，我们可以用ip2long将其转为整型存储。</li></ol></blockquote><pre class=" language-php"><code class="language-php"><span class="token variable">$username</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$password</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$time</span> <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$ip</span> <span class="token operator">=</span> <span class="token function">ip2long</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string">'REMOTE_ADDR'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>三、连接数据库、判断错误、选择库和字符集：</strong></font><blockquote><ol><li>我们使用mysqli_connect连接到数据库服务器。</li><li>如果有错误，使用mysqli_errno得到错误号</li><li>如何时存在错误mysqli_error打印出所有的错误，并且退出程序执行</li><li>选择数据库并且设置字符集为utf8.</li></ol></blockquote><pre class=" language-php"><code class="language-php"><span class="token comment" spellcheck="true">//连接数据库</span><span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">,</span><span class="token string">'root'</span><span class="token punctuation">,</span><span class="token string">'liwenkaihaha'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//如果有错误，存在错误号</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">mysqli_errno</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token function">mysqli_error</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    exit<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//选择数据库</span><span class="token function">mysqli_select_db</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//选择字符集</span><span class="token function">mysqli_set_charset</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>四、组合SQL语句：</strong></font><br>我们需要把得到的信息写入到数据库里面去，用户名、密码、创建时间、IP我们都得到了。<br><br>将对应的变量插入到SQL语句中即可。组合出来的SQL语句如下：<br><font color="#00B2EE"></font><pre class=" language-php"><code class="language-php"><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"insert into user(username,password,createtime,createip) values('"</span> <span class="token punctuation">.</span> <span class="token variable">$username</span> <span class="token punctuation">.</span> "'<span class="token punctuation">,</span><span class="token string">'" . $password . "'</span><span class="token punctuation">,</span><span class="token string">'" . $time . "'</span><span class="token punctuation">,</span><span class="token string">'" . $ip . "'</span><span class="token punctuation">)</span>"<span class="token punctuation">;</span></code></pre><p>&emsp;<br>而我们的创建表的语句如下：</p><pre class=" language-php"><code class="language-php"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token keyword">IF</span> <span class="token constant">NOT</span> <span class="token constant">EXISTS</span> <span class="token function">user</span> <span class="token punctuation">(</span>id <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>username <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>password <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>createtime <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>createip <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>InnoDB <span class="token keyword">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span></code></pre><p>&emsp;<br>表的格式（字段对应说明）：</p><font color="#00B2EE"></font><table><thead><tr><th style="text-align:center">id</th><th style="text-align:center">username</th><th style="text-align:center">password</th><th style="text-align:center">createtime</th><th style="text-align:center">createip</th></tr></thead><tbody><tr><td style="text-align:center">用户编号</td><td style="text-align:center">用户名</td><td style="text-align:center">密码</td><td style="text-align:center">创建时间</td><td style="text-align:center">创建IP</td></tr></tbody></table><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>五、发送语句，判断状态：</strong></font><blockquote><p>mysqli_query我们在上面说过，需要传入两个参数：</p><ol><li>连接的资源，在这里对应的变量是$conn。</li><li>发送的SQL语句。在上面已经准备好了$sql。</li></ol></blockquote><blockquote><p>SQL语句可以通过mysqli_query发送给MySQL服务器。发送成功$result则为true。否则为false。<br>成功的话，我们就可以提示用户注册成功啦。<br>有些情况下，可能还需要使用到<strong>mysqli_insert_id()</strong>。功能是获取上面通过insert插入数据的id并返回这个id。<br>mysqli_insert_id应用场景：新加的一个行的数据。我们需要得到自动增长的ID值，将这个ID值插入到另外一个表里面去时。就需要用到这个函数。</p></blockquote><p>&emsp;</p><p><code>mysqli_insert_id()</code>使用举例：</p><pre class=" language-php"><code class="language-php"><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string">'注册成功'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string">'注册失败'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token string">'当前用户插入的ID为'</span><span class="token punctuation">.</span><span class="token function">mysqli_insert_id</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>六、关闭数据库连接：</strong></font><p>将资源变量传到到mysqli_close这个函数里面即可。</p><pre class=" language-php"><code class="language-php"><span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>&emsp;<br>&emsp;<br>&emsp;<br>先建立test数据库、user数据表。数据表建立语句：</p><pre class=" language-php"><code class="language-php"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token keyword">IF</span> <span class="token constant">NOT</span> <span class="token constant">EXISTS</span> <span class="token function">user</span> <span class="token punctuation">(</span>id <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token constant">AUTO_INCREMENT</span><span class="token punctuation">,</span>username <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>password <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>createtime <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>createip <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>InnoDB <span class="token keyword">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span></code></pre><p>&emsp;</p><font color="red"><strong>1. <code>index.php</code>表单页面：</strong></font><pre class=" language-php"><code class="language-php"><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>connect.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>    用户名：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></span>    密码：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></span>    重复密码：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>repassword<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>提交<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span></code></pre><p>&emsp;<br>&emsp;</p><font color="red"><strong>2. <code>connect.php</code>页面完整代码：</strong></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'repassword'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">'两次密码不一致,请返回上一页'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$username</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$password</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$time</span> <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$ip</span> <span class="token operator">=</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string">'REMOTE_ADDR'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//echo $username."/".$password."/".$time."/".$ip;</span><span class="token comment" spellcheck="true">//如果有错误，存在错误号</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_errno</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token function">mysqli_error</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   exit<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">mysqli_select_db</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">mysqli_set_charset</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"insert into user(username,password,createtime,createip) values ('$username','$password','$time','$ip')"</span><span class="token punctuation">;</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'成功'</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'失败'</span><span class="token punctuation">;</span>   <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string">"错误为："</span><span class="token punctuation">.</span><span class="token function">mysqli_error</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string">"返回值："</span><span class="token punctuation">.</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token string">'当前用户插入的ID为'</span> <span class="token punctuation">.</span> <span class="token function">mysqli_insert_id</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="三-通过步骤做一个列表显示实例"><a href="#三-通过步骤做一个列表显示实例" class="headerlink" title="三. 通过步骤做一个列表显示实例"></a><font color="#FF6347" face="Comic sans MS">三. 通过步骤做一个列表显示实例</font></h3><font color="#00B2EE">[<a href="http://www.php.cn/code/1262.html" target="_blank" rel="noopener">教程</a>]</font><br><font color="#00B2EE">[<a href="http://www.php.cn/code/4977.html" target="_blank" rel="noopener">视频</a>]</font><p>&emsp;<br>&emsp;</p><h3 id="四-通过步骤操作之把用户做个分页"><a href="#四-通过步骤操作之把用户做个分页" class="headerlink" title="四. 通过步骤操作之把用户做个分页"></a><font color="#FF6347" face="Comic sans MS">四. 通过步骤操作之把用户做个分页</font></h3><font color="#00B2EE">[<a href="http://www.php.cn/code/1273.html" target="_blank" rel="noopener">教程</a>]</font><br><font color="#00B2EE">[<a href="http://www.php.cn/code/4978.html" target="_blank" rel="noopener">视频</a>]</font><p>&emsp;<br>&emsp;</p><h3 id="五-批量和指定删除用户"><a href="#五-批量和指定删除用户" class="headerlink" title="五.  批量和指定删除用户"></a><font color="#FF6347" face="Comic sans MS">五.  批量和指定删除用户</font></h3><p>上面已经学过了通过步骤做一个列表显示，在删除前，<font color="#FF7F00"><strong>有单行删除数据和删除多行数据</strong></font>。</p><p>&emsp;</p><h4 id="5-1-判断是单选还是多选删除"><a href="#5-1-判断是单选还是多选删除" class="headerlink" title="5.1 判断是单选还是多选删除"></a><font color="#3CB371" face="Comic sans MS">5.1 判断是单选还是多选删除</font></h4><blockquote><ol><li><font color="#FF7F00"><strong>单行是通过get传参的方式</strong></font>向delete.php文件中写上对应的ID。</li><li>而<font color="#FF7F00"><strong>多个删除是通过POST的方式</strong></font>向delete.php页面中传递对应的ID。</li><li>如果这两个都不符合的话，那我们可以视为数据不合法。</li></ol></blockquote><pre class=" language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_array</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$id</span> <span class="token operator">=</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">,</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token function">is_numeric</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$id</span> <span class="token operator">=</span> <span class="token punctuation">(</span>int<span class="token punctuation">)</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string">'数据不合法'</span><span class="token punctuation">;</span>    exit<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>&emsp;</p><h4 id="5-2-组合SQL语句"><a href="#5-2-组合SQL语句" class="headerlink" title="5.2 组合SQL语句"></a><font color="#3CB371" face="Comic sans MS">5.2 组合SQL语句</font></h4><blockquote><ol><li>MySQL这一章讲解过<font color="#FF7F00"><strong>删除时可以使用到in的子语句</strong></font>。</li><li>同样在这里，我们就可以用in的子语句来达到效果。</li><li><font color="#FF7F00"><strong>join函数将多选删除传过来的id变为了3,4,5的格式</strong></font>，最终多选删除的SQL语句执行出来的效果就是：</li></ol></blockquote><pre class=" language-php"><code class="language-php">delete from user where id <span class="token function">in</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>&emsp;<br>而单选删除的语句效果就是：</p><pre class=" language-php"><code class="language-php">delete from user where id <span class="token function">in</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></code></pre><p>&emsp;<br>这样我们就实现了单选和多选自适应效果：</p><pre class=" language-php"><code class="language-php"><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"delete from user where id in($id)"</span><span class="token punctuation">;</span></code></pre><p>&emsp;<br>最终配套而成的整体代码演示如下：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">include</span> <span class="token string">'connection.php'</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_array</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token variable">$id</span> <span class="token operator">=</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">,</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token function">is_numeric</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token variable">$id</span> <span class="token operator">=</span> <span class="token punctuation">(</span>int<span class="token punctuation">)</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'数据不合法'</span><span class="token punctuation">;</span>   exit<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"delete from user where id in($id)"</span><span class="token punctuation">;</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'删除成功'</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'删除失败'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="六-通过步骤修改用户信息"><a href="#六-通过步骤修改用户信息" class="headerlink" title="六. 通过步骤修改用户信息"></a><font color="#FF6347" face="Comic sans MS">六. 通过步骤修改用户信息</font></h3><p>内容有点多，等哪天想起来了或者心情好了再写吧…..(✿◡‿◡)</p><font color="#00B2EE">[<a href="http://www.php.cn/code/1277.html" target="_blank" rel="noopener">教程</a>]</font><br><font color="#00B2EE">[<a href="http://www.php.cn/code/4980.html" target="_blank" rel="noopener">视频</a>]</font><p>&emsp;<br>&emsp;</p><h3 id="七-数据显示乱码终极解决办法"><a href="#七-数据显示乱码终极解决办法" class="headerlink" title="七. 数据显示乱码终极解决办法"></a><font color="#FF6347" face="Comic sans MS">七. 数据显示乱码终极解决办法</font></h3><p>解决乱码问题的核心思想，就是：<font color="#FF7F00"><strong>一定要多个不同的文件系统中一定要统一编码</strong></font>。</p><p>&emsp;<br>总结成了9个要点来彻底解决连接后乱码的问题。</p><blockquote><ol><li><font color="#00B2EE"><strong>html编码与MySQL编码一致</strong></font></li><li><font color="#00B2EE"><strong>PHP编码与MySQL编码一致</strong></font></li><li><font color="#00B2EE"><strong>若有header头发送字符集，请与数据库一样</strong></font></li><li><font color="#00B2EE"><strong>&lt;meta http-equiv=“Content-Type”content=“text/html; charset=utf-8” /&gt;要和页面的文字编码一致</strong></font></li><li><font color="#00B2EE"><strong>数据库建库的字符集要统一</strong></font></li><li><font color="#00B2EE"><strong>表的字符集要统一</strong></font></li><li><font color="#00B2EE"><strong>列的字符集要统一(表设了,列就默认写表的)</strong></font></li><li><font color="#00B2EE"><strong>连接,校验的字符集要统一</strong></font></li><li><font color="#00B2EE"><strong>结果集的字符集要统一</strong></font></li></ol></blockquote><p>&emsp;<br>&emsp;<br>&emsp;</p><font color="#FF7F00"><strong>一、 文件编码</strong></font><br>html和PHP文件的编码，示例中：拿notepad++来演示。将PHP和html都要设为这种字符集。<br>一定要设置为utf-8无BOM格式。<br><br><img src="https://i.loli.net/2019/02/24/5c72764c43d27.png" alt="1"><br><br>&emsp;<br><font color="#FF7F00"><strong>二、 header头编码</strong></font><br>如果php中有header头，一定要是<strong>utf-8</strong>的<br><font color="red"></font><pre class=" language-php"><code class="language-php"><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'content-type:text/html;charset=utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>&emsp;</p><font color="#FF7F00"><strong>三、网页头文件编码</strong></font><br>如果html文件编码是utf-8的也要设置为一置<br><font color="red"></font><pre class=" language-php"><code class="language-php"><span class="token markup">&lt;meta http-equiv=“Content-Type”content=“text/html; charset=utf-8” /></span></code></pre><p>&emsp;</p><font color="#FF7F00"><strong>四、创建数据库的编码</strong></font><p><img src="https://i.loli.net/2019/02/24/5c72789c325a2.png" alt="2"></p><p>&emsp;</p><font color="#FF7F00"><strong>五、表和列创建的时候表为utf-8</strong></font><p><img src="https://i.loli.net/2019/02/24/5c7278e24b5ad.png" alt="3.png"></p><p>&emsp;</p><font color="#FF7F00"><strong>六、连接，结果、校验字符集设置</strong></font><blockquote><font color="#00B2EE"><strong>1.通过mysqli_set_charset(‘utf8’)来MySQL连接、结果和校验的字符集设置。<br>2.注：数据库的字符集声明和文件中的略有不同。</strong></font><font color="red"><strong>utf8为mysql数据库的，utf-8为文件中使用的。</strong></font></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;😁&lt;br&gt;
    
    </summary>
    
      <category term="PHP" scheme="Treecatee.gitgub.io/categories/PHP/"/>
    
    
      <category term="PHP语言" scheme="Treecatee.gitgub.io/tags/PHP%E8%AF%AD%E8%A8%80/"/>
    
      <category term="MySQL" scheme="Treecatee.gitgub.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL入门</title>
    <link href="Treecatee.gitgub.io/post/mysql-primer/"/>
    <id>Treecatee.gitgub.io/post/mysql-primer/</id>
    <published>2019-02-23T06:23:42.000Z</published>
    <updated>2019-03-06T16:37:52.320Z</updated>
    
    <content type="html"><![CDATA[<p>内容好多啊◑﹏◐<font color="#00B2EE">[<a href="http://www.php.cn/code/4954.html" target="_blank" rel="noopener">那看视频吧…..</a>]</font> ٩(๑❛ᴗ❛๑)۶  (๑&gt;◡&lt;๑)</p><a id="more"></a><p>&ensp;<br>&ensp;</p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>MySQL入门</strong></font></center><p>&emsp;<br>&emsp;</p><h3 id="一-MySQL介绍"><a href="#一-MySQL介绍" class="headerlink" title="一. MySQL介绍"></a><font color="#FF6347" face="Comic sans MS">一. MySQL介绍</font></h3><font color="#FF7F00"><strong>1.</strong></font>  MySQL数据库简称MySQL，是一款由瑞典MySQL AB公司开发并且应用广泛的数据管理系统，MySQL数据库因其<font color="#FF7F00">体积小、速度快、总体拥有成本低</font> 受到很多的热捧。现在,MySQL的所有者世界上最著名的数据库企业——Oracle所有。<br><br><font color="#FF7F00"><strong>2.</strong></font>  MySQL的应用，在国内的企业包括：百度、阿里、腾讯、新浪、搜狐、网易等等企业，全部都在使用MySQL数据库。<br><br><font color="#FF7F00"><strong>3.</strong></font>  MySQL是一种<font color="#FF7F00"><strong>开放源代码的关系型数据库管理系统（RDBMS）</strong></font> ，MySQL数据库系统使用最常用的数据库管理语言–结构化查询语言（SQL）进行数据库管理。<br>由于MySQL是开放源代码的，因此任何人都可以在GPL的许可下下载并根据个性化的需要对其进行修改。MySQL因为其速度、可靠性和适应性而备受关注。大多数人都认为在不需要事务化处理的情况下，MySQL是管理内容最好的选择。<br><br><font color="#FF7F00"><strong>4.</strong></font>  PHP与很多数据库结合都很紧密。由于，PHP和MySQL都是开源免费的。所以PHP一直对于MySQL等数据库都有很好的支持。<br><br><br>&emsp;<br>&emsp;<br><font color="#FF7F00"></font><blockquote><p><font color="#FF7F00"><strong>数据库的五个基本单位</strong></font></p><ol><li>数据库服务器</li><li>数据库</li><li>数据表</li><li>数据字段(列)</li><li>数据行</li></ol></blockquote><p>&emsp;</p><font color="#00B2EE"><strong>1. 数据库服务器。</strong></font>是指用来运行数据库服务的一台电脑。在中小型企业通常为一台。在数据存储量计算量很大的时候可以存在多台。多台数据库服务器共同来存储或计算。由于数据安全非常重要，我们经常会对数据库服务器里面的数据进经备份。<br><br><font color="#00B2EE"><strong>2. 数据库。</strong></font>一个数据库服务器里面有可以有多个数据库。主要用来分类使用。我们可以建立交通信息数据库、游戏数据库、酒店开房数据库… … 主要用来将各个不同用途的数据，按照业务进行大块的划分。<br><br><font color="#00B2EE"><strong>3. 数据表。</strong></font>例如在游戏数据库中。根据这一款游戏又分为了不同的数据表。专门用来区分游戏不同的数据。例如：用户数据（用户、密码）；人物数据；所有装备和装备信息；用户的充值信息；药品、魔力药水信息… …等<br><br><font color="#00B2EE"><strong>4. 数据字段，也叫数据列。</strong></font>就是我们日常所见表格里面的列。在表格中，我们会将一张用户表分成多个列。如下（表一）所示：用户编号、用户名、性别、年龄是字段。在真正的数据库中数据字段需要换成英文需要写成：id、username、sex、年龄。<br><br><font color="#00B2EE"><strong>5. 数据行。</strong></font>真正的数据存在每一个表的行里面。字段（列）划分出来了一个表应该按照什么样的格式存数据。而行，是真正的数据。每一行需要遵循数据字段（列）的规范和要求进行存入数据。<br><br>(表一)<br><font color="#FF7F00"></font><table><thead><tr><th style="text-align:center">用户编号</th><th style="text-align:center">用户名</th><th style="text-align:center">性别</th><th style="text-align:center">年龄</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">李文凯</td><td style="text-align:center">男</td><td style="text-align:center">18</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">景田</td><td style="text-align:center">女</td><td style="text-align:center">16</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">宁泽涛</td><td style="text-align:center">男</td><td style="text-align:center">22</td></tr></tbody></table><p>&emsp;<br>&emsp;</p><h3 id="二-数据库语句操作类型"><a href="#二-数据库语句操作类型" class="headerlink" title="二. 数据库语句操作类型"></a><font color="#FF6347" face="Comic sans MS">二. 数据库语句操作类型</font></h3><font color="#FF7F00"><strong>1.</strong></font> 学习数据库安装后，最重要的就是学习SQL语句。<br><br><font color="#FF7F00"><strong>2.</strong></font> SQL是操作数据库的核心，也是本章开始的一句话：MySQL对于PHP程序员来说就是将业务转化成表结构。做好业务中的<font color="#FF7F00"><strong>增、删、改、查</strong></font>。<br><br><font color="#FF7F00"><strong>3.</strong></font> 结构化查询语言(Structured Query Language)简称SQL，是一种特殊目的的编程语言，是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统；<font color="#FF7F00"><strong>同时也是数据库脚本文件的扩展名</strong></font>。<br><br>&emsp;<br><font color="#00B2EE"><strong>一. 数据库操作语句类型（DQL、DML、DDL、DCL）简介</strong></font><br><font color="#00B2EE"><strong>1. 数据查询语言DQL</strong></font><br><strong>数据查询语言DQL基本结构是由</strong><font color="#FF7F00"><strong>SELECT子句，FROM子句，WHERE子句</strong></font><strong>组成的查询块：</strong><br><font color="#FF7F00"></font><table><thead><tr><th style="text-align:center">语句</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">SELECT</td><td style="text-align:left">&lt;字段名表&gt;</td></tr><tr><td style="text-align:center">FROM</td><td style="text-align:left">&lt;表或视图名&gt;</td></tr><tr><td style="text-align:center">WHERE</td><td style="text-align:left">&lt;查询条件&gt;</td></tr></tbody></table><p>&emsp;</p><font color="#00B2EE"><strong>2 .数据操纵语言DML</strong></font><br><font color="#FF7F00"><strong>用于添加、删除、更新和查询数据库记录，并检查数据的完整性。</strong></font>数据操纵语言DML主要有三种形式：<br>1) 插入：INSERT<br>2) 更新：UPDATE<br>3) 删除：DELETE<br><br>&emsp;<br><font color="#00B2EE"><strong>3. 数据定义语言DDL</strong></font><br>数据定义语言DDL用来创建数据库中的各种对象—–表、视图、索引、同义词、聚簇等。注意：<strong>DDL操作是隐性提交的！不能rollback</strong><br>常用的语句关键字包括<br>1) CREATE：创建<br>2) DROP：删除<br>3) ALTER：修改<br><br><br><font color="#00B2EE"><strong>4. 数据控制语言DCL</strong></font><br>用于控制不同数据段直接的许可和访问级别的语句。这些语句定义了数据库、表、字段、用户的访问权限和安全级别。主要的语句关键字包括grant、revoke等。<br>数据控制语言DCL用来授予或回收访问数据库的某种特权，并控制。数据库操纵事务发生的时间及效果，对数据库实行监视等。如：<br>1) GRANT：授权<br>2）REVOLK：撤销<br><br><br>&emsp;<br>&emsp;<br><font color="#FF7F00"></font><h3 id="三-连接数据库"><a href="#三-连接数据库" class="headerlink" title="三. 连接数据库"></a><font color="#FF6347" face="Comic sans MS">三. 连接数据库</font></h3><font color="#00B2EE"><strong>方法一</strong></font><br>安装后，可以在开始菜单的列表中找到MySQL Command Line 点击操作的命令行终端操作。<br><br><font color="#00B2EE"><strong>方法二</strong></font><br>如果加入到了windows的环境变量中，可以在命令行下直接操作。<br>在命令行下，通过以下命可以连接到数据库服务器：mysql -h localhost -u root -p<br><br>参数说明：<br><font color="#FF7F00"></font><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">-h</td><td style="text-align:left">表示数据库连接地址，连接本机可不填</td></tr><tr><td style="text-align:center">-u</td><td style="text-align:left">表示要登录的用户</td></tr><tr><td style="text-align:center">-p</td><td style="text-align:left">表示使用密码登录</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注：</strong></font>通常我们不直接输入密码。而是在回车之后，输入密码。因为，密码输入时的字符是不可见的，输完密码直接回车登录。防止旁边有人把重要的密码看走。</p></blockquote><p>&emsp;<br>如果没有什么别的问题，登陆成功之后会出现下面内容：</p><pre class=" language-mysql"><code class="language-mysql">mysql -u root -p Enter password:  Welcome to the MySQL monitor.  Commands end with ; or \g. Your MySQL connection id is 7 Server version: 5.6.25 MySQL Community Server (GPL)Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners.Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.mysql>上面的中文意思翻译过来是说，欢迎使用MySQL的命令行操作工具。每一个命令结束可以输入\g 或者 ;mysql当前是第 7次连接。当前数据库的版本是5.6.25社区支持版。遵循GPL协议。版权所有：2000至 2015。归Oracle及其子机构拥有所有权。如果需要帮助的话，通过 ‘help;’ 或者 ‘\h’ 命令来显示帮助内容，通过 ‘\c’ 命令来清除命令行历史。mysql>mysql > 表示等待输入指令。</code></pre><blockquote><p><font color="#FF7F00"><strong>注：</strong></font><br>在登陆成功后有这么一句提示，可能大家不太理解：<br>Your MySQL connection id is 7<br>表示第7次连接登陆，每登陆一次这个id为加1。下一次显示的会是第8次。</p></blockquote><p>&emsp;<br>&emsp;</p><h3 id="四-数据库操作"><a href="#四-数据库操作" class="headerlink" title="四. 数据库操作"></a><font color="#FF6347" face="Comic sans MS">四. 数据库操作</font></h3><h4 id="4-1-创建数据库"><a href="#4-1-创建数据库" class="headerlink" title="4.1 创建数据库"></a><font color="#3CB371" face="Comic sans MS">4.1 创建数据库</font></h4><p>基本语法：<font color="#00B2EE"><strong>CREATE DATABASE 数据库名;</strong></font></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">CREATE DATABASE 数据库名;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">CREATE DATABASE PHP;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">创建一个数库，数据库的名字为PHP</td></tr></tbody></table><blockquote><font color="#FF7F00"><strong>注意：<br>一个MySQL语句结尾是以英语分号(;)结束的，千万不要忘记了，不然语句是错误的！</strong></font></blockquote><p>&emsp;<br>示例：</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> <span class="token constant">CREATE</span> <span class="token constant">DATABASE</span> <span class="token constant">PHP</span><span class="token punctuation">;</span> Query <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">1</span> row <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><blockquote><ol><li>“Query OK” 表示上面的命令执行成功，所有的 DDL 和 DML(不包 括 SELECT)操作执行成功后都显示“Query OK”，这里理解为执行成功就可以了；“1 row affected” 表示操作只影响了数据库中一行的记录，“0.00 sec”则记录了操作执行的时间。</li><li>如果已经存在这个数据库，系统会怎么提    示:</li></ol></blockquote><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> <span class="token constant">CREATE</span> <span class="token constant">DATABASE</span> <span class="token constant">PHP</span><span class="token punctuation">;</span> <span class="token constant">ERROR</span> <span class="token function">1007</span> <span class="token punctuation">(</span><span class="token constant">HY000</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Can<span class="token string">'t create database '</span><span class="token constant">PHP</span>'<span class="token punctuation">;</span> database exists</code></pre><p>&emsp;</p><h4 id="4-2-查看数据库"><a href="#4-2-查看数据库" class="headerlink" title="4.2 查看数据库"></a><font color="#3CB371" face="Comic sans MS">4.2 查看数据库</font></h4><p>基本语法：<font color="#00B2EE"><strong>show databases;</strong></font></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">show databases;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">显示当前服务器的所有数据库</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font><br>show 是指显示<br>database 是指数据库<br>databases 是数据库的复数形式，指全部数据库。</p></blockquote><p>&emsp;</p><h4 id="4-3-选中数据库"><a href="#4-3-选中数据库" class="headerlink" title="4.3 选中数据库"></a><font color="#3CB371" face="Comic sans MS">4.3 选中数据库</font></h4><p>基本语法：<font color="#00B2EE"><strong>use 库名;</strong></font></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">use 库名;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">use PHP</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">使用数据库PHP</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font></p><ol><li><font color="#FF7F00"><strong>在一个数据库里面处理数据的时候，必须先进入这个数据库，即先use 库名;</strong></font></li><li>use 是指使用；</li><li>库名 是存在当前数据库系统中的具体的数据库的名称；</li><li>出现 ” Database changed“ 表示切换成功。然后，看看mysql数据库里面有什么内容（和查看当前数据库服务器数据库一样使用 show 语句）</li></ol></blockquote><p>&emsp;</p><h4 id="4-4-查看数据库中的表"><a href="#4-4-查看数据库中的表" class="headerlink" title="4.4 查看数据库中的表"></a><font color="#3CB371" face="Comic sans MS">4.4 查看数据库中的表</font></h4><p>基本语法：<font color="#00B2EE"><strong>show tables;</strong></font><br>前提是先：<font color="#00B2EE"><strong>use 库名;</strong></font></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">show tables;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">显示当前数据库下所有的表</td></tr></tbody></table><p>&emsp;</p><h4 id="4-5-删除数据库"><a href="#4-5-删除数据库" class="headerlink" title="4.5 删除数据库"></a><font color="#3CB371" face="Comic sans MS">4.5 删除数据库</font></h4><p>基本语法：<font color="#00B2EE"><strong>DROP DATABASE 库名;</strong></font></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">DROP DATABASE 库名;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">DROP DATABASE  PHP;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">删除一个数库，数据库的名字为liwenkai</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font></p><ol><li>drop 是汉语可以翻译为指掉下来，不要了的意思</li><li>database 是指库</li><li>库名 是指要删掉的库的名称</li></ol></blockquote><p>示例：</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> <span class="token constant">DROP</span> <span class="token constant">DATABASE</span>  <span class="token constant">PHP</span><span class="token punctuation">;</span> Query <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">0</span> rows <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span></code></pre><blockquote><ol><li><font color="#FF7F00"><strong>【切记】注：数据库删除后，下面的所有数据都会全部删除，所以删除前一定要慎重并做好相应的备份。（若重要数据未备份，而实际中产生的数据风险很高。）</strong></font></li><li>一定要指定好要删除的数据库的名字。</li></ol></blockquote><p>&emsp;<br>&emsp;</p><h3 id="五-数据表操作"><a href="#五-数据表操作" class="headerlink" title="五. 数据表操作"></a><font color="#FF6347" face="Comic sans MS">五. 数据表操作</font></h3><h4 id="5-1-创建数据表"><a href="#5-1-创建数据表" class="headerlink" title="5.1 创建数据表"></a><font color="#3CB371" face="Comic sans MS">5.1 创建数据表</font></h4><p>基本语法：<font color="#00B2EE"><strong>CREATE TABLE 表名(字段名1 字段类型,….字段名n 字段类型n);</strong></font></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">CREATE TABLE 表名(字段名1 字段类型,….字段名n 字段类型n);</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">CREATE TABLE user(username varchar(20),password varchar(32));</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">创建一个表名叫user的表，第一个字段(列)为username、表的字段类型为varchar、长度为32个<br>长度。第二个字段为password，类型也为varchar，长度也为32个长度。</td></tr></tbody></table><p>&emsp;</p><h4 id="5-2-查看表字段-列-结构信息"><a href="#5-2-查看表字段-列-结构信息" class="headerlink" title="5.2 查看表字段(列)结构信息"></a><font color="#3CB371" face="Comic sans MS">5.2 查看表字段(列)结构信息</font></h4><p>基本语法：<font color="#00B2EE"><strong>desc 表名;</strong></font></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">desc 表名;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">desc test</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查看test表的表结构(显示出test表的每一行详细数据)</td></tr></tbody></table><p>&emsp;</p><h4 id="5-3-查看表的创建SQL语句"><a href="#5-3-查看表的创建SQL语句" class="headerlink" title="5.3 查看表的创建SQL语句"></a><font color="#3CB371" face="Comic sans MS">5.3 查看表的创建SQL语句</font></h4><font color="#FF7F00"><strong>当我们不会创建数据表，或者需要参考其他已经创建好的数据表的语法，我们可以查看那些数据表的语法。</strong></font><br>基本语法：<font color="#00B2EE"><strong>SHOW CREATE TABLE 表名 [\G];</strong></font><br>如果一行很长，需要这行显示的话，看起结果来就非常的难受。在SQL语句或者命令后使用\G，可以将每一行的值垂直输出。<br><br><font color="#FF7F00"></font><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">SHOW CREATE TABLE表名 \G;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">SHOW CREATE TABLE emp \G;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查看表emp的创建语句</td></tr></tbody></table><blockquote><font color="#FF7F00"><strong>注：</strong></font>上面表的创建 SQL 语句中，除了可以看到表定义以外，还可以看到表的 engine（存储引擎) 和 charset(字符集)等信息。<font color="#FF7F00">“\G”选项的含义是使得记录能够按照字段竖着排列，对于内 容比较长的记录更易于显示。</font></blockquote><p>&emsp;</p><h4 id="5-4-指定表引擎和字符集"><a href="#5-4-指定表引擎和字符集" class="headerlink" title="5.4 指定表引擎和字符集"></a><font color="#3CB371" face="Comic sans MS">5.4 指定表引擎和字符集</font></h4><p>数据库引擎推荐资料：<font color="#00B2EE">[<a href="https://blog.csdn.net/gentelyang/article/details/80372045" target="_blank" rel="noopener">数据库引擎学习总结</a>]</font>、<font color="#00B2EE">[<a href="https://www.cnblogs.com/zhangjinghe/p/7599988.html" target="_blank" rel="noopener">MYSQL数据库引擎区别详解</a>]</font><br>字符集推荐资料：<font color="#00B2EE">[<a href="https://www.cnblogs.com/happyday56/p/4135845.html" target="_blank" rel="noopener">各种字符集和编码详解</a>]</font>、<font color="#00B2EE">[<a href="https://baike.baidu.com/item/%E5%AD%97%E7%AC%A6%E9%9B%86/946585?fr=aladdin" target="_blank" rel="noopener">字符集百度百科</a>]</font></p><p>在创建表最后，我们常用MyISAM或者InnoDB引擎。在指定引擎时，我们可以使用：ENGINE=InnoDB<br>指定表默认字符集：DEFAULT CHARSET=utf8</p><p>&emsp;</p><font color="red" face="Comic sans MS"><strong>(1) Mysql表引擎</strong></font><br>MySQL的强大之处在于它的插件式存储引擎，我们可以基于表的特点使用不同的存储引擎，从而达到最好的性能。<br>基本语法：<font color="#00B2EE"><strong>show engines;</strong></font><br>可以查看到当前服务器支持的所有引擎。<br><font color="#FF7F00"></font><table><thead><tr><th style="text-align:center">引擎名称</th><th style="text-align:left">特别</th></tr></thead><tbody><tr><td style="text-align:center">MyISAM</td><td style="text-align:left">常用。读取效率很高的引擎</td></tr><tr><td style="text-align:center">InnoDB</td><td style="text-align:left">常用。写入，支持事处等都支持</td></tr><tr><td style="text-align:center">Archive</td><td style="text-align:left">不常用。归档引擎，压缩比高达1:10，用于数据归档</td></tr><tr><td style="text-align:center">NDB</td><td style="text-align:left">不常用。主要在MySQL 集群服务器中使用，不做介绍</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>MyISAM</strong></font></p><ol><li>不支持事务，表锁(表级锁，加锁会锁住整个表)，支持全文索引,操作速度快。常用于读取多的业务。</li><li>myisam存储引擎表由myd和myi组成。.myd用来存放数据文件，.myi用来存放索引文件。</li><li>对于myisam存储引擎表，mysql数据库只缓存其索引文件，数据文件的缓存由操作系统本身来完成。</li></ol></blockquote><blockquote><p><font color="#FF7F00"><strong>InnoDB</strong></font></p><ol><li>支持事务，主要面向在线事务处理(OLTP)方面的应用。</li><li><font color="#FF7F00"><strong>行锁设计，支持外键，即默认情况下读取操作不加锁。</strong></font></li><li>InnoDB是为处理巨大数据量时的最大性能设计。</li></ol></blockquote><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font></p><ol><li>行锁：写入、更新操作的时候将这一行锁起来，不让其他人再操作了。</li><li>表锁：写入、更新操作时，将表给锁起来不让其他人再操作了。</li><li>事务：同时操作多个数据，若其中的一个数据操作失败。可回滚到操作之前。常用于银行、电商、金融等系统中。</li></ol></blockquote><p>&emsp;</p><font color="red" face="Comic sans MS"><strong>(2) Mysql字符集</strong></font><br>1. 为了更好的识别中文、日文、英文、希腊语。对于常用的符号进行了编码，这个编码就是字符集。<br>2. 字符集确定了文字的存储方式。<br>3. 字符集相当于是计算机中人类的语言。<br><br><font color="#FF7F00"></font><table><thead><tr><th style="text-align:center">字符集</th><th style="text-align:left">说明</th><th style="text-align:left">字节长度</th></tr></thead><tbody><tr><td style="text-align:center">ASCII</td><td style="text-align:left">美国标准信息交换代码</td><td style="text-align:left">单字节</td></tr><tr><td style="text-align:center">GBK</td><td style="text-align:left">汉字内码扩展规范</td><td style="text-align:left">双字节</td></tr><tr><td style="text-align:center">unicode</td><td style="text-align:left">万国码</td><td style="text-align:left">4字节</td></tr><tr><td style="text-align:center">UTF-8</td><td style="text-align:left">Unicode的可变长度字符编码</td><td style="text-align:left">1到6个字节</td></tr></tbody></table><font color="#00B2EE"><strong>ASCII</strong></font><br>ASCII 码使用指定的7 位或8 位二进制数组合来表示128 或256 种可能的字符。标准ASCII 码也叫基础ASCII码，使用7 位二进制数来表示所有的大写和小写字母，数字0 到9、标点符号， 以及在美式英语中使用的特殊控制字符。<br>其中：<br>0～31及127(共33个)是控制字符或通信专用字符（其余为可显示字符），如控制符：LF（换行）、CR（回车）、FF（换页）、DEL（删除）、BS（退格)、BEL（响铃）等；通信专用字符：SOH（文头）、EOT（文尾）、ACK（确认）等；ASCII值为8、9、10 和13 分别转换为退格、制表、换行和回车字符。它们并没有特定的图形显示，但会依不同的应用程序，而对文本显示有不同的影响。<br>32～126(共95个)是字符(32是空格），其中48～57为0到9十个阿拉伯数字。<br>65～90为26个大写英文字母，97～122号为26个小写英文字母，其余为一些标点符号、运算符号等。<br><br><font color="#00B2EE"><strong>GBK</strong></font><br>GBK 向下与 GB 2312 编码兼容。是中华人民共和国定义的汉字计算机编码规范。早期版本为GB2312。<br><br><font color="#00B2EE"><strong>Unicode</strong></font><br>Unicode（统一码、万国码、单一码）Unicode是国际组织制定的可以容纳世界上所有文字和符号的字符编码方案。以满足跨语言、跨平台进行文本转换、处理的要求。<br><br><font color="#00B2EE"><strong>UTF-8</strong></font><br>是一种针对Unicode的可变长度字符编码，也是万国码。因为UNICODE比ASCII占用大一倍的空间，而对ASCII来说高字节的0对他毫无用处。为了解决这个问题，就出现了一些中间格式的字符集，他们被称为通用转换格式，即UTF（Universal Transformation Format）<br><br>&emsp;<br><font color="red" face="Comic sans MS"><strong>(3) 实际工作中要使用的编码</strong></font><br><font color="#FF7F00"><strong>在中文中常用的字符集分为utf-8和GBK。</strong></font><br>实际使用的如下：<br><font color="#FF7F00"></font><table><thead><tr><th style="text-align:center">字符集</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">gbk_chinese_ci</td><td style="text-align:left">简体中文, 不区分大小写</td></tr><tr><td style="text-align:center">utf8_general_ci</td><td style="text-align:left">Unicode (多语言), 不区分大小写</td></tr></tbody></table><blockquote><font color="#FF7F00"><strong>MySQL字符集由三个部份组成：</strong></font><br>1. 字符集<br>2. 语言<br>3. 类型<br><font color="#FF7F00"><strong>注意：</strong></font><br>1. 最后的bin是指二进制字符集，后面的ci是指存储排序时不区分字符的大小写。<br>2. <font color="#FF7F00"><strong>mysql在写utf-8的时候写的是utf8。不加中间的中横线。</strong></font></blockquote><p>&emsp;<br>&emsp;</p><h3 id="六-数据字段-列-操作"><a href="#六-数据字段-列-操作" class="headerlink" title="六. 数据字段(列)操作"></a><font color="#FF6347" face="Comic sans MS">六. 数据字段(列)操作</font></h3><h4 id="6-1-修改表字段类型-modify"><a href="#6-1-修改表字段类型-modify" class="headerlink" title="6.1 修改表字段类型 modify"></a><font color="#3CB371" face="Comic sans MS">6.1 修改表字段类型 modify</font></h4><p>基本语法：<font color="#00B2EE"><strong>alter table 表名 modify 字段名 varchar(20);</strong></font><br>关键字：<strong>alter、modify</strong></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">alter table 表名 modify 字段名 varchar(20);</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">alter table user modify username varchar(20);</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">将user表的username的类型改为varchar(20)</td></tr></tbody></table><p>&emsp;</p><h4 id="6-2-增加表字段"><a href="#6-2-增加表字段" class="headerlink" title="6.2 增加表字段"></a><font color="#3CB371" face="Comic sans MS">6.2 增加表字段</font></h4><p>基本语法：<font color="#00B2EE"><strong>alter table 表名 add column 字段名 类型;</strong></font><br>关键字：<strong>alter、add column</strong></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">alter table 表名 add column 字段名 类型;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">alter table user add column age int(3);</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">添加一个字段为age，类型为整型长度为3</td></tr></tbody></table><p>&emsp;</p><h4 id="6-3-增加字段时控制字段顺序"><a href="#6-3-增加字段时控制字段顺序" class="headerlink" title="6.3 增加字段时控制字段顺序"></a><font color="#3CB371" face="Comic sans MS">6.3 增加字段时控制字段顺序</font></h4><p>基本语法：<font color="#00B2EE"><strong>alter table 表名 add 字段名 字段类型 after 字段名;</strong></font><br>关键字：<strong>alter、add、after</strong></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">ALTER TABLE 表名 ADD 字段名 字段类型 AFTER 字段名;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">ALTER TABLE user ADD email VARCHAR(60) AFTER createip;<br>ALTER TABLE user ADD id INT(10) FIRST;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">user表中，在createip后增加一个字段为email，类型为varchar，长度为60<br>ser表中在最开始的位置增加一个字段为id,类型为int，长度为10</td></tr></tbody></table><p>&emsp;</p><h4 id="6-4-删除表字段"><a href="#6-4-删除表字段" class="headerlink" title="6.4 删除表字段"></a><font color="#3CB371" face="Comic sans MS">6.4 删除表字段</font></h4><p>基本语法：<font color="#00B2EE"><strong>alter table 表名 drop column 字段名;</strong></font><br>关键字：<strong>alter、drop column</strong></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">alter table 表名 drop column 字段名;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">alter table user drop column age;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">在user表中删除字段age</td></tr></tbody></table><p>&emsp;</p><h4 id="6-5-表字段改名"><a href="#6-5-表字段改名" class="headerlink" title="6.5 表字段改名"></a><font color="#3CB371" face="Comic sans MS">6.5 表字段改名</font></h4><p>基本语法：<font color="#00B2EE"><strong>alter table 表名 change 字段原名 字段新名 字段类型;</strong></font><br>关键字：<strong>alter、change</strong></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">alter table 表名 change 字段原名 字段新名 字段类型;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">alter table user change email em varchar(60);</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">在user表中将字段中的email字段名字为em</td></tr></tbody></table><p>&emsp;</p><h4 id="6-6-修改表字段排列顺序"><a href="#6-6-修改表字段排列顺序" class="headerlink" title="6.6 修改表字段排列顺序"></a><font color="#3CB371" face="Comic sans MS">6.6 修改表字段排列顺序</font></h4><p>在前的字段增加和修改语句<font color="#00B2EE"><strong>（add/change/modify）</strong></font>中，最后都可以加一个可选项 <font color="#00B2EE"><strong>first|after</strong></font>。<br>增加表字段时我们已经学过了如何调整顺序。我们现在在来看看另外的change或modify如何来调整顺序。</p><p>我们用first做个小实验。<br>使用modify调整顺序</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> alter table user modify em <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> first<span class="token punctuation">;</span> Query <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">0</span> rows <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.41</span> sec<span class="token punctuation">)</span> Records<span class="token punctuation">:</span> <span class="token number">0</span>  Duplicates<span class="token punctuation">:</span> <span class="token number">0</span>  Warnings<span class="token punctuation">:</span> <span class="token number">0</span>输出结果<span class="token punctuation">:</span>mysql<span class="token operator">></span> desc user<span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> Field    <span class="token operator">|</span> Type          <span class="token operator">|</span> <span class="token keyword">Null</span> <span class="token operator">|</span> Key <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> em         <span class="token operator">|</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>   <span class="token operator">|</span> <span class="token constant">YES</span>  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">NULL</span>    <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token operator">|</span> username   <span class="token operator">|</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>   <span class="token operator">|</span> <span class="token constant">YES</span>  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">NULL</span>    <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token operator">|</span> password   <span class="token operator">|</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>   <span class="token operator">|</span> <span class="token constant">YES</span>  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">NULL</span>    <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token operator">|</span> createtime <span class="token operator">|</span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>       <span class="token operator">|</span> <span class="token constant">YES</span>  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">NULL</span>    <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token operator">|</span> createip   <span class="token operator">|</span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>       <span class="token operator">|</span> <span class="token constant">YES</span>  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">NULL</span>    <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">5</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="6-7-修改表名"><a href="#6-7-修改表名" class="headerlink" title="6.7 修改表名"></a><font color="#3CB371" face="Comic sans MS">6.7 修改表名</font></h4><p>基本语法：<font color="#00B2EE"><strong>alter table 旧表名 rename 新的表名;</strong></font><br>关键字：<strong>alter、rename</strong></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">alter table 旧表名 rename 新的表名;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">alter table user rename new_user;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">将user表名改为new_user</td></tr></tbody></table><p>&emsp;<br>&emsp;</p><h3 id="七-数据类型"><a href="#七-数据类型" class="headerlink" title="七. 数据类型"></a><font color="#FF6347" face="Comic sans MS">七. 数据类型</font></h3><p>MySQL中存的是数据。<font color="#FF7F00"><strong>只要是数据，我们就会规定数据的类型。</strong></font>在表的字段中规定了使用的是某个数据类型。那么，在插入的数据中就要使用对应的数据类型。并且，遵守数据类型的长度要求。</p><p>&emsp;</p><blockquote><p><font color="#00B2EE"><strong>在MySQL里面我们将数据类型分为了以下一些类型：</strong></font></p><ol><li><strong>数值类型（整型、浮点）</strong></li><li><strong>字符串类型</strong></li><li><strong>日期时间类型</strong></li><li><strong>复合类型</strong></li><li><strong>空间类型（非科学性工作基本不用，不做讲解）</strong></li></ol></blockquote><p>&emsp;</p><font color="red"><strong>1. 整型</strong></font><table><thead><tr><th style="text-align:center">数据类型</th><th style="text-align:left">所占字节</th><th style="text-align:left">值范围</th></tr></thead><tbody><tr><td style="text-align:center">tinyint</td><td style="text-align:left">1字节</td><td style="text-align:left">-128~127</td></tr><tr><td style="text-align:center">smallint</td><td style="text-align:left">2字节</td><td style="text-align:left">-32768~32767</td></tr><tr><td style="text-align:center">mediumin</td><td style="text-align:left">3字节</td><td style="text-align:left">-8388608~8388607</td></tr><tr><td style="text-align:center">int</td><td style="text-align:left">4字节</td><td style="text-align:left">-2147483648~2147483647</td></tr><tr><td style="text-align:center">bigint</td><td style="text-align:left">8字节</td><td style="text-align:left">+-9.22*10的18次方</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font></p><ol><li>MySQL 以一个可选的显示宽度指示器的形式对 SQL 标准进行扩展，这样当从数据库检索一个值时，可以把这个值加长到指定的长度。例如，指定一个字段的类型为 INT(6)，就可以保证所包含数字<font color="#FF7F00"><strong>少于 6 个的值从数据库中检索出来时能够自动地用空格填充</strong></font>。需要注意的是，使用一个宽度指示器不会影响字段的大小和它可以存储的值的范围。</li><li>在创建表字段时，性别我们可以使用无符号的微小整型（tinyint）来表示。<font color="#FF7F00"><strong>用0表示女、用1表示男。用2表示未知</strong></font>。</li><li>同样人类年龄也是，在创建表字段时可用用无符号的整型。因为人类的年龄还没有负数</li><li>在实际使用过程中。我们业务中最大需要存储多大的数值。我们创建表时，就选择什么样的类型来存储这样的值。</li></ol></blockquote><p>&emsp;</p><font color="red"><strong>2. 浮点类型</strong></font><table><thead><tr><th style="text-align:center">数据类型</th><th style="text-align:left">所占字节</th><th style="text-align:left">值范围</th></tr></thead><tbody><tr><td style="text-align:center">float(m, d)</td><td style="text-align:left">4字节</td><td style="text-align:left">单精度浮点型，m总个数，d小数位</td></tr><tr><td style="text-align:center">double(m, d)</td><td style="text-align:left">8字节</td><td style="text-align:left">双精度浮点型，m总个数，d小数位</td></tr><tr><td style="text-align:center">decimal(m, d)</td><td style="text-align:left"></td><td style="text-align:left">decimal是存储为字符串的浮点数</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font></p><ol><li>浮点是非精确值，会存在不太准确的情况</li><li>而decimal叫做定点数。在MySQL内部，本质上是用字符串存储的。实际使用过程中如果存在金额、钱精度要求比较高的浮点数存储，建议使用decimal（定点数）这个类型。</li></ol></blockquote><p>&emsp;</p><font color="red"><strong>3. 字符类型</strong></font><table><thead><tr><th style="text-align:center">数据类型</th><th style="text-align:left">所占字节</th><th style="text-align:left">值范围</th></tr></thead><tbody><tr><td style="text-align:center">CHAR</td><td style="text-align:left">0-255字节</td><td style="text-align:left">定长字符串</td></tr><tr><td style="text-align:center">VARCHAR</td><td style="text-align:left">0-255字节</td><td style="text-align:left">变长字符串</td></tr><tr><td style="text-align:center">TINYBLOB</td><td style="text-align:left">0-255字节</td><td style="text-align:left">不超过255个字符的二进制字符串</td></tr><tr><td style="text-align:center">TINYTEXT</td><td style="text-align:left">0-255字节</td><td style="text-align:left">短文本字符串</td></tr><tr><td style="text-align:center">BLOB</td><td style="text-align:left">0-65535字节</td><td style="text-align:left">二进制形式的长文本数据</td></tr><tr><td style="text-align:center">TEXT</td><td style="text-align:left">0-65535字节</td><td style="text-align:left">长文本数据</td></tr><tr><td style="text-align:center">MEDIUMBLOB</td><td style="text-align:left">0-16 777 215字节</td><td style="text-align:left">二进制形式的中等长度文本数据</td></tr><tr><td style="text-align:center">MEDIUMTEXT</td><td style="text-align:left">0-16 777 215字节</td><td style="text-align:left">中等长度文本数据</td></tr><tr><td style="text-align:center">LOGNGBLOB</td><td style="text-align:left">0-4 294 967 295字节</td><td style="text-align:left">二进制形式的极大文本数据</td></tr><tr><td style="text-align:center">LONGTEXT</td><td style="text-align:left">0-4 294 967 295字节</td><td style="text-align:left">极大文本数据</td></tr><tr><td style="text-align:center">VARBINARY(M)</td><td style="text-align:left">允许长度0-M个字节的定长字节符串</td><td style="text-align:left">值的长度+1个字节</td></tr><tr><td style="text-align:center">BINARY(M)</td><td style="text-align:left">M</td><td style="text-align:left">允许长度0-M个字节的定长字节符串</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font></p><ol><li>CHAR 类型用于定长字符串，并且必须在圆括号内用一个大小修饰符来定义。这个大小修饰符的范围从0-255。比指定长度大的值将被截短，而比指定长度小的值将会用空格作填补。</li><li>VARCHAR  把这个大小视为值的大小，不长度不足的情况下就用空格补足。而 VARCHAR 类型把它视为最大值并且只使用存储字符串实际需要的长度<br>类型不会被空格填补，但长于指示器的值仍然会被截短。<br>因为VARCHAR类型可以根据实际内容动态改变存储值的长度，所以在不能确定字段需要多少字符时使用 VARCHAR 类型可以大大地节约磁盘空间、提高存储效率。</li><li>text类型与blob类型对于字段长度要求超过 255 个的情况下，MySQL 提供了 TEXT 和 BLOB 两种类型。根据存储数据的大小，它们都有不同的子类型。这些大型的数据用于存储文本块或图像、声音文件等二进制数据类型。</li><li>TEXT 和 BLOB 类型在分类和比较上存在区别。BLOB 类型区分大小写，而 TEXT 不区分大小写。大小修饰符不用于各种 BLOB 和 TEXT 子类型。</li></ol></blockquote><p>&emsp;</p><font color="red"><strong>4. 时间类型</strong></font><table><thead><tr><th style="text-align:center">数据类型</th><th style="text-align:left">所占字节</th><th style="text-align:left">值范围</th></tr></thead><tbody><tr><td style="text-align:center">date</td><td style="text-align:left">3字节</td><td style="text-align:left">日期，格式：2014-09-18</td></tr><tr><td style="text-align:center">time</td><td style="text-align:left">3字节</td><td style="text-align:left">时间，格式：08:42:30</td></tr><tr><td style="text-align:center">datetime</td><td style="text-align:left">8字节</td><td style="text-align:left">日期时间，格式：2014-09-18 08:42:30</td></tr><tr><td style="text-align:center">timestamp</td><td style="text-align:left">4字节</td><td style="text-align:left">自动存储记录修改的时间</td></tr><tr><td style="text-align:center">year</td><td style="text-align:left">1字节</td><td style="text-align:left">年份</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font></p><ol><li>时间类型在web系统中用的比较少，很多时候很多人喜欢使用int来存储时间。插入时插入的是unix时间戳，因为这种方式更方便计算。在前端业务中用date类型的函数，再将unix时间戳转成人们可识别的时间。</li><li>有些人为了在数据库管理中方便查看，也有人使用datetime类型来存储时间。</li></ol></blockquote><p>&emsp;</p><font color="red"><strong>5. 复合类型</strong></font><table><thead><tr><th style="text-align:center">数据类型</th><th style="text-align:left">说明</th><th style="text-align:left">举例</th></tr></thead><tbody><tr><td style="text-align:center">set</td><td style="text-align:left">集合类型</td><td style="text-align:left">set(“member”, “member2″, … “member64″)</td></tr><tr><td style="text-align:center">enum</td><td style="text-align:left">枚举类型</td><td style="text-align:left">enum(“member1″, “member2″, … “member65535″)</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font><br><strong>一个 ENUM 类型只允许从一个集合中取得一个值；而 SET 类型允许从一个集合中取得任意多个值。</strong></p></blockquote><p>&emsp;</p><font color="#00B2EE"><strong>ENUM 类型</strong></font><br>1. ENUM 类型因为只允许在集合中取得一个值，有点类似于单选项。在处理相互排拆的数据时容易让人理解，比如人类的性别。ENUM 类型字段可以从集合中取得一个值或使用null值，除此之外的输入将会使 MySQL 在这个字段中插入一个空字符串。另外如果插入值的大小写与集合中值的大小写不匹配，MySQL会自动使用插入值的大小写转换成与集合中大小写一致的值。<br>2. ENUM 类型在系统内部可以存储为数字，并且从1开始用数字做索引。一个 ENUM 类型最多可以包含 65536 个元素，其中一个元素被 MySQL 保留，用来存储错误信息，这个错误值用索引 0 或者一个空字符串表示。<br>3. MySQL 认为 ENUM 类型集合中出现的值是合法输入，除此之外其它任何输入都将失败。这说明通过搜索包含空字符串或对应数字索引为 0 的行就可以很容易地找到错误记录的位置。<br><br><br><font color="#00B2EE"><strong>SET 类型</strong></font><br>1. SET 类型SET 类型与 ENUM 类型相似但不相同。SET类型可以从预定义的集合中取得任意数量的值。并且与 ENUM 类型相同的是任何试图在 SET 类型字段中插入非预定义的值都会使MySQL插入一个空字符串。如果插入一个即有合法的元素又有非法的元素的记录，MySQL 将会保留合法的元素，除去非法的元素。<br>2. 一个 SET 类型最多可以包含 64 项元素。在 SET 元素中值被存储为一个分离的“位”序列，这些“位”表示与它相对应的元素。“位”是创建有序元素集合的一种简单而有效的方式。<br>并且它还去除了重复的元素，所以SET类型中不可能包含两个相同的元素。<br>希望从 SET 类型字段中找出非法的记录只需查找包含空字符串或二进制值为 0 的行。<br><br><br>&emsp;<br><font color="red"><strong>6. 类型使用</strong></font><br>我们学习了这么多类型，在创建表的语句的时候使用对应的类型即可。<br><br>举例如下：<br><font color="red"></font><pre class=" language-php"><code class="language-php"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token keyword">IF</span> <span class="token constant">NOT</span> <span class="token constant">EXISTS</span> <span class="token function">demo</span> <span class="token punctuation">(</span>   id <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   username <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   password <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   content longtext <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   createtime datetime <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   sex <span class="token function">tinyint</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>InnoDB <span class="token keyword">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span></code></pre><p>&emsp;</p><font color="red"><strong>7. 字段(列)其他属性设置</strong></font><br><font color="#00B2EE"><strong>(1) UNSIGNED（无符号）</strong></font><br>主要用于整型和浮点类型，使用无符号。即，没有前面面的-（负号）。<br>存储位数更长。tinyint整型的取值区间为，-128-127。而使用无符号后可存储0-255个长度。<br>创建时在整型或浮点字段语句后接上：<br>unsigned<br><br><font color="#00B2EE"><strong>(2) ZEROFILL（0填充）</strong></font><br>0（不是空格）可以用来真补输出的值。使用这个修饰符可以阻止 MySQL 数据库存储负值。<br>创建时在整型或浮点字段语句后接上：zerofill<br><br><font color="#00B2EE"><strong>(3) default</strong></font><br>default属性确保在没有任何值可用的情况下，赋予某个常量值，这个值必须是常量，因为MySQL不允许插入函数或表达式值。此外，此属性无法用于BLOB或TEXT列。如果已经为此列指定了NULL属性，没有指定默认值时默认值将为NULL，否则默认值将依赖于字段的数据类型。<br>创建时在整型或浮点字段语句后接上：default ‘值’<br><br><font color="#00B2EE"><strong>(4) not null</strong></font><br>如果将一个列定义为not null，将不允许向该列插入null值。建议在重要情况下始终使用not null属性，因为它提供了一个基本验证，确保已经向查询传递了所有必要的值。<br><font color="#FF7F00"><strong>创建时在整型或浮点字段语句后接上：not null</strong></font><font color="#00B2EE"><strong>(5) null</strong></font><br>为列指定null属性时，该列可以保持为空，而不论行中其它列是否已经被填充。记住，null精确的说法是“无”，而不是空字符串或0。<br>创建时在整型或浮点字段语句后不要声明not null即可。<br><br><br>&emsp;<br>&emsp;<br><font color="red"></font><h3 id="八-索引"><a href="#八-索引" class="headerlink" title="八. 索引"></a><font color="#FF6347" face="Comic sans MS">八. 索引</font></h3><p>索引看着挺高大上的一个名字，说白了就是我们书最新面的目录。 (ง •_•)ง<br>索引用于快速找出在某个列中有一特定值的行。<br>不使用索引，MySQL必须从第1条记录开始然后读完整个表直到找出相关的行。表越大，花费的时间越多。如果表中查询的列有一个索引，MySQL能快速到达一个位置去搜寻到数据文件的中间，没有必要看所有数据。<br>当然索引也不易过多，索引越多写入，修改的速度越慢。因为，写入修改数据时，也要修改索引。</p><font color="red"></font><table><thead><tr><th style="text-align:center">索引类型</th><th style="text-align:left">功能说明</th></tr></thead><tbody><tr><td style="text-align:center">普通索引</td><td style="text-align:left">最基本的索引，它没有任何限制</td></tr><tr><td style="text-align:center">唯一索引</td><td style="text-align:left">某一行企用了唯一索引则不准许这一列的行数据中有重复的值。针对这一列的每一行数据都要求<br>是唯一的</td></tr><tr><td style="text-align:center">主键索引</td><td style="text-align:left">它是一种特殊的唯一索引，不允许有空值。一般是在建表的时候同时创建主键索引，常用于用户<br>ID。类似于书中的页码</td></tr><tr><td style="text-align:center">全文索引</td><td style="text-align:left">对于需要全局搜索的数据，进行全文索引</td></tr></tbody></table><p>&emsp;</p><font color="red"><strong>1. 普通索引</strong></font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">详细说明</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">alter table 表  add index(字段)</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">ALTER TABLE money ADD INDEX(username);</td></tr><tr><td style="text-align:center">示例解释</td><td style="text-align:left">为money表的username字段增加索引</td></tr></tbody></table><p>&emsp;</p><font color="red"><strong>2. 唯一索引</strong></font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">详细说明</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">alter table 表  add UNIQUE(字段)</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">ALTER TABLE money ADD UNIQUE(email);</td></tr><tr><td style="text-align:center">示例解释</td><td style="text-align:left">为money表的email字段增加唯一索引</td></tr></tbody></table><p>&emsp;</p><font color="red"><strong>3. 全文索引</strong></font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">详细说明</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">alter table 表  add FULLTEXT(字段)</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">ALTER TABLE money ADD FULLTEXT(content);</td></tr><tr><td style="text-align:center">示例解释</td><td style="text-align:left">为money表的content字段增加唯一索引</td></tr></tbody></table><p>&emsp;</p><font color="red"><strong>4. 主键索引</strong></font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">详细说明</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">alter table 表  add PRIMARY KEY(字段)</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">ALTER TABLE money ADD PRIMARY KEY(id);</td></tr><tr><td style="text-align:center">示例解释</td><td style="text-align:left">为money表的id字段增加主键索引</td></tr></tbody></table><p>&emsp;</p><font color="#00B2EE"><strong>5. 创建表时也可以声明索引</strong></font><br>创建表时可在创建表语句后加上对应的类型即可声明索引：<br><br><font color="red"></font><pre class=" language-php"><code class="language-php"><span class="token constant">PRIMARY</span> <span class="token function">KEY</span><span class="token punctuation">(</span>字段<span class="token punctuation">)</span>  <span class="token constant">INDEX</span> <span class="token punctuation">[</span>索引名<span class="token punctuation">]</span> <span class="token punctuation">(</span>字段<span class="token punctuation">)</span> <span class="token constant">FULLTEXT</span> <span class="token punctuation">[</span>索引名<span class="token punctuation">]</span> <span class="token punctuation">(</span>字段<span class="token punctuation">)</span> <span class="token constant">UNIQUE</span><span class="token punctuation">[</span>索引名<span class="token punctuation">]</span> <span class="token punctuation">(</span>字段<span class="token punctuation">)</span></code></pre><p><strong>注：中括号中的索引名，代表可选。</strong></p><p>&emsp;<br>整体示例如下：</p><font color="red"></font><pre class=" language-php"><code class="language-php"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token function">test</span> <span class="token punctuation">(</span>     id <span class="token constant">INT</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">,</span>      username <span class="token function">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">,</span>      password <span class="token constant">INT</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">,</span>      content <span class="token constant">INT</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">,</span>      <span class="token constant">PRIMARY</span> <span class="token function">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token constant">INDEX</span> <span class="token function">pw</span> <span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token function">UNIQUE</span> <span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token function">FULLTEXT</span> <span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token constant">ENGINE</span> <span class="token operator">=</span> InnoDB<span class="token punctuation">;</span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="九-多表联合查询"><a href="#九-多表联合查询" class="headerlink" title="九. 多表联合查询"></a><font color="#FF6347" face="Comic sans MS">九. 多表联合查询</font></h3><font face="Comic sans MS">很多时候在实际的业务中我们不只是查询一张表、在电子商务系统中，查询哪些用户没有购买过产品、银行中可能查询违规记录，同时查询出用户的查询中奖信息和中奖人员的基本信息、以上只是列的情况我们就需要把两张表在一起进行查询。<br>而上述业务中需要多表联合在一起查询才能有结果，而多表联合查询的本质是：<font color="#FF7F00"><strong>表连接</strong></font>。<br></font><p>&emsp;</p><h4 id="9-1-表连接"><a href="#9-1-表连接" class="headerlink" title="9.1 表连接"></a><font color="#3CB371" face="Comic sans MS">9.1 表连接</font></h4><p>当需要查询多个表中的字段时，就可以使用表连接来实现。表联接分为<font color="#FF7F00"><strong>内连接</strong></font>和<font color="#FF7F00"><strong>外连接</strong></font>。</p><font color="#00B2EE"><strong>内联结：</strong></font>将两个表中存在联结关系的字段符合联结关系的那些记录形成记录集的联结。<br><font color="#00B2EE"><strong>外连接：</strong></font>会选出其他不匹配的记录，分为外左联结和外右联结。<br><br>&emsp;<br>在学习实验前，我为大家准备了两个模拟的数据表：<br>用户表，存放用户信息<br>订单表，存放哪个用户购买过哪个商品<br>user表创建语句:<br><font color="#00B2EE"></font><pre class=" language-php"><code class="language-php"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token keyword">IF</span> <span class="token constant">NOT</span> <span class="token constant">EXISTS</span> <span class="token function">user</span> <span class="token punctuation">(</span>   uid <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   username <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   password <span class="token function">char</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>InnoDB <span class="token keyword">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token keyword">IF</span> <span class="token constant">NOT</span> <span class="token constant">EXISTS</span> <span class="token function">order_goods</span> <span class="token punctuation">(</span>   oid <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   uid <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   name <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>   buytime <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>InnoDB <span class="token keyword">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span></code></pre><p>&emsp;<br>user表数据如下：</p><pre class=" language-php"><code class="language-php">uid    username    password<span class="token number">1</span>    景甜    <span class="token number">123456</span><span class="token number">2</span>    王小二    <span class="token number">245667</span><span class="token number">3</span>    王宝强    <span class="token number">1235531</span><span class="token number">4</span>    井柏然    <span class="token number">123455</span><span class="token number">5</span>    范冰冰    5abcwa<span class="token number">6</span>    黄晓明    abcdeef<span class="token number">7</span>    anglebaby    caption<span class="token number">8</span>    <span class="token constant">TFBOYS</span>    abcdwww<span class="token number">9</span>    安小超    12tfddwd<span class="token number">10</span>    高小峰    3124qwqw<span class="token number">11</span>    李小强    323fxfvdvd<span class="token number">12</span>    李小超    311aqqee<span class="token number">13</span>    韩小平    121rcfwrfq<span class="token number">14</span>    宋小康    123123tcsd<span class="token number">15</span>    佟小刚    3cxvdfs</code></pre><p>order_goods数据如下：</p><pre class=" language-php"><code class="language-php">oid    uid    name    buytime<span class="token number">1</span>    <span class="token number">10</span>    苹果鼠标    <span class="token number">1212313</span><span class="token number">2</span>    <span class="token number">3</span>    iphone 12s    <span class="token number">123121241</span><span class="token number">3</span>    <span class="token number">12</span>    雪碧       <span class="token number">13232333</span><span class="token number">4</span>    <span class="token number">15</span>    <span class="token number">34242123</span><span class="token number">5</span>    <span class="token number">3</span>    iphone 键盘    <span class="token number">12123413</span></code></pre><blockquote><p><strong>注意：</strong>在上表order_goods表中uid是指user表中的uid字段。上表中oid为1的数据行，uid为10的用户。为user表中uid为10的用户：高小峰。该用户购买了商品为苹果鼠标。购买时间buytime为一个unix时间戳。</p></blockquote><p>&emsp;</p><h4 id="9-2-内连接"><a href="#9-2-内连接" class="headerlink" title="9.2 内连接"></a><font color="#3CB371" face="Comic sans MS">9.2 内连接</font></h4><p>基本语法一：</p><font color="#00B2EE"></font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">详细说明</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 表1.字段 [as 别名],表n.字段  from 表1 [别名],表n where 条件;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select user.uid ,user.username as username,order_goods.oid,order_goods.uid,<br>order_goods.name as shopname from user,order_goods  where user.uid = order_goods.uid;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询商品表中哪些用户购买过商品，并将用户信息显示出来</td></tr></tbody></table><blockquote><font color="#FF7F00"><strong>注：下例中from 表使用到了表别名。</strong><br><strong>由于表名太长，每次写的时候容易写错。我们可以在表后直接跟上一个简写英文字符串。在前面拼接字段时，直接使用简写字符串.字段即可。</strong></font></blockquote><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select u<span class="token punctuation">.</span>uid <span class="token punctuation">,</span>u<span class="token punctuation">.</span>username <span class="token keyword">as</span> username<span class="token punctuation">,</span>o<span class="token punctuation">.</span>oid<span class="token punctuation">,</span>o<span class="token punctuation">.</span>uid<span class="token punctuation">,</span>o<span class="token punctuation">.</span>name <span class="token keyword">as</span> shopname from user u<span class="token punctuation">,</span>order_goods o  where u<span class="token punctuation">.</span>uid <span class="token operator">=</span> o<span class="token punctuation">.</span>uid<span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> uid <span class="token operator">|</span> username  <span class="token operator">|</span> oid <span class="token operator">|</span> uid <span class="token operator">|</span> shopname      <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span> 高小峰    <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span> 苹果鼠标      <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> iphone 12s    <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">12</span> <span class="token operator">|</span> 李小超    <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">12</span> <span class="token operator">|</span> 雪碧          <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">15</span> <span class="token operator">|</span> 佟小刚    <span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">15</span> <span class="token operator">|</span>               <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> 李文凯    <span class="token operator">|</span>   <span class="token number">5</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> iphone 键盘   <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">5</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;<br>基本语法二：</p><font color="#00B2EE"></font><table><thead><tr><th style="text-align:center">类型</th><th style="text-align:left">详细说明</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 表1.字段 [as 别名],表n.字段  from 表1 INNER JOIN 表n on  条件;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select user.uid ,user.username as username,order_goods.oid,order_goods.uid,<br>order_goods.name as shopname from user inner join order_goods  on  user.uid = <br>order_goods.uid;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询商品表中哪些用户购买过商品，并将用户信息显示出来</td></tr></tbody></table><p>&emsp;<br>结果与基本语法1中一致。</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select user<span class="token punctuation">.</span>uid <span class="token punctuation">,</span>user<span class="token punctuation">.</span>username <span class="token keyword">as</span> username<span class="token punctuation">,</span>order_goods<span class="token punctuation">.</span>oid<span class="token punctuation">,</span>order_goods<span class="token punctuation">.</span>uid<span class="token punctuation">,</span>order_goods<span class="token punctuation">.</span>name <span class="token keyword">as</span> shopname from user inner join order_goods  on  user<span class="token punctuation">.</span>uid <span class="token operator">=</span> order_goods<span class="token punctuation">.</span>uid<span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> uid <span class="token operator">|</span> username  <span class="token operator">|</span> oid <span class="token operator">|</span> uid <span class="token operator">|</span> shopname      <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span> 高小峰    <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span> 苹果鼠标      <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> iphone 12s    <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">12</span> <span class="token operator">|</span> 李小超    <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">12</span> <span class="token operator">|</span> 雪碧          <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">15</span> <span class="token operator">|</span> 佟小刚    <span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">15</span> <span class="token operator">|</span>               <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>   <span class="token number">5</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> iphone 键盘   <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">5</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="9-3-外连接"><a href="#9-3-外连接" class="headerlink" title="9.3 外连接"></a><font color="#3CB371" face="Comic sans MS">9.3 外连接</font></h4><font color="#00B2EE" face="Comic sans MS"><strong>外连接：左连接、右连接</strong>。</font><br>关键字：<font color="#FF7F00"><strong>left join、on、right join</strong></font><table><thead><tr><th style="text-align:center">说明</th><th style="text-align:left">详解</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 表1.字段 [as 别名],表n.字段  from 表1 LEFT JOIN 表n on  条件;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select *  from user left join order_goods  on  user.uid = order_goods.uid;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">以左边为主，查询哪些用户未购买过商品，并将用户信息显示出来</td></tr></tbody></table><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>左连接：</strong>包含所有的左边表中的记录甚至是右边表中没有和它匹配的记录。</font><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token operator">*</span>  from user left join order_goods  on  user<span class="token punctuation">.</span>uid <span class="token operator">=</span> order_goods<span class="token punctuation">.</span>uid<span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> uid <span class="token operator">|</span> username  <span class="token operator">|</span> password   <span class="token operator">|</span> oid  <span class="token operator">|</span> uid  <span class="token operator">|</span> name          <span class="token operator">|</span> buytime   <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span> 高小峰    <span class="token operator">|</span> 3124qwqw   <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span> 苹果鼠标      <span class="token operator">|</span>   <span class="token number">1212313</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span> <span class="token number">1235531</span>    <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> iphone 12s    <span class="token operator">|</span> <span class="token number">123121241</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">12</span> <span class="token operator">|</span> 李小超    <span class="token operator">|</span> 311aqqee   <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> 雪碧          <span class="token operator">|</span>  <span class="token number">13232333</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">15</span> <span class="token operator">|</span> 佟小刚    <span class="token operator">|</span> 3cxvdfs    <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span>   <span class="token number">15</span> <span class="token operator">|</span>               <span class="token operator">|</span>  <span class="token number">34242123</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span> <span class="token number">1235531</span>    <span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> iphone 键盘   <span class="token operator">|</span>  <span class="token number">12123413</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> 景甜      <span class="token operator">|</span> <span class="token number">123456</span>     <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> 王小二    <span class="token operator">|</span> <span class="token number">245667</span>     <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span> <span class="token number">123455</span>     <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">5</span> <span class="token operator">|</span> 范冰冰    <span class="token operator">|</span> 5abcwa     <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">6</span> <span class="token operator">|</span> 黄晓明    <span class="token operator">|</span> abcdeef    <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">7</span> <span class="token operator">|</span> anglebaby <span class="token operator">|</span> caption    <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">8</span> <span class="token operator">|</span> <span class="token constant">TFBOYS</span>    <span class="token operator">|</span> abcdwww    <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">9</span> <span class="token operator">|</span> 安小超    <span class="token operator">|</span> 12tfddwd   <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">11</span> <span class="token operator">|</span> 李小强    <span class="token operator">|</span> 323fxfvdvd <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">13</span> <span class="token operator">|</span> 韩小平    <span class="token operator">|</span> 121rcfwrfq <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">14</span> <span class="token operator">|</span> 宋小康    <span class="token operator">|</span> 123123tcsd <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>          <span class="token operator">|</span>      <span class="token keyword">NULL</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token number">16</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><font color="#00B2EE" face="Comic sans MS"><strong>右连接：</strong>包含所有的右边表中的记录甚至是右边表中没有和它匹配的记录。</font><table><thead><tr><th style="text-align:center">说明</th><th style="text-align:left">详解</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 表1.字段 [as 别名],表n.字段  from 表1 right JOIN 表n on  条件;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select *  from user right join order_goods  on  user.uid = order_goods.uid;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询商品表中哪些用户购买过商品，并将用户信息显示出来</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token operator">*</span>  from user right join order_goods  on  user<span class="token punctuation">.</span>uid <span class="token operator">=</span> order_goods<span class="token punctuation">.</span>uid<span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> uid  <span class="token operator">|</span> username  <span class="token operator">|</span> password <span class="token operator">|</span> oid <span class="token operator">|</span> uid <span class="token operator">|</span> name          <span class="token operator">|</span> buytime   <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span> 高小峰    <span class="token operator">|</span> 3124qwqw <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span> 苹果鼠标      <span class="token operator">|</span>   <span class="token number">1212313</span> <span class="token operator">|</span><span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span> <span class="token number">1235531</span>  <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> iphone 12s    <span class="token operator">|</span> <span class="token number">123121241</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> 李小超    <span class="token operator">|</span> 311aqqee <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">12</span> <span class="token operator">|</span> 雪碧          <span class="token operator">|</span>  <span class="token number">13232333</span> <span class="token operator">|</span><span class="token operator">|</span>   <span class="token number">15</span> <span class="token operator">|</span> 佟小刚    <span class="token operator">|</span> 3cxvdfs  <span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">15</span> <span class="token operator">|</span>               <span class="token operator">|</span>  <span class="token number">34242123</span> <span class="token operator">|</span><span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span> <span class="token number">1235531</span>  <span class="token operator">|</span>   <span class="token number">5</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> iphone 键盘   <span class="token operator">|</span>  <span class="token number">12123413</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token number">5</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="9-4-子查询"><a href="#9-4-子查询" class="headerlink" title="9.4 子查询"></a><font color="#3CB371" face="Comic sans MS">9.4 子查询</font></h4><p>有时候，当我们查询的时候，需要的条件是另外一个select语句的结果，这时就需要使用子查询。<br>用于子查询的关键字包括<font color="#FF7F00"><strong>in、not in、=、!=、exists、not exists</strong></font>等。</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 字段  from 表 where 字段 in(条件)</td></tr><tr><td style="text-align:center">示例1</td><td style="text-align:left">select *  from user where uid in (1,3,4);</td></tr><tr><td style="text-align:center">示例1说明</td><td style="text-align:left">按照id 查询指定用户</td></tr><tr><td style="text-align:center">示例2</td><td style="text-align:left">select *  from user where uid in (select uid from order_goods);</td></tr><tr><td style="text-align:center">示例2说明</td><td style="text-align:left">将购买过商品的用户信息显示出来</td></tr></tbody></table><p>&emsp;<br>示例1：</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token operator">*</span>  from user where uid <span class="token function">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span> uid <span class="token operator">|</span> username  <span class="token operator">|</span> password <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> 景甜      <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span> <span class="token number">1235531</span>  <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span> <span class="token number">123455</span>   <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token number">3</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;<br>示例2：</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token operator">*</span>  from user where uid <span class="token function">in</span> <span class="token punctuation">(</span>select uid from order_goods<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span> uid <span class="token operator">|</span> username  <span class="token operator">|</span> password <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span> 高小峰    <span class="token operator">|</span> 3124qwqw <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span> <span class="token number">1235531</span>  <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">12</span> <span class="token operator">|</span> 李小超    <span class="token operator">|</span> 311aqqee <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">15</span> <span class="token operator">|</span> 佟小刚    <span class="token operator">|</span> 3cxvdfs  <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token number">4</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">></span> select <span class="token operator">*</span> from emp where deptno <span class="token function">in</span> <span class="token punctuation">(</span>select deptno from dept<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>&emsp;</p><h4 id="9-5-记录联合"><a href="#9-5-记录联合" class="headerlink" title="9.5 记录联合"></a><font color="#3CB371" face="Comic sans MS">9.5 记录联合</font></h4><p>使用 union 和 union all 关键字，将两个表的数据按照一定的查询条件查询出来后，将结果合并到一起显示。两者主要的区别是把结果直接合并在一起，而 union 是将 union all 后的结果进行一次distinct，去除重复记录后的结果。<br>关键字包括<font color="#FF7F00"><strong>union、union all、distinct</strong></font>等。</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select语句1 union[all] select语句2</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select *  from user where uid in (1,3,4);</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">将商品表中的用户信息和用户表中的用户信息的结果组合在一起</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select uid from user union select uid from order_goods<span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> uid <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">2</span> <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">3</span> <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">4</span> <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">5</span> <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">6</span> <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">7</span> <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">8</span> <span class="token operator">|</span> <span class="token operator">|</span>   <span class="token number">9</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">11</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">12</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">13</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">14</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">15</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">15</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="十-增删改查之插入记录"><a href="#十-增删改查之插入记录" class="headerlink" title="十. 增删改查之插入记录"></a><font color="#FF6347" face="Comic sans MS">十. 增删改查之插入记录</font></h3><p>插入记录有两种个基本语法。</p><p>&emsp;<br>插入基本语法一</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">insert into 表 values(值1,值2,值n);</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">INSERT INTO user values(2,’php中文网’,’男’)</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">向user表中插入值id为2，姓名为李文凯，性别为男</td></tr></tbody></table><p>&emsp;<br>插入基本语法二</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">insert into 表(字段1,字段2,字段n) values(值1,值2,值n);</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">INSERT INTO user(id,username,sex) values(213,’小沈阳’,1);</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">向user表中插入id为213，username为小沈阳，性别为1</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>基本语法1和基本语法2的区别是：</strong></font></p><ol><li>基本语法1的插入语句，表中有多少个字段就必须要插入多少个值。一个不能多，一个也不能少。若有默认值，不想传，可以写上null。</li><li>基本语法2中，除非有必填字段必须要写入值外。如果有默认值的不想写可以忽略不写。mysql会自动补主默认值。</li><li>基本语法2中，以user(id,username,sex)字段顺序为值的顺序。</li></ol></blockquote><p>&emsp;<br>&emsp;<br>&emsp;<br>假设有一张表为user表，我们对字段、字段说明、类型和字段选填和必须状态进行说明，表结构如下：</p><table><thead><tr><th style="text-align:center">字段</th><th style="text-align:left">id</th><th style="text-align:left">username</th><th style="text-align:left">email</th><th style="text-align:left">password</th><th style="text-align:left">sex</th></tr></thead><tbody><tr><td style="text-align:center"><strong>中文说明</strong></td><td style="text-align:left">编号</td><td style="text-align:left">用户名</td><td style="text-align:left">邮箱</td><td style="text-align:left">密码</td><td style="text-align:left">性别</td></tr><tr><td style="text-align:center"><strong>类型说明</strong></td><td style="text-align:left">int</td><td style="text-align:left">varchar(50)</td><td style="text-align:left">varchar(60)</td><td style="text-align:left">varchar(32)</td><td style="text-align:left">tinyint</td></tr><tr><td style="text-align:center"><strong>默认值说明</strong></td><td style="text-align:left">自增</td><td style="text-align:left">必填</td><td style="text-align:left">选填字段，默认值为<a href="mailto:123@php.cn" target="_blank" rel="noopener">123@php.cn</a></td><td style="text-align:left">选填字段</td><td style="text-align:left">必填字段</td></tr></tbody></table><p>&emsp;<br>按照基本语法一写上表中的插入语句：</p><pre class=" language-php"><code class="language-php"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> user <span class="token function">values</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">'php中文网'</span><span class="token punctuation">,</span><span class="token string">'pig@php.cn'</span><span class="token punctuation">,</span><span class="token keyword">null</span> <span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font></p><ol><li>可以不指定字段名称，但是 values 后面的顺序应该和表字段的排序一致。</li><li>有默认值的字段可以不写，则为默认值。</li><li>如果有默认值或者可空字段不想传入具体值，可写入null。<br>数据格式必须要与表规定的数据格式一致。</li></ol></blockquote><p>&emsp;<br>按照基本语法二写上表中的插入语句：</p><pre class=" language-php"><code class="language-php"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">user</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>sex<span class="token punctuation">)</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token string">'php中文网'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><font color="#FF7F00"><strong>注意：</strong></font><br>1. ID为自增的自段可以不用传入值，每插入一次这个字段的值会自动向上加1。<br>2. 有默认值和可为空的字段可不传<br>3. 以表user(username,sex)的插入顺序为准<br>4. <font color="#FF7F00"><strong>基本语法二为更常用的用法</strong></font></blockquote><p>&emsp;</p><font color="red"><strong>基本语法变形：一次插入多条记录</strong></font><pre class=" language-php"><code class="language-php"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">user</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">,</span>sex<span class="token punctuation">)</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token string">'胡歌'</span><span class="token punctuation">,</span> <span class="token string">'abcdef'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span> <span class="token string">'霍建华'</span><span class="token punctuation">,</span> <span class="token string">'bcdeef'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span> <span class="token string">'张靓颖'</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'刘诗诗'</span><span class="token punctuation">,</span> <span class="token string">'987654'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="十一-增删改查之查询记录"><a href="#十一-增删改查之查询记录" class="headerlink" title="十一. 增删改查之查询记录"></a><font color="#FF6347" face="Comic sans MS">十一. 增删改查之查询记录</font></h3><p>下面定义了一个表结构，表名为money，表中存放着银行的余额和用户的基本信息。</p><font color="#00B2EE">[<a href="http://www.php.cn/code/4968.html" target="_blank" rel="noopener">视频教程</a>]</font><p>&emsp;<br>创建表的语句如下：</p><pre class=" language-php"><code class="language-php"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token function">money</span> <span class="token punctuation">(</span>     id <span class="token constant">INT</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token constant">AUTO_INCREMENT</span> <span class="token punctuation">,</span>     username <span class="token function">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">,</span>     balance <span class="token constant">FLOAT</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">,</span>      province <span class="token function">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">,</span>      age <span class="token constant">TINYINT</span> <span class="token constant">UNSIGNED</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">,</span>      sex <span class="token constant">TINYINT</span> <span class="token constant">NOT</span> <span class="token keyword">NULL</span> <span class="token punctuation">,</span>      <span class="token constant">PRIMARY</span> <span class="token function">KEY</span> <span class="token punctuation">(</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token punctuation">)</span> <span class="token constant">ENGINE</span> <span class="token operator">=</span> InnoDB <span class="token constant">CHARACTER</span> <span class="token constant">SET</span> utf8<span class="token punctuation">;</span></code></pre><p>&emsp;<br>表结构和数据展示如下：(注：balance是指余额、province是指省份)</p><table><thead><tr><th style="text-align:center">id</th><th style="text-align:left">username</th><th style="text-align:left">balance</th><th style="text-align:left">province</th><th style="text-align:left">age</th><th style="text-align:left">sex</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:left">王宝强</td><td style="text-align:left">120.02</td><td style="text-align:left">上海</td><td style="text-align:left">29</td><td style="text-align:left">1</td></tr><tr><td style="text-align:center">2</td><td style="text-align:left">范冰冰</td><td style="text-align:left">260.23</td><td style="text-align:left">山东</td><td style="text-align:left">40</td><td style="text-align:left">0</td></tr><tr><td style="text-align:center">3</td><td style="text-align:left">黄晓明</td><td style="text-align:left">150.86</td><td style="text-align:left">山东</td><td style="text-align:left">40</td><td style="text-align:left">1</td></tr><tr><td style="text-align:center">4</td><td style="text-align:left">井柏然</td><td style="text-align:left">810</td><td style="text-align:left">辽宁</td><td style="text-align:left">27</td><td style="text-align:left">1</td></tr><tr><td style="text-align:center">5</td><td style="text-align:left">李冰冰</td><td style="text-align:left">20.15</td><td style="text-align:left">黑龙江</td><td style="text-align:left">43</td><td style="text-align:left">0</td></tr><tr><td style="text-align:center">6</td><td style="text-align:left">成龙</td><td style="text-align:left">313</td><td style="text-align:left">山东</td><td style="text-align:left">63</td><td style="text-align:left">1</td></tr><tr><td style="text-align:center">7</td><td style="text-align:left">杨幂</td><td style="text-align:left">123</td><td style="text-align:left">北京</td><td style="text-align:left">30</td><td style="text-align:left">0</td></tr><tr><td style="text-align:center">8</td><td style="text-align:left">刘诗诗</td><td style="text-align:left">456</td><td style="text-align:left">北京</td><td style="text-align:left">29</td><td style="text-align:left">1</td></tr><tr><td style="text-align:center">9</td><td style="text-align:left">柳岩</td><td style="text-align:left">23.4</td><td style="text-align:left">湖南</td><td style="text-align:left">36</td><td style="text-align:left">0</td></tr><tr><td style="text-align:center">10</td><td style="text-align:left">赵本山</td><td style="text-align:left">3456</td><td style="text-align:left">辽宁</td><td style="text-align:left">63</td><td style="text-align:left">1</td></tr><tr><td style="text-align:center">11</td><td style="text-align:left">汪峰</td><td style="text-align:left">34.32</td><td style="text-align:left">北京</td><td style="text-align:left">44</td><td style="text-align:left">1</td></tr><tr><td style="text-align:center">12</td><td style="text-align:left">郭德纲</td><td style="text-align:left">212</td><td style="text-align:left">天津</td><td style="text-align:left">43</td><td style="text-align:left">1</td></tr></tbody></table><p>&emsp;</p><h4 id="11-1-基础查询"><a href="#11-1-基础查询" class="headerlink" title="11.1 基础查询"></a><font color="#3CB371" face="Comic sans MS">11.1 基础查询</font></h4><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select * from 表;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select * from money;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询money表中所有字段中的所有结果</td></tr></tbody></table><blockquote><font color="#FF7F00"><strong>注：” * ” 是一种正则表达式的写法，表示匹配所有，上面的查询语句和下面的是等价：</strong></font></blockquote><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token operator">*</span> from money<span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span> province  <span class="token operator">|</span> age <span class="token operator">|</span> sex <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>  <span class="token number">120.02</span> <span class="token operator">|</span> 湖北      <span class="token operator">|</span>  <span class="token number">29</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 范冰冰    <span class="token operator">|</span>  <span class="token number">260.23</span> <span class="token operator">|</span> 山东      <span class="token operator">|</span>  <span class="token number">40</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 黄晓明    <span class="token operator">|</span>  <span class="token number">150.86</span> <span class="token operator">|</span> 山东      <span class="token operator">|</span>  <span class="token number">40</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span>     <span class="token number">810</span> <span class="token operator">|</span> 辽宁      <span class="token operator">|</span>  <span class="token number">27</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 李冰冰    <span class="token operator">|</span>   <span class="token number">20.15</span> <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span>  <span class="token number">43</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 成龙      <span class="token operator">|</span>     <span class="token number">313</span> <span class="token operator">|</span> 山东      <span class="token operator">|</span>  <span class="token number">63</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 杨幂      <span class="token operator">|</span>     <span class="token number">123</span> <span class="token operator">|</span> 北京      <span class="token operator">|</span>  <span class="token number">30</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 刘诗诗    <span class="token operator">|</span>     <span class="token number">456</span> <span class="token operator">|</span> 北京      <span class="token operator">|</span>  <span class="token number">29</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 柳岩      <span class="token operator">|</span>    <span class="token number">23.4</span> <span class="token operator">|</span> 湖南      <span class="token operator">|</span>  <span class="token number">36</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span><span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> 赵本山    <span class="token operator">|</span>    <span class="token number">3456</span> <span class="token operator">|</span> 辽宁      <span class="token operator">|</span>  <span class="token number">63</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span> <span class="token number">11</span> <span class="token operator">|</span> 汪峰      <span class="token operator">|</span>   <span class="token number">34.32</span> <span class="token operator">|</span> 北京      <span class="token operator">|</span>  <span class="token number">44</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span> 郭德纲    <span class="token operator">|</span>     <span class="token number">212</span> <span class="token operator">|</span> 天津      <span class="token operator">|</span>  <span class="token number">43</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token number">12</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-2-指定字段查询"><a href="#11-2-指定字段查询" class="headerlink" title="11.2 指定字段查询"></a><font color="#3CB371" face="Comic sans MS">11.2 指定字段查询</font></h4><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 字段 from 表;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select id,username, balance from money;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询money表中id,username, balance字段中的所有结果</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select id<span class="token punctuation">,</span>username<span class="token punctuation">,</span> balance from money<span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>  <span class="token number">120.02</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 范冰冰    <span class="token operator">|</span>  <span class="token number">260.23</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 黄晓明    <span class="token operator">|</span>  <span class="token number">150.86</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span>     <span class="token number">810</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 李冰冰    <span class="token operator">|</span>   <span class="token number">20.15</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 成龙      <span class="token operator">|</span>     <span class="token number">313</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 杨幂      <span class="token operator">|</span>     <span class="token number">123</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 刘诗诗    <span class="token operator">|</span>     <span class="token number">456</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 柳岩      <span class="token operator">|</span>    <span class="token number">23.4</span> <span class="token operator">|</span><span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> 赵本山    <span class="token operator">|</span>    <span class="token number">3456</span> <span class="token operator">|</span><span class="token operator">|</span> <span class="token number">11</span> <span class="token operator">|</span> 汪峰      <span class="token operator">|</span>   <span class="token number">34.32</span> <span class="token operator">|</span><span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span> 郭德纲    <span class="token operator">|</span>     <span class="token number">212</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token number">12</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-3-查询单个字段不重复记录-distinct"><a href="#11-3-查询单个字段不重复记录-distinct" class="headerlink" title="11.3 查询单个字段不重复记录 distinct"></a><font color="#3CB371" face="Comic sans MS">11.3 查询单个字段不重复记录 distinct</font></h4><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select distinct 字段 from 表;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select distinct age deptno from money;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询money表中年龄唯一的所有结果</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select distinct age deptno from money<span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">|</span> deptno <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">|</span>     <span class="token number">29</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">40</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">27</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">43</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">63</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">36</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">44</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token number">8</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-4-条件查询-where"><a href="#11-4-条件查询-where" class="headerlink" title="11.4 条件查询 where"></a><font color="#3CB371" face="Comic sans MS">11.4 条件查询 where</font></h4><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select  字段 from 表 where where条件;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select * from money where age = 29;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询money表中年龄为29的所有结果</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token operator">*</span> from money where age <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span> province <span class="token operator">|</span> age <span class="token operator">|</span> sex <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 李文凯    <span class="token operator">|</span>  <span class="token number">120.02</span> <span class="token operator">|</span> 湖北     <span class="token operator">|</span>  <span class="token number">29</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 刘诗诗    <span class="token operator">|</span>     <span class="token number">456</span> <span class="token operator">|</span> 北京     <span class="token operator">|</span>  <span class="token number">29</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token number">2</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><font color="red"><strong>where后可接的条件</strong></font><br><font color="#00B2EE"><strong>比较运算符</strong></font><br>比较运算符结果集中将符合条件的记录列出来。上面的例子中，where 后面的田间是一个字段的 ‘=’。<br>除此之外，还可以使用<strong>&gt;、&lt;、&gt;=、&lt;=、!=</strong>等比较运算符；<br><br>&emsp;<br><font color="#00B2EE"><strong>逻辑运算符</strong></font><br>多个条件还可以使用 or 、 and 等逻辑运算符进行多条件联合查询<br><strong>or   或者<br>and       并且</strong><br><br>&emsp;<br>我们来看一下多个条件的例子：<br><font color="#00B2EE"></font><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细内容</th></tr></thead><tbody><tr><td style="text-align:center">示例</td><td style="text-align:left">select * from money where id &lt;10 and</td></tr><tr><td style="text-align:center">说明</td><td style="text-align:left">查询所有字段 要求id小于10 并且province=’湖北’</td></tr></tbody></table><font color="#00B2EE"></font><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token operator">*</span> from money where id <span class="token operator">&lt;</span><span class="token number">10</span> <span class="token keyword">and</span> province<span class="token operator">=</span><span class="token string">'湖北'</span><span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span> province <span class="token operator">|</span> age <span class="token operator">|</span> sex <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>  <span class="token number">120.02</span> <span class="token operator">|</span> 湖北     <span class="token operator">|</span>  <span class="token number">29</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">1</span> row in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-5-结果集排序"><a href="#11-5-结果集排序" class="headerlink" title="11.5 结果集排序"></a><font color="#3CB371" face="Comic sans MS">11.5 结果集排序</font></h4><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 字段 from 表 order  by 字段 排序关键词</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select id,username, balance from money order by balance desc;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询money表中的id,username,balance字段，按照余额进行降序排序</td></tr></tbody></table><p>&emsp;<br>排序用到的关键词：</p><table><thead><tr><th style="text-align:center">关键词</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">asc</td><td style="text-align:left">升序排列，从小到大（默认）</td></tr><tr><td style="text-align:center">desc</td><td style="text-align:left">降序排列，从大到小</td></tr></tbody></table><blockquote><p>在 select 出来之后的结果集中排序使用 order by ，其中 desc 和 asc 是排序顺序中的关键字。<font color="#FF7F00"><strong>desc 表示按照字段进行降序排列，asc 表示升序排列，如果不写关键字默认升序排列。</strong></font></p></blockquote><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select id<span class="token punctuation">,</span>username<span class="token punctuation">,</span> balance from money order by balance desc<span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> 赵本山    <span class="token operator">|</span>    <span class="token number">3456</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span>     <span class="token number">810</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 刘诗诗    <span class="token operator">|</span>     <span class="token number">456</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 成龙      <span class="token operator">|</span>     <span class="token number">313</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 范冰冰    <span class="token operator">|</span>  <span class="token number">260.23</span> <span class="token operator">|</span><span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span> 郭德纲    <span class="token operator">|</span>     <span class="token number">212</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 黄晓明    <span class="token operator">|</span>  <span class="token number">150.86</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 杨幂      <span class="token operator">|</span>     <span class="token number">123</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>  <span class="token number">120.02</span> <span class="token operator">|</span><span class="token operator">|</span> <span class="token number">11</span> <span class="token operator">|</span> 汪峰      <span class="token operator">|</span>   <span class="token number">34.32</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 柳岩      <span class="token operator">|</span>    <span class="token number">23.4</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 李冰冰    <span class="token operator">|</span>   <span class="token number">20.15</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token number">12</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-6-多字段排序"><a href="#11-6-多字段排序" class="headerlink" title="11.6 多字段排序"></a><font color="#3CB371" face="Comic sans MS">11.6 多字段排序</font></h4><p>order by 后面可以跟多个不同的字段排序，并且排序字段的不同结果集的顺序也不同，如果排序字段的值一样，则值相同的字段按照第二个排序字段进行排序。</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 字段 from 表 order  by 字段1 排序关键词,… …字段n desc</td><td>asc;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select id,username, balance from money order by balance desc,age asc;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询money表中的id,username,balance字段，按照余额进行降序排序,若余额全都一样，则再使用age进行升序排序</td></tr></tbody></table><blockquote><p>注：如果第一个字段已经将结果给排好。第二个字段排序字段不生效。本例中，第二个字段无效</p></blockquote><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select id<span class="token punctuation">,</span>username<span class="token punctuation">,</span> balance from money order by balance desc<span class="token punctuation">,</span>age asc<span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> 赵本山    <span class="token operator">|</span>    <span class="token number">3456</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span>     <span class="token number">810</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 刘诗诗    <span class="token operator">|</span>     <span class="token number">456</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 成龙      <span class="token operator">|</span>     <span class="token number">313</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 范冰冰    <span class="token operator">|</span>  <span class="token number">260.23</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span> 郭德纲    <span class="token operator">|</span>     <span class="token number">212</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 黄晓明    <span class="token operator">|</span>  <span class="token number">150.86</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 杨幂      <span class="token operator">|</span>     <span class="token number">123</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>  <span class="token number">120.02</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token number">11</span> <span class="token operator">|</span> 汪峰      <span class="token operator">|</span>   <span class="token number">34.32</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 柳岩      <span class="token operator">|</span>    <span class="token number">23.4</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 李冰冰    <span class="token operator">|</span>   <span class="token number">20.15</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">12</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-7-结果集限制"><a href="#11-7-结果集限制" class="headerlink" title="11.7 结果集限制"></a><font color="#3CB371" face="Comic sans MS">11.7 结果集限制</font></h4><p>对于查询或者排序后的结果集，如果希望只显示一部分而不是全部，使用 limit 关键字结果集数量限制。</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 字段 from 表  limit 数量;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select id,username, balance from money limit 5;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">显示前五个用户</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span>  select <span class="token operator">*</span> from money limit <span class="token number">5</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span> province  <span class="token operator">|</span> age <span class="token operator">|</span> sex <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>  <span class="token number">120.02</span> <span class="token operator">|</span> 湖北      <span class="token operator">|</span>  <span class="token number">29</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 范冰冰    <span class="token operator">|</span>  <span class="token number">260.23</span> <span class="token operator">|</span> 山东      <span class="token operator">|</span>  <span class="token number">40</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 黄晓明    <span class="token operator">|</span>  <span class="token number">150.86</span> <span class="token operator">|</span> 山东      <span class="token operator">|</span>  <span class="token number">40</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span>     <span class="token number">810</span> <span class="token operator">|</span> 辽宁      <span class="token operator">|</span>  <span class="token number">27</span> <span class="token operator">|</span>   <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 李冰冰    <span class="token operator">|</span>   <span class="token number">20.15</span> <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span>  <span class="token number">43</span> <span class="token operator">|</span>   <span class="token number">0</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token number">5</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-8-限制结果集并排序"><a href="#11-8-限制结果集并排序" class="headerlink" title="11.8 限制结果集并排序"></a><font color="#3CB371" face="Comic sans MS">11.8 限制结果集并排序</font></h4><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 字段 from 表 order by 字段 关键词 limit 数量</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select id,username, balance from money order by balance desc limit 5;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">按照钱来排序，显示前五个最有钱的用户</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select id<span class="token punctuation">,</span>username<span class="token punctuation">,</span> balance from money order by balance desc limit <span class="token number">5</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> 赵本山    <span class="token operator">|</span>    <span class="token number">3456</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span>     <span class="token number">810</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 刘诗诗    <span class="token operator">|</span>     <span class="token number">456</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 成龙      <span class="token operator">|</span>     <span class="token number">313</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 范冰冰    <span class="token operator">|</span>  <span class="token number">260.23</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token number">5</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-9-结果集区间选择"><a href="#11-9-结果集区间选择" class="headerlink" title="11.9 结果集区间选择"></a><font color="#3CB371" face="Comic sans MS">11.9 结果集区间选择</font></h4><p>假设我从第0条开始取了3条记录。又想再从第3条开始取3条记录。再想从第6条开始取4条记录怎么办？<br>这时候就需要使用到结果集区间选择。</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 字段 from 表  limit 偏移量,数量</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select id,username, balance from  money limit 0,3;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">从第一条开始取三条记录</td></tr></tbody></table><p>注：第一条记录为0。</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select id<span class="token punctuation">,</span>username<span class="token punctuation">,</span> balance from  money limit <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 王宝强    <span class="token operator">|</span>  <span class="token number">120.02</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 范冰冰    <span class="token operator">|</span>  <span class="token number">260.23</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 黄晓明    <span class="token operator">|</span>  <span class="token number">150.86</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">3</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;<br>从第三条开始再取三条呢？</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select id<span class="token punctuation">,</span>username<span class="token punctuation">,</span> balance from  money limit <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span>     <span class="token number">810</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 李冰冰    <span class="token operator">|</span>   <span class="token number">20.15</span> <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 成龙      <span class="token operator">|</span>     <span class="token number">313</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">3</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><blockquote><p>通过上面的这个思路，显示就完成了分页。<br>每页显示10条记录，那么：<br>第1页为  limit 0,10<br>第2页为  limit 10,10<br>第3页为  limit 20,10<br>依此类推… …</p></blockquote><p>&emsp;</p><h4 id="11-10-统计类函数使用"><a href="#11-10-统计类函数使用" class="headerlink" title="11.10 统计类函数使用"></a><font color="#3CB371" face="Comic sans MS">11.10 统计类函数使用</font></h4><p>如果我们想知道总用户数怎么办？<br>查询谁是数据表里的首富怎么办？<br>如果我们想知道用户的平均金额怎么办？<br>如果我们想知道所有用户的总金额怎么办？<br>统计类函数最常用的我们有四个：</p><table><thead><tr><th style="text-align:center">函数</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">sum</td><td style="text-align:left">求和</td></tr><tr><td style="text-align:center">count</td><td style="text-align:left">统计总数</td></tr><tr><td style="text-align:center">max</td><td style="text-align:left">最大值</td></tr><tr><td style="text-align:center">min</td><td style="text-align:left">最小值</td></tr><tr><td style="text-align:center">avg</td><td style="text-align:left">平均值</td></tr></tbody></table><blockquote><p>注：当然你知道其他的mysql函数也可以使用。不过，在实际工作中，大公司的很多大中型项上很少使用，他们都有专门的计数服务器。因为，mysql的计算量本身很大，为了减少压力通常我们将实际的计算任务交给业务服务器或其他服务器来完成。</p></blockquote><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select 函数(字段) from 表</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select count(id) from money</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">查询money表的id总数</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> from money<span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>        <span class="token number">12</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">1</span> row in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;<br>你还可以给字段取别名哟！使用as关键字。</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> zongshu from money<span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> zongshu <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>      <span class="token number">12</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">1</span> row in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-11-分组-group-by"><a href="#11-11-分组-group-by" class="headerlink" title="11.11 分组 group by"></a><font color="#3CB371" face="Comic sans MS">11.11 分组 group by</font></h4><p>我们拿金额表里面的省份进行分组数据，分组数据后你会发现。有相同的省份会去掉。即，一个省份为一个组。</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select * from 表 group by 字段</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select * from money group by province;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">按照地区进行分组</td></tr></tbody></table><pre class=" language-php"><code class="language-php">统计分组（分类）各总数：mysql<span class="token operator">></span> select deptno<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> from emp group by deptno<span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">|</span> deptno <span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>      <span class="token number">2</span> <span class="token operator">|</span>        <span class="token number">5</span> <span class="token operator">|</span><span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span>      <span class="token number">5</span> <span class="token operator">|</span>        <span class="token number">4</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token number">4</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.04</span> sec<span class="token punctuation">)</span>统计省份数量后再进行分组显示mysql<span class="token operator">></span> select <span class="token function">count</span><span class="token punctuation">(</span>province<span class="token punctuation">)</span><span class="token punctuation">,</span>province  from money group by province<span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span>province<span class="token punctuation">)</span> <span class="token operator">|</span> province  <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>               <span class="token number">3</span> <span class="token operator">|</span> 北京      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">1</span> <span class="token operator">|</span> 天津      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">3</span> <span class="token operator">|</span> 山东      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">1</span> <span class="token operator">|</span> 湖北      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">1</span> <span class="token operator">|</span> 湖南      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">2</span> <span class="token operator">|</span> 辽宁      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">1</span> <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">7</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-12-在分组基础上进行统计"><a href="#11-12-在分组基础上进行统计" class="headerlink" title="11.12 在分组基础上进行统计"></a><font color="#3CB371" face="Comic sans MS">11.12 在分组基础上进行统计</font></h4><p>with rollup用的很少。这个知识点设置为了解级别。<br>它的主要功能是对于分组的数据进行统计后，再进行一次总数统计。</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select * from 表 group by 字段 with rollup</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select count(province),province  from money group by province with rollup;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">对分组的数再次进行统计</td></tr></tbody></table><p>&emsp;<br>在上面的基础上统计总数，下例结果中，最后多了一个12 NULL。</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token function">count</span><span class="token punctuation">(</span>province<span class="token punctuation">)</span><span class="token punctuation">,</span>province  from money group by province with rollup<span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span>province<span class="token punctuation">)</span> <span class="token operator">|</span> province  <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token operator">|</span>               <span class="token number">3</span> <span class="token operator">|</span> 北京      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">1</span> <span class="token operator">|</span> 天津      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">3</span> <span class="token operator">|</span> 山东      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">1</span> <span class="token operator">|</span> 湖北      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">1</span> <span class="token operator">|</span> 湖南      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">2</span> <span class="token operator">|</span> 辽宁      <span class="token operator">|</span> <span class="token operator">|</span>               <span class="token number">1</span> <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span> <span class="token operator">|</span>              <span class="token number">12</span> <span class="token operator">|</span> <span class="token keyword">NULL</span>      <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">8</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-13-结果再过滤having"><a href="#11-13-结果再过滤having" class="headerlink" title="11.13 结果再过滤having"></a><font color="#3CB371" face="Comic sans MS">11.13 结果再过滤having</font></h4><p>having子句与where有相似之处但也有区别,都是设定条件的语句。<br>having 是筛选组 而where是筛选记录。</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">select * from 表 group by 字段 having 条件</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">select count(province) as result ,province  from money group by province having result &gt;2;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">对地区分组并统计总数，将分组结果中大于2的分组地区显示出来</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token function">count</span><span class="token punctuation">(</span>province<span class="token punctuation">)</span> <span class="token keyword">as</span> result <span class="token punctuation">,</span>province  from money group by province having result <span class="token operator">></span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span> result <span class="token operator">|</span> province <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span> 北京     <span class="token operator">|</span> <span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span> 山东     <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token number">2</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><h4 id="11-14-整体使用SQL"><a href="#11-14-整体使用SQL" class="headerlink" title="11.14 整体使用SQL"></a><font color="#3CB371" face="Comic sans MS">11.14 整体使用SQL</font></h4><p>我们在上面的语句中都是单一使用的某些语句，没有整体使用过。<br>我们现在将语句进行整合后，配合使用一次。整体的SQL语句配合使用的语法结构如下：</p><pre class=" language-php"><code class="language-php"><span class="token constant">SELECT</span>      <span class="token punctuation">[</span>字段<span class="token number">1</span> <span class="token punctuation">[</span><span class="token keyword">as</span> 别名<span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>函数<span class="token punctuation">(</span>字段<span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>字段n<span class="token punctuation">]</span>  <span class="token constant">FROM</span> 表名 <span class="token punctuation">[</span><span class="token constant">WHERE</span> where条件<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token constant">GROUP</span> <span class="token constant">BY</span> 字段<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token constant">HAVING</span> where_contition<span class="token punctuation">]</span> <span class="token punctuation">[</span>order 条件<span class="token punctuation">]</span> <span class="token punctuation">[</span>limit 条件<span class="token punctuation">]</span></code></pre><blockquote><p>注：上面的语句中可以[] 代表可选。</p></blockquote><p>最终的语法总结如下：</p><table><thead><tr><th style="text-align:center">关键词</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">select</td><td style="text-align:left">选择的列</td></tr><tr><td style="text-align:center">from</td><td style="text-align:left">表</td></tr><tr><td style="text-align:center">where</td><td style="text-align:left">查询的条件</td></tr><tr><td style="text-align:center">group by</td><td style="text-align:left">分组属性  having 分组过滤的条件</td></tr><tr><td style="text-align:center">order by</td><td style="text-align:left">排序属性</td></tr><tr><td style="text-align:center">limit</td><td style="text-align:left">起始记录位置，取记录的条数</td></tr></tbody></table><p>&emsp;<br>我们进行一次整体的给合使用，查询money表字段：id,username,balance,province 要求id&gt;1 余额大于50，使用地区进行分组。我们使用用户id进行降序，要求只准显示3条。<br>最后将SQL语句写成，查询出来的结果如下：</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select id<span class="token punctuation">,</span>username<span class="token punctuation">,</span>balance<span class="token punctuation">,</span>province from money where id <span class="token operator">></span> <span class="token number">1</span> <span class="token keyword">and</span> balance <span class="token operator">></span> <span class="token number">50</span> group by province order by id desc limit <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span> id <span class="token operator">|</span> username  <span class="token operator">|</span> balance <span class="token operator">|</span> province <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span> <span class="token number">12</span> <span class="token operator">|</span> 郭德纲    <span class="token operator">|</span>     <span class="token number">212</span> <span class="token operator">|</span> 天津     <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 杨幂      <span class="token operator">|</span>     <span class="token number">123</span> <span class="token operator">|</span> 北京     <span class="token operator">|</span> <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 井柏然    <span class="token operator">|</span>     <span class="token number">810</span> <span class="token operator">|</span> 辽宁     <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token number">3</span> rows in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="十二-增删改查之更新记录"><a href="#十二-增删改查之更新记录" class="headerlink" title="十二. 增删改查之更新记录"></a><font color="#FF6347" face="Comic sans MS">十二. 增删改查之更新记录</font></h3><p>更新数据我们已经说过。需要修改内容，修改银行卡余额，修改装备信息的时候都需要使用到update，修改语句。<br>关键词：<font color="#00B2EE"><strong>update</strong></font><br>修改(也叫更新)语句的基本语语法如下：</p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">update 表名 set 字段1=值1,字段2=值2,字段n=值n where 条件</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">update money set  balance=balance-500 where userid = 15;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">修改money表，将balance余额减500。要求userid为15</td></tr></tbody></table><p>&emsp;<br>假设我们有下面这一个表，表结构如下：</p><table><thead><tr><th style="text-align:center">userid</th><th style="text-align:left">username</th><th style="text-align:left">balance</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:left">王宝强</td><td style="text-align:left">50000.00</td></tr><tr><td style="text-align:center">2</td><td style="text-align:left">胡歌</td><td style="text-align:left">150000000.00</td></tr><tr><td style="text-align:center">15</td><td style="text-align:left">马云</td><td style="text-align:left">15000.00</td></tr><tr><td style="text-align:center">16</td><td style="text-align:left">陈赫</td><td style="text-align:left">1234131.00</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> select <span class="token operator">*</span> from emp where deptno<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">|</span> userid <span class="token operator">|</span>username<span class="token operator">|</span>  balance <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">|</span> <span class="token number">15</span>   <span class="token operator">|</span>  马云    <span class="token operator">|</span> <span class="token number">15000.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token number">1</span> row in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><font color="red"><strong>使用 update 语句进行记录更新</strong></font><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span>  update money set  balance<span class="token operator">=</span>balance<span class="token number">-500</span> where userid <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> Query <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">1</span> row <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.35</span> sec<span class="token punctuation">)</span> Rows matched<span class="token punctuation">:</span> <span class="token number">1</span>  Changed<span class="token punctuation">:</span> <span class="token number">1</span>  Warnings<span class="token punctuation">:</span> <span class="token number">0</span>mysql<span class="token operator">></span> select <span class="token operator">*</span> from emp where deptno<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span> userid <span class="token operator">|</span>username<span class="token operator">|</span>  balance <span class="token operator">|</span>  <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span> <span class="token number">15</span>   <span class="token operator">|</span>  马云    <span class="token operator">|</span> <span class="token number">14500.00</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">1</span> row in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><font color="red"><strong>修改多个字段</strong></font><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> update money set  balance<span class="token operator">=</span>balance<span class="token number">-500</span><span class="token punctuation">,</span>username<span class="token operator">=</span><span class="token string">'李文凯'</span> where userid <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> Query <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">1</span> row <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span> Rows matched<span class="token punctuation">:</span> <span class="token number">1</span>  Changed<span class="token punctuation">:</span> <span class="token number">1</span>  Warnings<span class="token punctuation">:</span> <span class="token number">0</span>mysql<span class="token operator">></span> select <span class="token operator">*</span> from emp where deptno<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span> userid <span class="token operator">|</span>username<span class="token operator">|</span>  balance <span class="token operator">|</span>  <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span> <span class="token operator">|</span> <span class="token number">15</span>   <span class="token operator">|</span>王宝强    <span class="token operator">|</span> <span class="token number">14500.00</span> <span class="token operator">|</span> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span> <span class="token number">1</span> row in <span class="token function">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;</p><font color="red"><strong>同时对两个表进行更新</strong></font><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">update 表1,表2 set 字段1=值1,字段2=值2,字段n=值n where 条件</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">update money m,user u m.balance=m.balance*u.age where m.userid=u.id;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">修改money，将money表的别名设置为m；user表的别名设置为u；将m表的余额改为m表的<br>balance*用户表的age。执行条件是：m.userid = u.id</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> update money m<span class="token punctuation">,</span>user u m<span class="token punctuation">.</span>balance<span class="token operator">=</span>m<span class="token punctuation">.</span>balance<span class="token operator">*</span>u<span class="token punctuation">.</span>age where m<span class="token punctuation">.</span>userid<span class="token operator">=</span>u<span class="token punctuation">.</span>id<span class="token punctuation">;</span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="十三-增删改查之删除记录"><a href="#十三-增删改查之删除记录" class="headerlink" title="十三. 增删改查之删除记录"></a><font color="#FF6347" face="Comic sans MS">十三. 增删改查之删除记录</font></h3><p>使用关键词：<font color="#00B2EE"><strong>delete</strong></font></p><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">DELETE FROM 表 [where 条件];</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">DELETE FROM user where id &gt; 10;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">删除掉用户表中id大于10的所有用户</td></tr></tbody></table><p>&emsp;<br>user表，表结构如下：</p><table><thead><tr><th style="text-align:center">userid</th><th style="text-align:left">username</th><th style="text-align:left">balance</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:left">王宝强</td><td style="text-align:left">50000.00</td></tr><tr><td style="text-align:center">2</td><td style="text-align:left">胡歌</td><td style="text-align:left">150000000.00</td></tr><tr><td style="text-align:center">15</td><td style="text-align:left">马云</td><td style="text-align:left">15000.00</td></tr><tr><td style="text-align:center">16</td><td style="text-align:left">陈赫</td><td style="text-align:left">1234131.00</td></tr></tbody></table><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> <span class="token constant">DELETE</span> <span class="token constant">FROM</span> user where id ＝ <span class="token number">1</span><span class="token punctuation">;</span> Query <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">1</span> row <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.08</span> sec<span class="token punctuation">)</span>删除掉了id为<span class="token number">1</span>的，李文凯这一行的记录</code></pre><p>&emsp;</p><font color="red"><strong>清空表记录</strong></font><br><font color="#FF7F00"><strong>delete</strong></font>和<font color="#FF7F00"><strong>truncate</strong></font>是一样的，但它们有一点不同，那就是DELETE可以返回被删除的记录数，而TRUNCATE TABLE返回的是0。<br>如果一个表中有自增字段，使用truncate table 这个自增字段将起始值恢复成1.<br><br><font color="#FF7F00"></font><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">TRUNCATE TABLE 表名;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">TRUNCATE TABLE user;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">清空表的数据，并且让自增的id从1开始自增</td></tr></tbody></table><blockquote><font color="#FF7F00"><strong>切记：</strong></font><br><font color="#FF7F00">1.<strong>删除时一定要记住加上where条件，不然会清空掉整个表的记录。</strong><br>2.<strong>删除重要数据前一定要备份、备份、备份。</strong>     </font></blockquote><p>&emsp;<br>&emsp;</p><h3 id="十四-数据控制语言DCL"><a href="#十四-数据控制语言DCL" class="headerlink" title="十四. 数据控制语言DCL"></a><font color="#FF6347" face="Comic sans MS">十四. 数据控制语言DCL</font></h3><p>创建库用户(注：可以针对一个用户增加多条权限。)</p><font color="#00B2EE"><strong>添加权限：</strong></font><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">grant 权限 on 库.表 to ‘用户‘@’主机’ identified by ‘密码’;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">grant select, insert on test.* to ‘liwenkai‘@’localhost’ identified by ‘4311’;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">给予liwenkai用户，在本机连接test库所有表的权限。操作的这些表具有查询和写入权限</td></tr></tbody></table><p>&emsp;</p><font color="#00B2EE"><strong>删除权限：</strong></font><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:left">详细解示</th></tr></thead><tbody><tr><td style="text-align:center">基本语法</td><td style="text-align:left">revoke 权限 on 库.表 from ‘用户‘@’主机’;</td></tr><tr><td style="text-align:center">示例</td><td style="text-align:left">revoke select, insert on test.* to ‘liwenkai‘@’localhost’ identified by ‘4311’;</td></tr><tr><td style="text-align:center">示例说明</td><td style="text-align:left">给予liwenkai用户，在本机连接test库所有表的权限。操作的这些表具有查询和写入权限</td></tr></tbody></table><p>&emsp;</p><font color="#FF7F00"><strong>参数说明：</strong></font><table><thead><tr><th style="text-align:center">符号</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">grant all</td><td style="text-align:left">在grant后接all说明给予所有权限</td></tr><tr><td style="text-align:center">revoke all</td><td style="text-align:left">在revoke后接all说明删除所有权限</td></tr><tr><td style="text-align:center">权限 on .</td><td style="text-align:left">. 所明给予所有库所有表的操作权限</td></tr><tr><td style="text-align:center">‘用户‘@’主机’</td><td style="text-align:left">主机里面若为%。任意来源的主机均可以使用这个用户来访问</td></tr></tbody></table><blockquote><p>创建数据库用户liwenkai ，具有对test数据库中所有标的<strong>select / insert</strong> 权限</p></blockquote><p>&emsp;<br>示例：增加权限</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> grant select<span class="token punctuation">,</span> insert on test<span class="token punctuation">.</span><span class="token operator">*</span> to <span class="token string">'liwenkai'</span>@<span class="token string">'localhost'</span> identified by <span class="token string">'4311'</span><span class="token punctuation">;</span> Query <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">0</span> rows <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre><p>&emsp;<br>示例：移除权限</p><pre class=" language-php"><code class="language-php">mysql<span class="token operator">></span> revoke insert on test<span class="token punctuation">.</span><span class="token operator">*</span> from <span class="token string">'liwenkai'</span>@<span class="token string">'localhost'</span><span class="token punctuation">;</span> Query <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">0</span> rows <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.30</span> sec<span class="token punctuation">)</span></code></pre><blockquote><p><font color="#FF7F00"><strong>注：</strong></font><br>上面的一些语句用的较少。你可以将知识点的掌握级别设置为了解级别。<br>更多的时候，权限设置项特别多，人们往往记不住具体的命令。更多 的时候人们使用专门的工具来操作权限。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;内容好多啊◑﹏◐&lt;font color=&quot;#00B2EE&quot;&gt;[&lt;a href=&quot;http://www.php.cn/code/4954.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;那看视频吧…..&lt;/a&gt;]&lt;/font&gt; ٩(๑❛ᴗ❛๑)۶  (๑&amp;gt;◡&amp;lt;๑)&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="Treecatee.gitgub.io/categories/MySQL/"/>
    
    
      <category term="PHP语言" scheme="Treecatee.gitgub.io/tags/PHP%E8%AF%AD%E8%A8%80/"/>
    
      <category term="MySQL" scheme="Treecatee.gitgub.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>PHP-文件上传</title>
    <link href="Treecatee.gitgub.io/post/php-upload/"/>
    <id>Treecatee.gitgub.io/post/php-upload/</id>
    <published>2019-02-21T06:10:14.000Z</published>
    <updated>2019-03-06T16:37:15.214Z</updated>
    
    <content type="html"><![CDATA[<p>(。・∀・)ノ<br><a id="more"></a></p><p>&ensp;<br>&ensp;</p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>PHP 文件上传</strong></font></center><p>&emsp;<br>&emsp;</p><h3 id="一-修改php-ini文件"><a href="#一-修改php-ini文件" class="headerlink" title="一. 修改php.ini文件"></a><font color="#FF6347" face="Comic sans MS">一. 修改php.ini文件</font></h3><p>一般情况需要修改：[可以使用ctrl+f 搜索相关配置项。]</p><table><thead><tr><th style="text-align:center">配置项</th><th style="text-align:left">功能说明</th></tr></thead><tbody><tr><td style="text-align:center">file_uploads</td><td style="text-align:left">on为开启文件上传功能，off为关闭</td></tr><tr><td style="text-align:center">post_max_size</td><td style="text-align:left">系统允许的POST传参的最大值</td></tr><tr><td style="text-align:center">upload_max_filesize</td><td style="text-align:left">系统允许的上传文件的最大值</td></tr><tr><td style="text-align:center">memory_limit</td><td style="text-align:left">内存使用限制</td></tr><tr><td style="text-align:center">max_execution_time</td><td style="text-align:left">(1)脚本执行时间,参数的单位为秒。<br>(2)这个参数是设定脚本的最大执行时间。<br>(3)也可以根据需求做适当的改变。通常不需要来修改，系统默认值即可。超大文件<br>上传的时候，可能会涉及到这一项参数的修改。<br>(4)上传时间太长了，会超时。如果你将此项参数设为0，则是不限制超时时间，不建<br>议使用。</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>建议尺寸：</strong></font> file_size(文件大小) &lt; upload_max_filesize &lt; post_max_size &lt; memory_limit</p></blockquote><p> &emsp;<br>&emsp;</p><h3 id="三-is-uploaded-file-函数、数组-FILES"><a href="#三-is-uploaded-file-函数、数组-FILES" class="headerlink" title="三. is_uploaded_file()函数、数组$_FILES"></a><font color="#FF6347" face="Comic sans MS">三. is_uploaded_file()函数、数组$_FILES</font></h3><h4 id="2-1-创建一个文件上传表单"><a href="#2-1-创建一个文件上传表单" class="headerlink" title="2.1 创建一个文件上传表单"></a><font color="#3CB371" face="Comic sans MS">2.1 创建一个文件上传表单</font></h4><p>请看下面这个供上传文件的 HTML 表单：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>upload_file.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>multipart/form-data<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Filename:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>&emsp;</p><blockquote><p><font color="#FF7F00"><strong>请留意如下有关此表单的信息：</strong></font></p><ol><li><strong>&lt;’\’form&gt; 标签的 enctype 属性规定了在提交表单时要使用哪种内容类型。在表单需要二进制数据时，比如文件内容，请使用 <font color="#FF7F00">“multipart/form-data”</font>。</strong></li><li><strong>&lt;’\’input&gt; 标签的 <font color="#FF7F00">type=”file”</font> 属性规定了应该把输入作为文件来处理。举例来说，当在浏览器中预览时，会看到输入框旁边有一个浏览按钮。</strong></li></ol></blockquote><p>&emsp;</p><h4 id="2-2-is-uploaded-file-函数"><a href="#2-2-is-uploaded-file-函数" class="headerlink" title="2.2 is_uploaded_file() 函数"></a><font color="#3CB371" face="Comic sans MS">2.2 is_uploaded_file() 函数</font></h4><font color="#00B2EE">[<a href="http://www.runoob.com/php/func-filesystem-is-uploaded-file.html" target="_blank" rel="noopener">PHP is_uploaded_file() 函数</a>]</font><blockquote><p><font color="#FF7F00"><strong>功能：</strong></font>检查指定的文件是否是通过 <strong>HTTP POST</strong> 上传的。如果文件是通过 HTTP POST 上传的，该函数返回 TRUE。</p></blockquote><p><strong>语法： is_uploaded_file(file)</strong></p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">file</td><td style="text-align:left">必需。规定要检查的文件。</td></tr></tbody></table><p><strong>注意：</strong>该函数的结果会被缓存。请使用 <strong>clearstatcache()</strong> 来清除缓存。</p><p>示例：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token string">"test.txt"</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">is_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token string">"$file is uploaded via HTTP POST"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token string">"$file is not uploaded via HTTP POST"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter">?></span>上面的代码将输出：test<span class="token punctuation">.</span>txt is not uploaded via <span class="token constant">HTTP</span> <span class="token constant">POST</span></code></pre><p>&emsp;</p><h4 id="2-3-FILES-数组"><a href="#2-3-FILES-数组" class="headerlink" title="2.3  $_FILES 数组"></a><font color="#3CB371" face="Comic sans MS">2.3  $_FILES 数组</font></h4><p>当客户端上传文件后，我们在action=”xxxx.php”的xxxx.php页面就获得了一个<strong>$_FILES 数组 。</strong></p><font color="#FF7F00"><strong>$_FILES 数组内容如下:</strong> </font><table><thead><tr><th style="text-align:center">数组元素</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">$_FILES[“File”][“name”]</td><td style="text-align:left">上传文件的名称。 </td></tr><tr><td style="text-align:center">$_FILES[“File”][“type”]</td><td style="text-align:left">文件的 MIME 类型，需要浏览器提供该信息的支持，例如”image/gif”。 </td></tr><tr><td style="text-align:center">$_FILES[“File”][“size”]</td><td style="text-align:left">已上传文件的大小，单位为字节。 </td></tr><tr><td style="text-align:center">$_FILES[“File’][“tmp_name”]</td><td style="text-align:left">文件被上传后在服务端储存的临时文件名，一般是系统默认。可以在ph<br>p.ini的upload_tmp_dir 指定，但 用 putenv()函数设置是不起作用的。 </td></tr><tr><td style="text-align:center">$_FILES[“File”][“error”]</td><td style="text-align:left">和该文件上传相关的错误代码。[“error”] 是在 PHP 4.2.0 版本中增加的。<br>下面是它的说明：(它们在PHP3.0以后成了常量或0123467) </td></tr></tbody></table><p>&emsp;</p><font color="#00B2EE"><strong>$_FILES数组结构：</strong></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//var_dump()或print_r()</span><span class="token comment" spellcheck="true">//打印变量的相关信息,将变量的信息详细的展示出来</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token delimiter">?></span>打印出来的结果的数组结构如下：<span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token string">'file'</span> <span class="token operator">=</span><span class="token operator">></span>        <span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>       <span class="token comment" spellcheck="true">//文件名</span>      <span class="token string">'name'</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'psu.jpg'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span>       <span class="token comment" spellcheck="true">//文件的mime类型</span>      <span class="token string">'type'</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'image/jpeg'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>                          <span class="token comment" spellcheck="true">//缓存文件，上传的图片即保存在这里</span>      <span class="token string">'tmp_name'</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'E:\wamp\tmp\phpC32A.tmp'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">23</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">//错误码，详见上面错误码介绍</span>      <span class="token string">'error'</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">0</span>                                                   <span class="token comment" spellcheck="true">//上传的文件大小</span>      <span class="token string">'size'</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">225824</span></code></pre><p>&emsp;</p><h4 id="2-4-move-uploaded-file-函数"><a href="#2-4-move-uploaded-file-函数" class="headerlink" title="2.4  move_uploaded_file() 函数"></a><font color="#3CB371" face="Comic sans MS">2.4  move_uploaded_file() 函数</font></h4><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_move_uploaded_file.asp" target="_blank" rel="noopener">PHP move_uploaded_file() 函数</a>]</font><blockquote><p><font color="#FF7F00"><strong>功能：</strong></font>将上传的文件移动到新位置，并命名。</p></blockquote><p><strong>bool</strong> <font color="#00B2EE"><strong>move_uploaded_file ( file, newloc)</strong></font></p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">file</td><td style="text-align:left">必需。规定要移动的文件。上传后的临时文件名，由系统自动生成。</td></tr><tr><td style="text-align:center">newloc</td><td style="text-align:left">必需。规定文件的新位置。包含有路径的新的文件名。</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>注意：</strong></font></p><ol><li><strong>参数file一般为$_FILES[“File’][“tmp_name”]，</strong><font color="#FF7F00"><strong>是一个文件完整的临时路径和文件名；</strong></font></li><li><strong>参数newloc为新的路径，</strong><font color="#FF7F00"><strong>并且还要加上相应的重新命名文件的的格式。</strong></font></li><li><strong>本函数仅用于通过 HTTP POST 上传的文件。</strong></li><li>本函数检查并确保由 file 指定的文件<strong>是合法的上传文件</strong>（即通过 PHP 的 HTTP POST 上传机制所上传的）。如果文件合法，则将其移动为由 newloc 指定的文件。</li><li><font color="#FF7F00"><strong>返回值：</strong></font>如果 file 不是合法的上传文件，不会出现任何操作，move_uploaded_file() 将返回 false。<br>如果 file 是合法的上传文件，但出于某些原因无法移动，不会出现任何操作，move_uploaded_file() 将返回 false，此外还会发出一条警告。<br>这种检查显得格外重要，如果上传的文件有可能会造成对用户或本系统的其他用户显示其内容的话。</li><li>move_uploaded_file()基本上与函数<font color="#FF7F00">rename()</font>相同，<strong>但是它只能用于通过PHP的上传机制上传的文件</strong>。这是一项安全功能，可防止用户欺骗您的脚本，向他们显示与安全相关的数据。</li></ol></blockquote><p>&emsp;<br>&emsp;</p><h3 id="三-文件上传的步骤"><a href="#三-文件上传的步骤" class="headerlink" title="三. 文件上传的步骤"></a><font color="#FF6347" face="Comic sans MS">三. 文件上传的步骤</font></h3><h4 id="3-1-判断是否有错误码"><a href="#3-1-判断是否有错误码" class="headerlink" title="3.1 判断是否有错误码"></a><font color="#3CB371" face="Comic sans MS">3.1 判断是否有错误码</font></h4><p>使用数组元素：<font color="red"><strong>$_FILES[‘file’][‘error’]</strong></font><br>即判断<font color="#FF7F00">$_FILES[‘file’][‘error’]返回值！！</font><br>注：错误码中没有5。</p><table><thead><tr><th style="text-align:center">错误码<br>对应常量</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">0<br>UPLOAD_ERR_OK</td><td style="text-align:left">无误，可以继续进行文件上传的后续操作。</td></tr><tr><td style="text-align:center">1<br>UPLOAD_ERR_INI_SIZE</td><td style="text-align:left">超出上传文件的最大限制，upload_max_filesize = 2M php.ini中设置，一<br>般默认为2M。可根据项目中的实际需要来修改</td></tr><tr><td style="text-align:center">2<br>UPLOAD_ERR_FORM_SIZE</td><td style="text-align:left">超出了指定的文件大小,根据项目的业务需求指定上传文件的大小限制</td></tr><tr><td style="text-align:center">3<br>UPLOAD_ERR_PARTIAL</td><td style="text-align:left">只有部分文件被上传</td></tr><tr><td style="text-align:center">4<br>UPLOAD_ERR_NO_FILE</td><td style="text-align:left">文件没有被上传</td></tr><tr><td style="text-align:center">6</td><td style="text-align:left">找不到临时文件夹，可能目录不存在或没权限</td></tr><tr><td style="text-align:center">7</td><td style="text-align:left">文件写入失败，可能磁盘满了或没有权限</td></tr></tbody></table><p>&emsp;<br>示例：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//错误码不为0，即文件上传过程中出现了错误</span>       <span class="token keyword">case</span> <span class="token string">'1'</span><span class="token punctuation">:</span>           <span class="token keyword">echo</span> <span class="token string">'文件过大'</span><span class="token punctuation">;</span>           <span class="token keyword">break</span><span class="token punctuation">;</span>       <span class="token keyword">case</span> <span class="token string">'2'</span><span class="token punctuation">:</span>           <span class="token keyword">echo</span> <span class="token string">'文件超出指定大小'</span><span class="token punctuation">;</span>           <span class="token keyword">break</span><span class="token punctuation">;</span>       <span class="token keyword">case</span> <span class="token string">'3'</span><span class="token punctuation">:</span>           <span class="token keyword">echo</span> <span class="token string">'只有部分文件被上传'</span><span class="token punctuation">;</span>           <span class="token keyword">break</span><span class="token punctuation">;</span>       <span class="token keyword">case</span> <span class="token string">'4'</span><span class="token punctuation">:</span>           <span class="token keyword">echo</span> <span class="token string">'文件没有被上传'</span><span class="token punctuation">;</span>           <span class="token keyword">break</span><span class="token punctuation">;</span>       <span class="token keyword">case</span> <span class="token string">'6'</span><span class="token punctuation">:</span>           <span class="token keyword">echo</span> <span class="token string">'找不到指定文件夹'</span><span class="token punctuation">;</span>           <span class="token keyword">break</span><span class="token punctuation">;</span>       <span class="token keyword">case</span> <span class="token string">'7'</span><span class="token punctuation">:</span>           <span class="token keyword">echo</span> <span class="token string">'文件写入失败'</span><span class="token punctuation">;</span>           <span class="token keyword">break</span><span class="token punctuation">;</span>       <span class="token keyword">default</span><span class="token punctuation">:</span>           <span class="token keyword">echo</span> <span class="token string">"上传出错&lt;br/>"</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>   <span class="token comment" spellcheck="true">//错误码为0，即上传成功，可以进行后续处理，处理流程见下文</span><span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h4 id="3-2-判断是否超出文件大小范围"><a href="#3-2-判断是否超出文件大小范围" class="headerlink" title="3.2 判断是否超出文件大小范围"></a><font color="#3CB371" face="Comic sans MS">3.2 判断是否超出文件大小范围</font></h4><p>使用数组元素：<font color="red"><strong>$_FILES[“File’][“size”]</strong></font></p><p>&emsp;<br>示例：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//判断错误</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//有错误可停止执行</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//当前上传文件无误，运行本段代码</span>    <span class="token comment" spellcheck="true">//判断文件是否超出了指定的大小</span>    <span class="token comment" spellcheck="true">//单位为byte</span>    <span class="token variable">$MAX_FILE_SIZE</span> <span class="token operator">=</span> <span class="token number">100000</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span> <span class="token operator">></span> <span class="token variable">$MAX_FILE_SIZE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//判断，如果上传的文件，大小超出了我们给的限制范围，退上传并产生错误提示</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">"文件超出指定大小"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><blockquote><p>将我们指定的文件大小，定义为$MAX_FILE_SIZE，该变量的计数单位为byte，对应上传文件的 $_FILES[‘file’][‘size’]大小。<br>示例代码中，限制大小约为100K及以下的文件。</p></blockquote><p>&emsp;<br>&emsp;</p><h4 id="3-3-判断后缀名和mime类型是否符合"><a href="#3-3-判断后缀名和mime类型是否符合" class="headerlink" title="3.3 判断后缀名和mime类型是否符合"></a><font color="#3CB371" face="Comic sans MS">3.3 判断后缀名和mime类型是否符合</font></h4><p>使用数组元素：<font color="red"><strong>$_FILES[“File”][“type”]</strong></font></p><blockquote><ol><li><strong>MIME</strong>(Multipurpose Internet Mail Extensions)是多用途互联网邮件扩展类型。是设定某种扩展名的文件用一种应用程序来打开的方式类型，当该扩展名文件被访问的时候，浏览器会自动使用指定应用程序来打开。多用于指定一些客户端自定义的文件名，以及一些媒体文件打开方式。</li><li>在判断后缀和MIME类型的时候，我们会<font color="#FF7F00">用到PHP的一个函数<strong>in_array()</strong></font>,该函数传入两个参数。<br>第一个参数是要判断的值；<br>第二个参数是范围数组。<br>我们用这个函数来判断文件的后缀名和mime类型是否在允许的范围内。</li></ol></blockquote><p>&emsp;<br>示例：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">/*判断后缀名和MIME类型是否符合指定需求例如:当前项目指定上传后缀为.jpg或.gif的图片，则$allowSuffix = array('jpg','gif');*/</span><span class="token comment" spellcheck="true">//定义允许的后缀名数组</span><span class="token variable">$myImg</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*explode() 将一个字符串用指定的字符切割，并返回一个数组，这里我们将文件名用'.''切割,结果存在$myImg中，文件的后缀名即为数组的最后一个值*/</span><span class="token variable">$myImgSuffix</span> <span class="token operator">=</span> <span class="token function">array_pop</span><span class="token punctuation">(</span><span class="token variable">$myImg</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*根据上传文件名获取文件的后缀名使用in_array()函数，判断上传文件是否符合要求当文件后缀名不在我们允许的范围内时退出上传并返回错误信息*/</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$myImgSuffix</span><span class="token punctuation">,</span> <span class="token variable">$allowSuffix</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">"文件后缀名不符"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*mime类型和文件后缀名的对应关系，我们可以通过很多途径查询到，为了避免用户自主修改文件后缀名造成文件无法使用。mime类型也必须做出限制检查mime类型，是为了防止上传者直接修改文件后缀名导致文件不可用或上传的文件不符合要求。*/</span><span class="token comment" spellcheck="true">//数组内容为允许上传的mime类型</span><span class="token variable">$allowMime</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>    <span class="token string">"image/jpg"</span><span class="token punctuation">,</span>    <span class="token string">"image/jpeg"</span><span class="token punctuation">,</span>    <span class="token string">"image/pjpeg"</span><span class="token punctuation">,</span>    <span class="token string">"image/gif"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$allowMime</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                          <span class="token comment" spellcheck="true">//判断上传文件的mime类型是否在允许的范围内</span>    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">'文件格式不正确，请检查'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//如果不在允许范围内，退出上传并返回错误信息</span><span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h4 id="3-4-生成指定的路径和文件名"><a href="#3-4-生成指定的路径和文件名" class="headerlink" title="3.4 生成指定的路径和文件名"></a><font color="#3CB371" face="Comic sans MS">3.4 生成指定的路径和文件名</font></h4><p>我们的文件上传成功了，不会让它保存原名。<br>因为，有些人在原名中有敏感关键词会违反我国的相关法律和法规。<br>我们可以采用<font color="#FF7F00">date()、mt_rand()</font>或者<font color="#FF7F00">unique()</font>生成随机的文件名。</p><blockquote><ol><li><font color="#FF7F00"><strong>$_FILES[“file”][“tmp_name”]：</strong></font>文件被上传结束后，默认地被存储在了临时目录中，这时您必须将它从临时目录中删除或移动到其它地方，如果没有，则会被删除。也就是不管是否上传成功，脚本执行完后临时目录里的文件肯定会被删除。所以在删除之前要用PHP的 copy() 函数将它复制到其它位置，此时，才算完成了上传文件过程。</li><li>按照项目的文件安排，生成文件存储路径，为了避免文件名重复而产生的错误，按照一定的格式，生成一个随机文件名。</li></ol></blockquote><p>&emsp;<br>示例：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//指定上传文件夹</span><span class="token variable">$path</span> <span class="token operator">=</span> <span class="token string">"upload/images/"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*根据当前时间生成随机文件名，本行代码是使用当前时间 + 随机一个0-9的数字组合成文件名，后缀即为前面取到的文件后缀名*/</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'Y'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'m'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'H'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token string">'.'</span><span class="token punctuation">.</span><span class="token variable">$myImgSuffix</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h4 id="3-5-判断是否是上传文件"><a href="#3-5-判断是否是上传文件" class="headerlink" title="3.5  判断是否是上传文件"></a><font color="#3CB371" face="Comic sans MS">3.5  判断是否是上传文件</font></h4><p>使用函数：<font color="red"><strong>is_uploaded_file()</strong></font></p><blockquote><ol><li>文件上传成功时，系统会将上传的临时文件上传到系统的临时目录中。产生一个临时文件。</li><li>同时会产生临时文件名。我们需要做的事情是将临时文件移动到系统的指定目录中。</li><li>而移动前不能瞎移动，或者移动错了都是不科学的。移动前我们需要使用相关函数判断上传的文件是不是临时文件。</li><li><font color="#FF7F00"><strong>is_uploaded_file()</strong></font>传入一个参数($_FILES中的缓存文件名)，判断传入的名称是不是上传文件。</li></ol></blockquote><p>&emsp;<br>is_uploaded_file()函数是专用的函数，来判断目标文件是否是上传文件。</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//使用is_uploaded_file()判断是否是上传文件,函数介绍见上文</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">is_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$_FILEs</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h4 id="3-6-移动临时文件到指定位置"><a href="#3-6-移动临时文件到指定位置" class="headerlink" title="3.6  移动临时文件到指定位置"></a><font color="#3CB371" face="Comic sans MS">3.6  移动临时文件到指定位置</font></h4><p>使用函数：<font color="red"><strong>move_uploaded_file()</strong></font>和数组元素：<font color="red"><strong>$_FILES[“file”][“tmp_name”]</strong></font></p><blockquote><ol><li>临时文件是真实的临时文件，我们需要将其移动到我们的网站目录下面,让我们网站目录的数据，其他人可以访问到。</li><li>我们使用：<font color="#FF7F00">move_uploaded_file()</font>。<br>这个函数是<font color="#FF7F00"><strong>将上传文件移动到指定位置，并命名</strong></font>。<br>传入两个参数：<br>第一个参数是指定移动的上传文件；<br>第二个参数是指定的文件夹和名称拼接的字符串。</li><li>需要注意的是，Linux系统中对目标目录是否有权限及磁盘空间是否足够，否则会导致上传操作失败。</li></ol></blockquote><p>&emsp;<br>示例：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">/*使用move_uploaded_file()移动上传文件至指定位置,第一个参数为上传文件，第二个参数为我们在前面指定的上传路径和名称。*/</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">move_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$_FILEs</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$path</span><span class="token punctuation">.</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>           <span class="token comment" spellcheck="true">//提示文件上传成功</span>           <span class="token keyword">echo</span> <span class="token string">"上传成功"</span><span class="token punctuation">;</span>                                       <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">/*文件移动失败，检查磁盘是否有足够的空间，或者linux类系统中文件夹是否有足够的操作权限*/</span>           <span class="token keyword">echo</span> <span class="token string">'上传失败'</span><span class="token punctuation">;</span>                                                       <span class="token punctuation">}</span>   <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>       <span class="token keyword">echo</span> <span class="token string">'不是上传文件'</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="四-多文件上传"><a href="#四-多文件上传" class="headerlink" title="四. 多文件上传"></a><font color="#FF6347" face="Comic sans MS">四. 多文件上传</font></h3><p>多文件上传原理相同，<font color="#FF7F00"><strong>不过在处理数据时，需要对上传数据进行特殊处理</strong>。</font></p><p>&emsp;<br>示例：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>单文件上传<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>morefile.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>multipart/form-data<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file[]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  //name比单文件上传时多了[]        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file[]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  //name比单文件上传时多了[]        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>上传<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><blockquote><p>这里是一个简易的上传页面，form表单同时提交了两个文件。我们 可以通过这个页面提交内容。</p></blockquote><font color="#FF7F00"><strong>注意：</strong></font><br>1. input type=”file” name=”file[]”与之前相比file后<font color="#FF7F00"><strong>多加了一个中括号</strong></font><br>2. 写了2个或者多个input type=”file” name=”file[]”<br>我们使用 $_FILES 来接收文件信息，打印并查看数组：<br><br><font color="#FF7F00"></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span> <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//打印$_FILES查看数组结构 </span><span class="token delimiter">?></span>输出如下：<span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>      <span class="token string">'file'</span> <span class="token operator">=</span><span class="token operator">></span>          <span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>     <span class="token string">'name'</span> <span class="token operator">=</span><span class="token operator">></span>          <span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true">//文件名 </span>        <span class="token number">0</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'psu.jpg'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span>         <span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'qwe.jpg'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">//文件mime类型 </span>    <span class="token string">'type'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>             <span class="token number">0</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'image/jpeg'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>             <span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'image/jpeg'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">//缓存文件 </span>    <span class="token string">'tmp_name'</span> <span class="token operator">=</span><span class="token operator">></span>          <span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>             <span class="token number">0</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'E:\wamp\tmp\phpF6D5.tmp'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">23</span><span class="token punctuation">)</span>             <span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'E:\wamp\tmp\phpF6F5.tmp'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">23</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">//文件错误信息 </span>    <span class="token string">'error'</span> <span class="token operator">=</span><span class="token operator">></span>          <span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>             <span class="token number">0</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">0</span>             <span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">0</span>     <span class="token comment" spellcheck="true">//文件大小 </span>    <span class="token string">'size'</span> <span class="token operator">=</span><span class="token operator">></span>          <span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>         <span class="token number">0</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">225824</span>             <span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">151651</span></code></pre><blockquote><ol><li>我们可以看到，两个文件被存储在一个数组中，<font color="#FF7F00"><strong>键名和上传单文件是相同</strong></font>。所以，需要我们for()循环，来分别取出两个文件的需要用到的数据。</li><li>在$_FILES中同时保存了两个文件的数据，我们需要使用一个简单的循环，来读取单个文件的信息，并将文件移动到我们想要放的位置。</li></ol></blockquote><p>&emsp;</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$_FILE</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">/* 用is_uploaded_file()函数判断是上传文件 并且没有出现错 */</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">is_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$_FILEs</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$_FILEs</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">move_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$_FILEs</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'upload/'</span><span class="token punctuation">.</span><span class="token variable">$_FILE</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token comment" spellcheck="true">//用move_uploaded_file()函数移动文件到指定的位置并使用文件原名 </span>   <span class="token keyword">echo</span> <span class="token string">"上传成功"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token string">'上传失败'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string">'上传失败'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="五-单文件上传完整代码"><a href="#五-单文件上传完整代码" class="headerlink" title="五. 单文件上传完整代码"></a><font color="#FF6347" face="Comic sans MS">五. 单文件上传完整代码</font></h3><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//错误码不为0，即文件上传过程中出现了错误</span> <span class="token keyword">case</span> <span class="token string">'1'</span><span class="token punctuation">:</span> <span class="token keyword">echo</span> <span class="token string">'文件过大'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token string">'2'</span><span class="token punctuation">:</span> <span class="token keyword">echo</span> <span class="token string">'文件超出指定大小'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token string">'3'</span><span class="token punctuation">:</span> <span class="token keyword">echo</span> <span class="token string">'只有部分文件被上传'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token string">'4'</span><span class="token punctuation">:</span> <span class="token keyword">echo</span> <span class="token string">'文件没有被上传'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token string">'6'</span><span class="token punctuation">:</span> <span class="token keyword">echo</span> <span class="token string">'找不到指定文件夹'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token string">'7'</span><span class="token punctuation">:</span> <span class="token keyword">echo</span> <span class="token string">'文件写入失败'</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token keyword">echo</span> <span class="token string">"上传出错&lt;br/>"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token variable">$MAX_FILE_SIZE</span> <span class="token operator">=</span> <span class="token number">100000</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span> <span class="token operator">></span> <span class="token variable">$MAX_FILE_SIZE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">"文件超出指定大小"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token variable">$allowSuffix</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string">'jpg'</span><span class="token punctuation">,</span> <span class="token string">'gif'</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token variable">$myImg</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token variable">$myImgSuffix</span> <span class="token operator">=</span> <span class="token function">array_pop</span><span class="token punctuation">(</span><span class="token variable">$myImg</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$myImgSuffix</span><span class="token punctuation">,</span> <span class="token variable">$allowSuffix</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">"文件后缀名不符"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token variable">$allowMime</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string">"image/jpg"</span><span class="token punctuation">,</span> <span class="token string">"image/jpeg"</span><span class="token punctuation">,</span> <span class="token string">"image/pjpeg"</span><span class="token punctuation">,</span> <span class="token string">"image/gif"</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$allowMime</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">'文件格式不正确，请检查'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token variable">$path</span> <span class="token operator">=</span> <span class="token string">"upload/images/"</span><span class="token punctuation">;</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'Y'</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'m'</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'H'</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token string">'.'</span> <span class="token punctuation">.</span> <span class="token variable">$myImgSuffix</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$_FILEs</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">move_uploaded_file</span><span class="token punctuation">(</span><span class="token variable">$_FILEs</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tmp_name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$path</span> <span class="token punctuation">.</span> <span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">echo</span> <span class="token string">"上传成功"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">echo</span> <span class="token string">'上传失败'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">echo</span> <span class="token string">'不是上传文件'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;(。・∀・)ノ&lt;br&gt;
    
    </summary>
    
      <category term="PHP" scheme="Treecatee.gitgub.io/categories/PHP/"/>
    
    
      <category term="PHP语言" scheme="Treecatee.gitgub.io/tags/PHP%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>PHP-文件系统</title>
    <link href="Treecatee.gitgub.io/post/php-filesystem/"/>
    <id>Treecatee.gitgub.io/post/php-filesystem/</id>
    <published>2019-02-20T05:29:20.000Z</published>
    <updated>2019-03-06T16:37:44.250Z</updated>
    
    <content type="html"><![CDATA[<p>学习文件处理本质上面就是学习<font color="#00B2EE"><strong>文件处理的函数。</strong></font> ヾ(๑╹◡╹)ﾉ”<br><a id="more"></a></p><p>&ensp;<br>&ensp;</p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>PHP 文件系统</strong></font></center><p>&emsp;<br>&emsp;</p><h3 id="一-读取文件"><a href="#一-读取文件" class="headerlink" title="一. 读取文件"></a><font color="#FF6347" face="Comic sans MS">一. 读取文件</font></h3><p>&emsp;</p><h4 id="1-1-readfile读取文件"><a href="#1-1-readfile读取文件" class="headerlink" title="1.1 readfile读取文件"></a><font color="#3CB371" face="Comic sans MS">1.1 readfile读取文件</font></h4><p>读取一个文件内容的函数：<font color="#00B2EE" face="Comic sans MS"><strong>int readfile ( string $文件名)</strong></font></p><blockquote><font color="#FF7F00"><strong>功能：传入一个文件路径，输出这个文件里面的内容。</strong></font></blockquote><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php   //linux类的读取方式   readfile<span class="token punctuation">(</span><span class="token string">"/home/paul/test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   //windows类的读取方式   readfile<span class="token punctuation">(</span><span class="token string">"c:\\boot.ini"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><blockquote><p><strong>注意：</strong>上面的代码中windows的斜线是\斜线，可能会转义掉一些字符。因此，我们写的时候写上两个斜线。</p></blockquote><p>&emsp;<br>&emsp;</p><h4 id="1-2-file-get-contents打开文件"><a href="#1-2-file-get-contents打开文件" class="headerlink" title="1.2 file_get_contents打开文件"></a><font color="#3CB371" face="Comic sans MS">1.2 file_get_contents打开文件</font></h4><font face="Comic sans MS">上面的是单纯打文件就直接输出了，有没有打开文件后，能够赋值给一个变量的操作方式呢。</font><br><font color="#00B2EE" face="Comic sans MS"><strong>string file_get_contents ( string filename)</strong></font><blockquote><font color="#FF7F00"><strong>功能：传入一个文件或文件路径，打开这个文件<font color="#00B2EE">返回</font>文件的内容。文件的内容是一个字符串。</strong></font></blockquote><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php   <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'NoAlike.txt'</span><span class="token punctuation">;</span>   <span class="token variable">$filestring</span> <span class="token operator">=</span> file_get_contents<span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">echo</span> <span class="token variable">$filestring</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><blockquote><p>上面的代码，就打开了一个文件，并且将文件当中的内容进行了输出。</p></blockquote><p>&emsp;<br>我们来针对之前的知识把代码进行一下扩展。用一用之前的知识点。</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token comment" spellcheck="true">//假设我们有一个多行的文件叫NoAlike.txt，没有的话你可以新建一个这个文件</span>    <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'NoAlike.txt'</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//打开这个文件，将文件内容赋值给$filestring</span>   <span class="token variable">$filestring</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//因为每一行有一个回车即\n，我用\n来把这个字符串切割成数组</span>   <span class="token variable">$filearray</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">,</span> <span class="token variable">$filestring</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//把切割成的数组，下标赋值给$key,值赋值给$val，每次循环将$key加1。</span>   <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$val</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">each</span><span class="token punctuation">(</span><span class="token variable">$filearray</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token operator">++</span><span class="token variable">$key</span><span class="token punctuation">;</span>       <span class="token variable">$val</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$val</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//用的单引号，单引号不解释变量进行了拼接而已</span>       <span class="token keyword">print</span> <span class="token string">'Line'</span> <span class="token punctuation">.</span> <span class="token variable">$key</span> <span class="token punctuation">.</span><span class="token string">':'</span><span class="token punctuation">.</span>  <span class="token variable">$val</span><span class="token punctuation">.</span><span class="token string">'&lt;br />'</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;</p><font face="Comic sans MS">上述的<font color="#00B2EE">explode()、list()</font>两个字符串函数和<font color="#00B2EE">each()</font>数组函数。<br><font color="red"><strong>1. explode()函数：</strong></font><strong>把字符串打散为数组</strong>。</font><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_string_explode.asp" target="_blank" rel="noopener">PHP explode() 函数</a>]</font>&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/php_ref_string.asp" target="_blank" rel="noopener">PHP String 函数</a>]</font><br>语法：explode(separator,string,limit)<br><font color="red"></font><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">separator</td><td style="text-align:left">必需。规定在哪里分割字符串。</td></tr><tr><td style="text-align:center">string</td><td style="text-align:left">必需。要分割的字符串。</td></tr><tr><td style="text-align:center">limit</td><td style="text-align:left">可选。规定所返回的数组元素的数目。<br>可能的值：<br>大于 0 - 返回包含最多 limit 个元素的数组<br>小于 0 - 返回包含除了最后的 -limit 个元素以外的所有元素的数组<br>0 - 返回包含一个元素的数组</td></tr></tbody></table><p>&emsp;</p><font face="Comic sans MS"><font color="red"><strong>2. list()函数：</strong></font><strong>把数组中的值赋给一些变量,在一次操作中给一组变量赋值。</strong></font><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_array_list.asp" target="_blank" rel="noopener">PHP list() 函数</a>]</font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$my_array</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string">"Dog"</span><span class="token punctuation">,</span><span class="token string">"Cat"</span><span class="token punctuation">,</span><span class="token string">"Horse"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">,</span> <span class="token variable">$b</span><span class="token punctuation">,</span> <span class="token variable">$c</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token variable">$my_array</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"I have several animals, a $a, a $b and a $c."</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="red"><strong>3. each()函数：</strong></font><strong>返回当前元素的键名和键值。该元素的键名和键值返回到带有四个元素的数组中。<br>两个元素（1 和 Value）包含键值，两个元素（0 和 Key）包含键名。</strong></font><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_array_each.asp" target="_blank" rel="noopener">PHP each() 函数</a>]</font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$people</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string">"Bill"</span><span class="token punctuation">,</span> <span class="token string">"Steve"</span><span class="token punctuation">,</span> <span class="token string">"Mark"</span><span class="token punctuation">,</span> <span class="token string">"David"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token variable">$people</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token variable">$people</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span>运行结果：G<span class="token punctuation">:</span>\<span class="token package">WAMP<span class="token punctuation">\</span>www<span class="token punctuation">\</span>2</span><span class="token operator">-</span><span class="token number">20</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>php<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'Bill'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token string">'value'</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'Bill'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token number">0</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">0</span>  <span class="token string">'key'</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">0</span>G<span class="token punctuation">:</span>\<span class="token package">WAMP<span class="token punctuation">\</span>www<span class="token punctuation">\</span>2</span><span class="token operator">-</span><span class="token number">20</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>php<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token number">1</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'Steve'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token string">'value'</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'Steve'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token number">0</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">1</span>  <span class="token string">'key'</span> <span class="token operator">=</span><span class="token operator">></span> int <span class="token number">1</span></code></pre><p>&emsp;<br>&emsp;</p><h4 id="1-3-fopen、fread、fclose操作读取文件"><a href="#1-3-fopen、fread、fclose操作读取文件" class="headerlink" title="1.3 fopen、fread、fclose操作读取文件"></a><font color="#3CB371" face="Comic sans MS">1.3 fopen、fread、fclose操作读取文件</font></h4><p>上面file_get_contents打开文件的方式简单、粗暴。下面的</p><font face="Comic sans MS"><font color="#00B2EE"><strong>resource fopen ( string $文件名, string 模式)<br>string fread ( resource $操作资源, int 读取长度)<br>bool fclose ( resource $操作资源 )</strong></font><p>通过上面的函数我们来讲解<strong>资源类型</strong>的通常操作方式：<br>1.打开资源<br>2.使用相关函数进行操作<br>3.关闭资源<br>&emsp;</p><font color="red"><strong>1. fopen函数：</strong></font><strong>打开文件，返回一个资源</strong><br>参数主要有两个：1.文件打开的路径，2.打开文件的模式<br>例：$fp=fopen(‘NoAlike.txt’, “r”);<br></font><blockquote><p><strong>返回类型是一个资源类型。<br>资源类型需要其他的函数来操作这个资源。</strong><font color="#FF7F00"><strong>所有的资源有打开就要有关闭。</strong></font></p></blockquote><font face="Comic sans MS"><font color="red"><strong>2. fread函数：</strong></font><strong>读取打开的文件资源。</strong><br>也包含两个参数，读取指定长度的文件资源，读取一部份向后移动一部份。至到文件结尾。<br>例：$contents = fread($fp, 1024);<br></font><p>&emsp;</p><font face="Comic sans MS"><font color="red"><strong>3. fclose函数：</strong></font><strong>fclose函数的功能是关闭资源。资源有打开就有关闭。</strong><br>包含一个参数，这个参数就是fopen()返回的资源。<br>例：fclose($fp);<br></font> <p>&emsp;    </p><font color="#FF7F00"><strong>fopen的模式</strong></font>有下面几个(。・∀・)ノ<br><font color="red"></font><table><thead><tr><th style="text-align:center">模式</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">r</td><td style="text-align:left">只读方式打开，将文件指针指向文件头。</td></tr><tr><td style="text-align:center">r+</td><td style="text-align:left">读写方式打开，将文件指针指向文件头。</td></tr><tr><td style="text-align:center">w</td><td style="text-align:left">写入方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建</td></tr><tr><td style="text-align:center">w+</td><td style="text-align:left">读写方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建</td></tr><tr><td style="text-align:center">a</td><td style="text-align:left">写入方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建</td></tr><tr><td style="text-align:center">a+</td><td style="text-align:left">读写方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建之</td></tr><tr><td style="text-align:center">x</td><td style="text-align:left">创建并以写入方式打开，将文件指针指向文件头。如果文件已存在，则 fopen() 调用失败并返回<br> FALSE，并生成一条 E_WARNING 级别的错误信息。如果文件不存在则尝试创建</td></tr><tr><td style="text-align:center">x+</td><td style="text-align:left">创建并以读写方式打开，将文件指针指向文件头。如果文件已存在，则 fopen() 调用失败并返回 <br>FALSE，并生成一条 E_WARNING 级别的错误信息。如果文件不存在则尝试创建</td></tr></tbody></table><p>&emsp;</p><font color="#00B2EE"><strong>r模式示例：</strong></font><br>1.打开文件：fopen()<br><font color="red"></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token comment" spellcheck="true">//你可以创建一个NoAlike.txt，以只读模式打开</span>   <span class="token variable">$fp</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">'NoAlike.txt'</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//var_dump()操作一下$fp看看效果，输出的是不是只有类型提示的是resource</span>   <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>2.读取文件：fread()</p><font color="red"></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token variable">$fp</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">'NoAlike.txt'</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//打开一个文件类型后，读取长度</span>   <span class="token variable">$contents</span> <span class="token operator">=</span> <span class="token function">fread</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>3.关闭文件：fclose()</p><font color="red"></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token variable">$fp</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token variable">$contents</span> <span class="token operator">=</span> <span class="token function">fread</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">echo</span> <span class="token variable">$contents</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br><strong>其他注意事项：</strong></p><table><thead><tr><th style="text-align:center">模式</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">t</td><td style="text-align:left">windows下将\n转为\r\n</td></tr><tr><td style="text-align:center">b</td><td style="text-align:left">二进制打开模式</td></tr></tbody></table><blockquote><p><font color="#FF7F00"><strong>说明：</strong></font><br>Windows 下提供了一个文本转换标记（’t’）可以透明地将 \n 转换为 \r\n。<br>与此对应还可以使用 ‘b’ 来强制使用二进制模式，这样就不会转换数据。要使用这些标记，要么用 ‘b’ 或者用 ‘t’ 作为 mode 参数的最后一个字符。</p></blockquote><p>&emsp;<br>&emsp;</p><h3 id="二-创建和修改文件内容"><a href="#二-创建和修改文件内容" class="headerlink" title="二. 创建和修改文件内容"></a><font color="#FF6347" face="Comic sans MS">二. 创建和修改文件内容</font></h3><h4 id="2-1-file-put-contents写入文件"><a href="#2-1-file-put-contents写入文件" class="headerlink" title="2.1 file_put_contents写入文件"></a><font color="#3CB371" face="Comic sans MS">2.1 file_put_contents写入文件</font></h4><font face="Comic sans MS"><font color="#00B2EE"><strong>int file_put_contents ( string $文件路径, string $写入数据])</strong></font><br></font><blockquote><p><strong>功能：向指定的文件当中写入一个字符串，如果文件不存在则创建文件。返回的是写入的字节长度</strong></p></blockquote><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token string">"在PHP中文网学好PHP，妹子票子不再话下！"</span><span class="token punctuation">;</span>   <span class="token variable">$numbytes</span> <span class="token operator">=</span> <span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token string">'bin.txt'</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$numbytes</span><span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">//$numbytes接收到整形的数字</span>       <span class="token keyword">echo</span> <span class="token string">'写入成功，我们读取看看结果试试：'</span><span class="token punctuation">;</span>       <span class="token keyword">echo</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token string">'bin.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>       <span class="token keyword">echo</span> <span class="token string">'写入失败或者没有权限，注意检查'</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;</p><h4 id="2-2-fwrite配合fopen进行写入操作、fopen-打开模式的比较"><a href="#2-2-fwrite配合fopen进行写入操作、fopen-打开模式的比较" class="headerlink" title="2.2 fwrite配合fopen进行写入操作、fopen()打开模式的比较"></a><font color="#3CB371" face="Comic sans MS">2.2 fwrite配合fopen进行写入操作、fopen()打开模式的比较</font></h4><font face="Comic sans MS"><font color="#00B2EE"><strong>int fwrite ( resource $文件资源变量, string $写入的字符串 [, int 长度])</strong></font><br>注：fwrite的别名函数是fputs<br><br><font color="red"><strong>1. fopen()的w模式：</strong></font>写入方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建。每一次写入新的数据时，都会将原来的数据清空之后才写入！<br></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span><span class="token punctuation">;</span>   <span class="token variable">$fp</span><span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token variable">$len</span> <span class="token operator">=</span> <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">,</span> <span class="token string">'我是一只来自北方的狼，却在南方冻成了狗'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">print</span> <span class="token variable">$len</span> <span class="token punctuation">.</span><span class="token string">'字节被写入了\n'</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><blockquote><p><font color="#FF7F00"><strong>总结：</strong></font><br><strong>1. 不论有没有新建都会打开文件重新写入<br>2.原有的文件内容会被覆盖掉<br>3.文件不存在会创建</strong></p></blockquote><p>那我们来对比一下以下几个模式的不同：</p><table><thead><tr><th style="text-align:center">模式</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:center">r</td><td style="text-align:left">只能读不能使用fwrite写</td></tr><tr><td style="text-align:center">r+</td><td style="text-align:left">可操作读、写(可使用fwrite写入)</td></tr><tr><td style="text-align:center">w</td><td style="text-align:left">只可以写功能</td></tr><tr><td style="text-align:center">w+</td><td style="text-align:left">即可读又可以写</td></tr></tbody></table><p>&emsp;</p><h4 id="2-3-a模式和w模式、x模式和w模式的不同"><a href="#2-3-a模式和w模式、x模式和w模式的不同" class="headerlink" title="2.3 a模式和w模式、x模式和w模式的不同"></a><font color="#3CB371" face="Comic sans MS">2.3 a模式和w模式、x模式和w模式的不同</font></h4><font color="#FF7F00"><strong>1. a模式和w模式总结：</strong></font><table><thead><tr><th style="text-align:center">模式</th><th style="text-align:left">总结</th></tr></thead><tbody><tr><td style="text-align:center">x</td><td style="text-align:left">每次写入会干掉原有文件的内容，文件不存在都会创建</td></tr><tr><td style="text-align:center">a</td><td style="text-align:left">每次写入都会向文件的尾端追加内容</td></tr></tbody></table><p>&emsp;</p><font color="#FF7F00"><strong>2. x模式和w模式总结：</strong></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span><span class="token punctuation">;</span>   <span class="token variable">$fp</span><span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token variable">$len</span> <span class="token operator">=</span> <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">,</span><span class="token string">'读大学迷茫了，PHP中文网学PHP给你希望'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">echo</span>  <span class="token variable">$len</span> <span class="token punctuation">.</span><span class="token string">'字节被写入了\n'</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><blockquote><p><strong>总结：</strong><br>   1.文件存在的时候会报错<br>   2.如果把$filename 改成其他的文件名,就可以了。但是，再次刷新的时候又报错了<br>   3.x+ 是增强的x模式。读取时也可以使用。</p></blockquote><p>&emsp;<br>&emsp;</p><h3 id="三-创建临时文件"><a href="#三-创建临时文件" class="headerlink" title="三. 创建临时文件"></a><font color="#FF6347" face="Comic sans MS">三. 创建临时文件</font></h3><p>使用这个函数：<font color="#00B2EE"><strong>resource tmpfile ( )</strong></font></p><blockquote><p><strong>功能：创建一个临时文件，返回资源类型。关闭文件即被删除。</strong></p></blockquote><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php   //创建了一个临时文件,创建后并且打开这个文件       <span class="token variable">$handle</span> <span class="token operator">=</span> tmpfile<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   //向里面写入了数据   <span class="token variable">$numbytes</span> <span class="token operator">=</span> fwrite<span class="token punctuation">(</span><span class="token variable">$handle</span>, <span class="token string">'写入临时文件'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   //关闭临时文件，文件即被删除   fclose<span class="token punctuation">(</span><span class="token variable">$handle</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">echo</span>  <span class="token string">'向临时文件中写入了'</span><span class="token keyword">.</span><span class="token variable">$numbytes</span> <span class="token keyword">.</span> <span class="token string">'个字节'</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="四-移动、拷贝和删除文件"><a href="#四-移动、拷贝和删除文件" class="headerlink" title="四. 移动、拷贝和删除文件"></a><font color="#FF6347" face="Comic sans MS">四. 移动、拷贝和删除文件</font></h3><h4 id="4-1-重命名文件"><a href="#4-1-重命名文件" class="headerlink" title="4.1 重命名文件"></a><font color="#3CB371" face="Comic sans MS">4.1 重命名文件</font></h4><font face="Comic sans MS"><strong>bool</strong> <font color="#00B2EE"><strong>rename(oldname,newname,context)</strong></font>;<br></font><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">oldname</td><td style="text-align:left">必需。规定要重命名的<strong>文件</strong>或<strong>目录(文件夹)</strong>。</td></tr><tr><td style="text-align:center">newname</td><td style="text-align:left">必需。规定文件或目录的新名称。</td></tr><tr><td style="text-align:center">context</td><td style="text-align:left">可选。规定文件句柄的环境。context 是可修改流的行为的一套选项。</td></tr></tbody></table><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token comment" spellcheck="true">//旧文件名</span>   <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'test.php.old'</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//新文件名</span>   <span class="token variable">$filename2</span> <span class="token operator">=</span> <span class="token string">'test.php'</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//复制文件</span>   <span class="token function">rename</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">,</span> <span class="token variable">$filename2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;</p><h4 id="4-2-复制文件"><a href="#4-2-复制文件" class="headerlink" title="4.2 复制文件"></a><font color="#3CB371" face="Comic sans MS">4.2 复制文件</font></h4><font face="Comic sans MS"><strong>bool</strong> <font color="#00B2EE"><strong>copy(源文件,目标文件)</strong></font>;<br></font> <blockquote><p><strong>功能：将指定路径的源文件，复制一份到目标文件的位置。如果复制到当前目录下，则必须重新改一个名字，其他目录下的话也要在目的路径下加上文件名，不管改不改名字。</strong></p></blockquote><p>copy(source,destination):</p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">source</td><td style="text-align:left">必需。规定要复制的文件。</td></tr><tr><td style="text-align:center">destination</td><td style="text-align:left">必需。规定复制文件的目的地。</td></tr></tbody></table><p>(1)创建文件并复制到当前文件夹下面<font color="#FF7F00">↓↓</font></p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>    <span class="token comment" spellcheck="true">//创建文件</span>   <span class="token variable">$fi</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">'copy.txt'</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token variable">$a</span><span class="token operator">=</span><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token variable">$fi</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//旧文件名 </span>   <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'copy.txt'</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//新文件名   </span>   <span class="token variable">$filename2</span> <span class="token operator">=</span> <span class="token variable">$filename</span> <span class="token punctuation">.</span> <span class="token string">'_new.txt'</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//修改名字。</span>   <span class="token function">copy</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">,</span> <span class="token variable">$filename2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$fi</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>(2)创建文件并复制到其他文件夹下面<font color="#FF7F00">↓↓</font></p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>    <span class="token comment" spellcheck="true">//创建文件</span>   <span class="token variable">$fi</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">'copy.txt'</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token variable">$a</span><span class="token operator">=</span><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token variable">$fi</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//旧文件名 </span>   <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'copy.txt'</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//新文件名   </span>   <span class="token variable">$filename2</span> <span class="token operator">=</span> <span class="token string">"./01/copy.txt"</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//修改名字。</span>   <span class="token function">copy</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">,</span> <span class="token variable">$filename2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$fi</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;</p><h4 id="4-3-删除文件"><a href="#4-3-删除文件" class="headerlink" title="4.3 删除文件"></a><font color="#3CB371" face="Comic sans MS">4.3 删除文件</font></h4><font face="Comic sans MS"><strong>bool</strong> <font color="#00B2EE"><strong>unlink(指定路径的文件)</strong></font>;<br></font> <pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span><span class="token punctuation">;</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">unlink</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token keyword">echo</span>  <span class="token string">"删除文件成功 $filename!\n"</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>       <span class="token keyword">echo</span> <span class="token string">"删除 $filename 失败!\n"</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="五-检测文件属性函数"><a href="#五-检测文件属性函数" class="headerlink" title="五. 检测文件属性函数"></a><font color="#FF6347" face="Comic sans MS">五. 检测文件属性函数</font></h3><table><thead><tr><th style="text-align:left">函数</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:left"> bool file_exists ( $指定文件名或者文件路径)</td><td style="text-align:left">文件是否存在    </td></tr><tr><td style="text-align:left"> bool is_readable ( $指定文件名或者文件路径)</td><td style="text-align:left">文件是否可读</td></tr><tr><td style="text-align:left"> bool is_writeable ( $指定文件名或者文件路径)</td><td style="text-align:left">文件是否可写</td></tr><tr><td style="text-align:left"> bool is_executable ( $指定文件名或者文件路径)</td><td style="text-align:left">文件是否可执行</td></tr><tr><td style="text-align:left"> bool is_file ( $指定文件名或者文件路径)</td><td style="text-align:left">是否是文件</td></tr><tr><td style="text-align:left"> bool is_dir ( $指定文件名或者文件路径)</td><td style="text-align:left">是否是目录</td></tr><tr><td style="text-align:left"> void clearstatcache ( void )</td><td style="text-align:left">清楚文件的状态缓存</td></tr></tbody></table><p>&emsp;</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>  <span class="token variable">$g</span><span class="token operator">=</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token string">"install.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">echo</span> <span class="token variable">$g</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token string">'install.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'已安装，请不要再次进行安装'</span><span class="token punctuation">;</span>   exit<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span>     <span class="token keyword">echo</span> <span class="token number">5462564</span><span class="token punctuation">;</span><span class="token delimiter">?></span>运行结果：<span class="token number">1</span> 已安装，请不要再次进行安装</code></pre><p>&emsp;<br>&emsp;</p><h3 id="六-文件常用函数和常量"><a href="#六-文件常用函数和常量" class="headerlink" title="六. 文件常用函数和常量"></a><font color="#FF6347" face="Comic sans MS">六. 文件常用函数和常量</font></h3><h4 id="6-1-目录分割符常量"><a href="#6-1-目录分割符常量" class="headerlink" title="6.1 目录分割符常量"></a><font color="#3CB371" face="Comic sans MS">6.1 目录分割符常量</font></h4><table><thead><tr><th style="text-align:center">平台</th><th style="text-align:left">分割符</th></tr></thead><tbody><tr><td style="text-align:center">windows</td><td style="text-align:left">\ 或者 /</td></tr><tr><td style="text-align:center">类unix</td><td style="text-align:left">/</td></tr></tbody></table><blockquote><ol><li>windows 的路径格式为 d:\xxx\xxx 注意：windows支持 d:/xxx/xxx</li><li>linux 的路径格式为 /home/xxx/xxx 注意：如果\home\xxx\xxx 在linux上是<strong>错误</strong>的</li><li>所以当开启转义之类的话，转义字符 \ 用一起的话 d:\xxx\xxx 是一样的。判断时候有两个 \ 有的话 再转成一个\ 再把 \ 替换成 /当路径分割，这样在linux上或者windos上的路径就能保持统一了。</li></ol></blockquote><p>&emsp;</p><h4 id="6-2-DIRECTORY-SEPARATOR常量"><a href="#6-2-DIRECTORY-SEPARATOR常量" class="headerlink" title="6.2 DIRECTORY_SEPARATOR常量"></a><font color="#3CB371" face="Comic sans MS">6.2 DIRECTORY_SEPARATOR常量</font></h4><font face="Comic sans MS">在 Windows 中，斜线（/）和反斜线（\）都可以用作目录分隔符，在linux上路径的分隔符是/，这就导致了一个问题，比如开发机器是windows，有一个图片上传程序，，而我们又使用了(\)作为文件分隔符，调试机器上指定的上传文件保存目录是：<br>define(‘ROOT’,dirname(__FILE__).”\upload”)，在本地调试都很正常，但是上传到linux服务器的时候会发现会出错。<br>这个问题就是出在文件的分隔符上，windows上习惯性的使用\作为文件分隔符，但是在linux上人家是不认识这个标识的，人家只认识/，于是就要引入下面这个php内置变量了：<font color="#00B2EE"><strong>DIRECTORY_SEPARATOR</strong></font>。<br><br>上面的写法可以改写为以下无错写法：<br>define(‘ROOT’,dirname(__FILE__).DIRECTORY_SEPARATOR.”upload”);<br>这样就可以确保不会出错了。<br></font><blockquote><p><font color="#FF7F00"><strong>总结：</strong></font><br>DIRECTORY_SEPARATOR是一个<font color="#FF7F00"><strong>返回跟操作系统相关的路径分隔符</strong></font>的php内置命令，在windows上返回\，而在linux或者类unix上返回/，就是这么个区别，通常在定义包含文件路径或者上传保存目录的时候会用到。</p></blockquote><p>&emsp;</p><h4 id="6-3-文件指针操作函数"><a href="#6-3-文件指针操作函数" class="headerlink" title="6.3 文件指针操作函数"></a><font color="#3CB371" face="Comic sans MS">6.3 文件指针操作函数</font></h4><font color="#00B2EE"><strong>rewind ( resource handle)</strong></font><blockquote><p><strong>功能：指针回到开始处</strong></p></blockquote><font color="#00B2EE"><strong>fseek ( resource handle, int offset [, int from_where])</strong></font><blockquote><p><strong>功能：文件指针向后移动指定字符</strong></p></blockquote><p><strong>注意：</strong>我们在之前的读取当中我们发现fread读取指定长度的数据。读取指定长度的内容，下次再读取的时候<strong>从原位置开始再接着向后读取</strong>。</p><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_fseek.asp" target="_blank" rel="noopener">PHP fseek() 函数</a>]</font><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">file</td><td style="text-align:left">必需。规定要在其中定位的文件。</td></tr><tr><td style="text-align:center">offset</td><td style="text-align:left">必需。<strong>规定新的位置</strong>（从文件头开始以字节数度量）。</td></tr><tr><td style="text-align:center">whence</td><td style="text-align:left">可选。<br>可能的值：<br>SEEK_SET - 设定位置等于 offset 字节。默认。<br>SEEK_CUR - 设定位置为当前位置加上 offset。<br>SEEK_END - 设定位置为文件末尾加上 offset （要移动到文件尾之前的位置，offset 必须是一个<br>负值）。</td></tr></tbody></table><p>&emsp;</p><h4 id="6-4-filesize-检测文件的大小"><a href="#6-4-filesize-检测文件的大小" class="headerlink" title="6.4 filesize 检测文件的大小"></a><font color="#3CB371" face="Comic sans MS">6.4 filesize 检测文件的大小</font></h4><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'demo.txt'</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$filename</span> <span class="token punctuation">.</span> <span class="token string">'文件大小为: '</span> <span class="token punctuation">.</span> <span class="token function">filesize</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token string">' bytes'</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>还有一些其他操作文件的函数，读取文件：</p><table><thead><tr><th style="text-align:center">函数名</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">file</td><td style="text-align:left">把整个文件读入一个数组中</td></tr><tr><td style="text-align:center">fgets</td><td style="text-align:left">从文件指针中读取一行,读到最后返回false</td></tr><tr><td style="text-align:center">fgetc</td><td style="text-align:left">从文件指针中读取一个字符，读到最后返回false</td></tr><tr><td style="text-align:center">ftruncate</td><td style="text-align:left">将文件截断到给定的长度</td></tr></tbody></table><p>&emsp;</p><h4 id="6-5-文件的时间函数"><a href="#6-5-文件的时间函数" class="headerlink" title="6.5 文件的时间函数"></a><font color="#3CB371" face="Comic sans MS">6.5 文件的时间函数</font></h4><table><thead><tr><th style="text-align:center">函数名</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">filectime</td><td style="text-align:left">文件创建时间</td></tr><tr><td style="text-align:center">filemtime</td><td style="text-align:left">文件修改时间</td></tr><tr><td style="text-align:center">fileatime</td><td style="text-align:left">文件上次访问时间</td></tr></tbody></table><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token string">'demo.txt'</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'$filename文件的上次访问时间是:'</span>  <span class="token punctuation">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">"Y-m-d H:i:s"</span><span class="token punctuation">,</span> <span class="token function">fileatime</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">echo</span> <span class="token string">'$filename文件的创建时间是: '</span> <span class="token punctuation">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">"Y-m-d H:i:s"</span><span class="token punctuation">,</span> <span class="token function">filectime</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string">'$filename文件的修改时间是: '</span> <span class="token punctuation">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">"Y-m-d H:i:s"</span><span class="token punctuation">,</span> <span class="token function">filemtime</span><span class="token punctuation">(</span><span class="token variable">$filename</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="七-文件锁处理机制"><a href="#七-文件锁处理机制" class="headerlink" title="七. 文件锁处理机制"></a><font color="#FF6347" face="Comic sans MS">七. 文件锁处理机制</font></h3><blockquote><p><strong>文件锁的用途：</strong><br>若一个人在写入一个文件，另外一个人同时也打个了这个文件进行写入文件。<br>这情况下，如果遇到一定的碰撞概率的话，不知道到底谁的操作为准。<br>因此，这个时候我们引入锁机制。<br>若用户A在写入或者读取这个文件的时候，将文件加上共享所。我可以读，其他人也可以读。<br>但是，我如果这与的时候。我使用独占锁。这个文件归我了，你们都别动，除非我将文件锁进行释放。</p></blockquote><font color="#FF7F00"><strong>注意：不论加上了文件锁后要注意释放。</strong></font><p><strong>bool</strong> <font color="#00B2EE"><strong>flock(file,lock,block)</strong></font></p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">file</td><td style="text-align:left">必需。规定要锁定或释放的已打开的文件。</td></tr><tr><td style="text-align:center">lock</td><td style="text-align:left">必需。规定要使用哪种锁定类型。<br>lock 参数可以是以下值之一：<br>要取得共享锁定（读取的程序），将 lock 设为 LOCK_SH（PHP 4.0.1 以前的版本设置为 1）<br>要取得独占锁定（写入的程序），将 lock 设为 LOCK_EX（PHP 4.0.1 以前的版本中设置为 2）<br>要释放锁定（无论共享或独占），将 lock 设为 LOCK_UN（PHP 4.0.1 以前的版本中设置为 3）<br>如果不希望 flock() 在锁定时堵塞，则给 lock 加上 LOCK_NB(PHP 4.0.1 以前的版本中设置为 4)</td></tr><tr><td style="text-align:center">block</td><td style="text-align:left">可选。若设置为 1 或 true，则当进行锁定时阻挡其他进程。</td></tr></tbody></table><p>示例：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$fp</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"demo.txt"</span><span class="token punctuation">,</span> <span class="token string">"r+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 进行排它型锁定</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">flock</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">,</span> <span class="token constant">LOCK_EX</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">,</span> <span class="token string">"文件这个时候被我独占了哟\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 释放锁定</span>   <span class="token function">flock</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">,</span> <span class="token constant">LOCK_UN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">"锁失败，可能有人在操作，这个时候不能将文件上锁"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><blockquote><p><strong>说明：</strong></p><ol><li>上例中我为了写入文件，把文件加上了独占锁。</li><li>如果我操作完成，写入完成后，解除掉了独占锁。</li></ol></blockquote><p>&emsp;<br>&emsp;</p><h3 id="八-目录-文件夹-处理函数"><a href="#八-目录-文件夹-处理函数" class="headerlink" title="八. 目录(文件夹)处理函数"></a><font color="#FF6347" face="Comic sans MS">八. 目录(文件夹)处理函数</font></h3><blockquote><p><font color="#FF7F00"><strong>处理文件夹的基本思想如下：</strong></font></p><ol><li>读取某个路径的时候判断是否是文件夹</li><li>是文件夹的话，打开指定文件夹，返回文件目录的资源变量</li><li>使用readdir读取一次目录中的文件，目录指针向后偏移一次</li><li>使用readdir读取到最后，没有可读的文件返回false</li><li>关闭文件目录</li></ol></blockquote><p>&emsp;<br>常用函数：</p><table><thead><tr><th style="text-align:center">函数名</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">opendir()</td><td style="text-align:left">打开文件夹，返回操作资源 &emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_directory_opendir.asp" target="_blank" rel="noopener">PHP opendir() 函数</a>]</font></td></tr><tr><td style="text-align:center">readdir()</td><td style="text-align:left">读取文件夹资源,返回目录中下一个文件的文件名。 &emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_directory_readdir.asp" target="_blank" rel="noopener">PHP readdir() 函数</a>]</font></td></tr><tr><td style="text-align:center">is_dir()</td><td style="text-align:left">判断是否是文件夹  &emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_is_dir.asp" target="_blank" rel="noopener">PHP is_dir() 函数</a>]</font></td></tr><tr><td style="text-align:center">closedir()</td><td style="text-align:left">关闭文件夹操作资源  &emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_directory_closedir.asp" target="_blank" rel="noopener">PHP is_dir() 函数</a>]</font></td></tr><tr><td style="text-align:center">filetype()</td><td style="text-align:left">显示是文件夹还是文件，文件显示file，文件夹显示dir <br>可能的类型：（fifo、char、dir、block、link、file、unknown）&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_filetype.asp" target="_blank" rel="noopener">PHP is_dir() 函数</a>]</font></td></tr></tbody></table><p>&emsp;<br>&emsp;</p><h3 id="九-文件权限设置"><a href="#九-文件权限设置" class="headerlink" title="九. 文件权限设置"></a><font color="#FF6347" face="Comic sans MS">九. 文件权限设置</font></h3><ol><li><p><strong>文件权限设置的函数</strong>在系统管理级别的软件中很常用。<br>例如：某个文件不准许guest组（来宾用户）查看。</p></li><li><p>在企业管理中，某些用户或者某些用户文件只准读取不准修改。这都是非常常用的功能。</p></li><li><p>注：windows下面有些功能无法实现。</p></li></ol><table><thead><tr><th style="text-align:center">函数名</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">chmod</td><td style="text-align:left">修改读取模式</td></tr><tr><td style="text-align:center">chgrp</td><td style="text-align:left">修改用户组</td></tr><tr><td style="text-align:center">chown</td><td style="text-align:left">修改权限</td></tr></tbody></table><blockquote><p>上面的函数用法与linux的权限操作的用法一样。</p></blockquote><p>&emsp;<br>chmod 主要是修改文件的的权限</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//修改linux  系统/var/wwwroot/某文件权限为755</span><span class="token function">chmod</span><span class="token punctuation">(</span><span class="token string">"/var/wwwroot/index.html"</span><span class="token punctuation">,</span> <span class="token number">755</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">chmod</span><span class="token punctuation">(</span><span class="token string">"/var/wwwroot/index.html"</span><span class="token punctuation">,</span> <span class="token string">"u+rwx,go+rx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">chmod</span><span class="token punctuation">(</span><span class="token string">"/somedir/somefile"</span><span class="token punctuation">,</span> <span class="token number">0755</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h3 id="十-文件路径函数"><a href="#十-文件路径函数" class="headerlink" title="十. 文件路径函数"></a><font color="#FF6347" face="Comic sans MS">十. 文件路径函数</font></h3><blockquote><p><font color="#FF7F00"><strong>我们经常会遇到处理文件路径的情况。</strong></font></p><ol><li>文件后缀需要取出来</li><li>路径需要取出名字不取目录</li><li>只需要取出路径名中的目录路径</li><li>或者把网址中的各个部份进行解析取得独立值</li><li>甚至是自己组成一个url出来<br>……</li></ol></blockquote><p>&emsp;<br>常用路径处理函数：</p><table><thead><tr><th style="text-align:center">函数名</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">pathinfo()</td><td style="text-align:left">返回文件的各个组成部份</td></tr><tr><td style="text-align:center">basename()</td><td style="text-align:left">返回文件名</td></tr><tr><td style="text-align:center">dirname()</td><td style="text-align:left">文件目录部份</td></tr><tr><td style="text-align:center">parse_url()</td><td style="text-align:left">网址拆解成各部份</td></tr><tr><td style="text-align:center">http_build_query()</td><td style="text-align:left">生成url 中的query字符串</td></tr><tr><td style="text-align:center">http_build_url()</td><td style="text-align:left">生成一个url</td></tr></tbody></table><p>&emsp;</p><h4 id="10-1-pathinfo-函数"><a href="#10-1-pathinfo-函数" class="headerlink" title="10.1 pathinfo()函数"></a><font color="#3CB371" face="Comic sans MS">10.1 pathinfo()函数</font></h4><blockquote><font color="#FF7F00"><strong>功能：以关联数组的形式返回文件路径的信息</strong></font></blockquote><font color="#00B2EE"><strong>pathinfo(path,options)</strong></font><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">path</td><td style="text-align:left">必需。规定要检查的路径。&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_pathinfo.asp" target="_blank" rel="noopener">PHP pathinfo() 函数</a>]</font></td></tr><tr><td style="text-align:center">process_sections</td><td style="text-align:left">可选。规定要返回的数组元素。默认是 all。<br>可能的值：<br>PATHINFO_DIRNAME - 只返回 dirname<br>PATHINFO_BASENAME - 只返回 basename<br>PATHINFO_EXTENSION - 只返回 extension</td></tr></tbody></table><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$path_parts</span> <span class="token operator">=</span> <span class="token function">pathinfo</span><span class="token punctuation">(</span><span class="token string">'d:/www/index.inc.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'文件目录名：'</span><span class="token punctuation">.</span><span class="token variable">$path_parts</span><span class="token punctuation">[</span><span class="token string">'dirname'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token string">"&lt;br />"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'文件全名：'</span><span class="token punctuation">.</span><span class="token variable">$path_parts</span><span class="token punctuation">[</span><span class="token string">'basename'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token string">"&lt;br />"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'文件扩展名：'</span><span class="token punctuation">.</span><span class="token variable">$path_parts</span><span class="token punctuation">[</span><span class="token string">'extension'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token string">"&lt;br />"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'不包含扩展的文件名：'</span><span class="token punctuation">.</span><span class="token variable">$path_parts</span><span class="token punctuation">[</span><span class="token string">'filename'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token string">"&lt;br />"</span><span class="token punctuation">;</span> <span class="token delimiter">?></span>结果如下：文件目录名：d<span class="token punctuation">:</span><span class="token operator">/</span>www文件全名：lib<span class="token punctuation">.</span>inc<span class="token punctuation">.</span>php文件扩展名：php不包含扩展的文件名：lib<span class="token punctuation">.</span>inc</code></pre><p>&emsp;</p><h4 id="10-2-basename-函数"><a href="#10-2-basename-函数" class="headerlink" title="10.2 basename()函数"></a><font color="#3CB371" face="Comic sans MS">10.2 basename()函数</font></h4><blockquote><font color="#FF7F00"><strong>功能：返回路径中不带有文件扩展名的文件名</strong></font></blockquote><font color="#00B2EE"><strong>basename(path[,suffix])</strong></font><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">path</td><td style="text-align:left">必需。规定要检查的路径。&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_basename.asp" target="_blank" rel="noopener">PHP basename() 函数</a>]</font></td></tr><tr><td style="text-align:center">suffix</td><td style="text-align:left">可选。指定文件名到了指定字符停止。</td></tr></tbody></table><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span> <span class="token keyword">echo</span> <span class="token string">"1: "</span><span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">"d:/www/index.d"</span><span class="token punctuation">,</span> <span class="token string">".d"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"2: "</span><span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">"d:/www/index.php"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"3: "</span><span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">"d:/www/passwd"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token delimiter">?></span>执行结果如下<span class="token number">1</span><span class="token punctuation">:</span> index<span class="token number">2</span><span class="token punctuation">:</span> index<span class="token punctuation">.</span>php<span class="token number">3</span><span class="token punctuation">:</span> passwd</code></pre><p>&emsp;</p><h4 id="10-3-dirname-函数"><a href="#10-3-dirname-函数" class="headerlink" title="10.3 dirname()函数"></a><font color="#3CB371" face="Comic sans MS">10.3 dirname()函数</font></h4><blockquote><font color="#FF7F00"><strong>功能：返回文件路径的文件目录部份,不包含文件名。</strong></font></blockquote><font color="#00B2EE"><strong>dirname(path)</strong></font><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">path</td><td style="text-align:left">必需。规定要检查的路径。&emsp;<font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_filesystem_dirname.asp" target="_blank" rel="noopener">PHP dirname() 函数</a>]</font></td></tr></tbody></table><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter">?></span>执行结果如下G<span class="token punctuation">:</span>\<span class="token package">WAMP<span class="token punctuation">\</span>www</span></code></pre><p>&emsp;</p><h4 id="10-4-parse-url-函数"><a href="#10-4-parse-url-函数" class="headerlink" title="10.4 parse_url()函数"></a><font color="#3CB371" face="Comic sans MS">10.4 parse_url()函数</font></h4><blockquote><font color="#FF7F00"><strong>功能：将网址拆解成各个部份，返回一个数组</strong></font></blockquote><font color="#00B2EE"><strong>mixed parse_url ( string $路径 )</strong></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$url</span> <span class="token operator">=</span> 'http<span class="token punctuation">:</span><span class="token comment" spellcheck="true">//username:password@hostname:9090/path?arg=value#anchor';</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">parse_url</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span>结果如下：<span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">"scheme"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"http"</span><span class="token punctuation">[</span><span class="token string">"host"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">"hostname"</span><span class="token punctuation">[</span><span class="token string">"port"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">9090</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"user"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">"username"</span><span class="token punctuation">[</span><span class="token string">"pass"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">"password"</span><span class="token punctuation">[</span><span class="token string">"path"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"/path"</span><span class="token punctuation">[</span><span class="token string">"query"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token string">"arg=value"</span><span class="token punctuation">[</span><span class="token string">"fragment"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"anchor"</span><span class="token punctuation">}</span></code></pre><p>&emsp;</p><h4 id="10-5-http-build-query-函数"><a href="#10-5-http-build-query-函数" class="headerlink" title="10.5 http_build_query()函数"></a><font color="#3CB371" face="Comic sans MS">10.5 http_build_query()函数</font></h4><blockquote><font color="#FF7F00"><strong>功能：生成url 中的query字符串</strong></font></blockquote><font color="#00B2EE"><strong>string http_build_query ( mixed $需要处理的数据)</strong></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//定义一个关联数组</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span>       <span class="token string">'username'</span><span class="token operator">=</span><span class="token operator">></span><span class="token string">'php'</span><span class="token punctuation">,</span>       <span class="token string">'area'</span><span class="token operator">=</span><span class="token operator">></span><span class="token string">'hubei'</span>        <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//生成query内容</span><span class="token keyword">echo</span> <span class="token function">http_build_query</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span>结果如下：username<span class="token operator">=</span>php<span class="token operator">&amp;</span>area<span class="token operator">=</span>hubei</code></pre><blockquote><p><strong>注：</strong>PHP_EOL 常量<br>在 windows平台相当于 echo “\r\n”;<br>在unix\linux平台相当于 echo “\n”;<br>在mac平台相当于 echo “\r”;</p></blockquote><p>&emsp;<br>&emsp;</p><h3 id="十一-文件系统实例案例"><a href="#十一-文件系统实例案例" class="headerlink" title="十一. 文件系统实例案例"></a><font color="#FF6347" face="Comic sans MS">十一. 文件系统实例案例</font></h3><h4 id="11-1-文件留言本"><a href="#11-1-文件留言本" class="headerlink" title="11.1 文件留言本"></a><font color="#3CB371" face="Comic sans MS">11.1 文件留言本</font></h4><p>先来说两个下面用到的两个字符串函数和一个数组函数：</p><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_string_trim.asp" target="_blank" rel="noopener"><strong>trim()函数</strong></a>]</font>：<strong>移除字符串两侧的空白字符或其他预定义字符。</strong><br><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_string_explode.asp" target="_blank" rel="noopener"><strong>explode()函数</strong></a>]</font><strong>：把字符串打散为数组。</strong><br><font color="#00B2EE">[<a href="http://www.w3school.com.cn/php/func_array_each.asp" target="_blank" rel="noopener"><strong>each()函数</strong></a>]</font><strong>：返回当前元素的键名和键值。该元素的键名和键值返回到带有四个元素的数组中。</strong><br><br><font color="#FF7F00"></font><p>&emsp;</p><font color="#00B2EE">[<a href="http://www.php.cn/code/4934.html" target="_blank" rel="noopener"><strong>视频教程</strong></a>]</font><blockquote><p><font color="#FF7F00"><strong>1. 文件结构：</strong></font><br>index.php —展示输入框和留言内容,并将内容提交到write.php；<br>write.php —接收并处理来自index.php的内容，然后向message.txt写入数据；<br>message.txt —接收并存入来自write.php的聊天内容。</p></blockquote><p>index.php文件：</p><font color="#FF7F00"></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?Php</span><span class="token comment" spellcheck="true">//设置时区</span><span class="token function">date_default_timezone_set</span><span class="token punctuation">(</span><span class="token string">'PRC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//读了内容</span>@<span class="token variable">$string</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token string">'message.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//如果$string 不为空的时候执行，也就是message.txt中有留言数据</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//每一段留言有一个分格符，但是最后多出了一个&amp;^。因此，我们要将&amp;^删掉</span>    <span class="token variable">$string</span> <span class="token operator">=</span> <span class="token function">rtrim</span><span class="token punctuation">(</span><span class="token variable">$string</span><span class="token punctuation">,</span> <span class="token string">'&amp;^'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//以&amp;^切成数组</span>    <span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string">'&amp;^'</span><span class="token punctuation">,</span> <span class="token variable">$string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//将留言内容读取</span>    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$arr</span> <span class="token keyword">as</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//将用户名和内容分开</span>        <span class="token function">list</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$time</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string">'$#'</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token string">'用户名为&lt;font color="gree">'</span> <span class="token punctuation">.</span> <span class="token variable">$username</span> <span class="token punctuation">.</span> <span class="token string">'&lt;/font>内容为&lt;font color="red">'</span> <span class="token punctuation">.</span> <span class="token variable">$content</span> <span class="token punctuation">.</span> <span class="token string">'&lt;/font>时间为'</span> <span class="token punctuation">.</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string">'Y-m-d H:i:s'</span><span class="token punctuation">,</span> <span class="token variable">$time</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token string">'&lt;hr />'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter">?></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span></span>基于文件的留言本演示<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>write.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>    用户名：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></span>    留言内容：<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span>  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></span>    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>提交<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span></code></pre><p>&emsp;<br>write.php文件：</p><font color="#FF7F00"></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//追加方式打开文件</span><span class="token variable">$fp</span><span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">'message.txt'</span><span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//设置时间</span><span class="token variable">$time</span><span class="token operator">=</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//得到用户名</span><span class="token variable">$username</span><span class="token operator">=</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//得到内容</span><span class="token variable">$content</span><span class="token operator">=</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//组合写入的字符串：内容和用户之间分开，使用$#</span><span class="token comment" spellcheck="true">//行与行之间分开，使用&amp;^</span><span class="token variable">$string</span><span class="token operator">=</span><span class="token variable">$username</span><span class="token punctuation">.</span><span class="token string">'$#'</span><span class="token punctuation">.</span><span class="token variable">$content</span><span class="token punctuation">.</span><span class="token string">'$#'</span><span class="token punctuation">.</span><span class="token variable">$time</span><span class="token punctuation">.</span><span class="token string">'&amp;^'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//写入文件</span><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">,</span><span class="token variable">$string</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//关闭文件</span><span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'location:index.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;</p><p><font color="#00B2EE"><strong>步骤1：</strong></font><strong>在www目录下的index.php里面复制上面相对应的内容、新建一个write.php文件并复制相应的内容、新建一个message.txt空文件；</strong></p><p><font color="#00B2EE"><strong>步骤2：</strong></font><strong>运行index.php如下：</strong></p><p><img src="https://i.loli.net/2019/02/21/5c6e21be78910.png" alt="Hash函数.png"></p><p>&emsp;</p><p><font color="#00B2EE"><strong>步骤3：</strong></font><strong>向留言框输入文字并点击提交</strong></p><p>&emsp;</p><h4 id="11-2-修改配置文件"><a href="#11-2-修改配置文件" class="headerlink" title="11.2 修改配置文件"></a><font color="#3CB371" face="Comic sans MS">11.2 修改配置文件</font></h4><p><font color="#00B2EE">[<a href="http://www.php.cn/code/4935.html" target="_blank" rel="noopener"><strong>视频教程</strong></a>]</font><br>&emsp;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;学习文件处理本质上面就是学习&lt;font color=&quot;#00B2EE&quot;&gt;&lt;strong&gt;文件处理的函数。&lt;/strong&gt;&lt;/font&gt; ヾ(๑╹◡╹)ﾉ”&lt;br&gt;
    
    </summary>
    
      <category term="PHP" scheme="Treecatee.gitgub.io/categories/PHP/"/>
    
    
      <category term="PHP语言" scheme="Treecatee.gitgub.io/tags/PHP%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>PHP-函数</title>
    <link href="Treecatee.gitgub.io/post/php-function/"/>
    <id>Treecatee.gitgub.io/post/php-function/</id>
    <published>2019-02-15T12:25:45.000Z</published>
    <updated>2019-03-06T16:37:41.324Z</updated>
    
    <content type="html"><![CDATA[<p>PHP函数分为<font color="red"><strong>自定义函数</strong></font>和<font color="red"><strong>系统函数</strong></font> (oﾟvﾟ)ノ</p><a id="more"></a><p>&ensp;<br>&ensp;</p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>PHP 函数</strong></font></center><p>&emsp;<br>&emsp;</p><p>&emsp;<br>&emsp;</p><h3 id="一-自定义函数"><a href="#一-自定义函数" class="headerlink" title="一. 自定义函数"></a><font color="#FF6347" face="Comic sans MS">一. 自定义函数</font></h3><h4 id="1-1-自定义函数函数基本概念"><a href="#1-1-自定义函数函数基本概念" class="headerlink" title="1.1 自定义函数函数基本概念"></a><font color="#3CB371" face="Comic sans MS">1.1 自定义函数函数基本概念</font></h4><font face="Comic sans MS">我们在实际开发过程当中需要有很多功能都需要反复使用到，而这些反复需要使用到的功能，我们能定义成功能（函数），就尽可能定义成功能（函数）。使用的时候，吼一下它的名字即可。<br>  那我们来学一下自定义函数的语法规定，语法规定如下：<br><font color="red"><br>  function 函数名([参数名1[=值1], 参数名2[=值2], 参数名n[=值n]])<br>{<br>       函数中的功能体<br>    [return 返回值]<br>}<br></font><br></font><table><tr><td bgcolor="#ADD8E6"><font face="Comic sans MS"><font color="red"><strong>上面的语法规定中发现了如下特点，产生如下语未能规定：</strong></font><br>1. 函数以<font color="red"><strong>function</strong></font>开始<br>2. function后面接空格，空格后接函数名<br>3. 函数名与变量命名规则基本一样，但是不同的是：<font color="red"><strong>函数名不区分大小写</strong></font><br>4. 所谓参数其实就是变量<br>5. 函数名后接括号，括号内跟参数，参数全都有[]（中括号）括起来了，代表参数可填可不填<br>6. 如果有参数的话，参数后可以接(＝)等号，等号接默认值。参数值也是用<a href="中括号"></a>括起来的，代表选填<br>7. 函数后的参数变量，主要功能是把函数体外的变量值，传入函数体内来使用，函数体的变量和函数体外的<br>   变量通常是两个不同的变量。<br>8. 函数中的具体功能（功能体）用大括号括起来，代表这是一个函数的功能区间<br>9. 函数可以有返回值也可以没有返回值，用[]（中括号）括起来的，代表选填。<br>10. return后接空格，空格后接返回值，若有return,return后的代码均不执行。(<font color="red"><strong>return可用可不用</strong></font>)<br>11. 函数的执行没有顺序关系，可以在定义处之前的位置调用<br>12. 函数不能被定义两次，即函数不能被重载<br></font></td></tr></table><p>&emsp;</p><blockquote><font color="#00B2EE"><strong>1. 函数是条狗，哪里调用哪里哪，它就跟着你走</strong></font><br><font color="#00B2EE"><strong>2. 函数名只能是字母，数字，下划线的组合，并且之间不能包含空格，数字不能放在变量名首位。</strong></font><br><font color="#00B2EE"><strong>3. 函数名与变量命名规则一样，但是不同的是：</strong><font color="red"><strong>函数名不区分大小写</strong></font> </font><br><font color="#00B2EE"><strong>4. 函数体的参数若是定义了，未传参数，代码会报错</strong></font><br><font color="#00B2EE"><strong>5. 函数的参数如果有默认值，参数可以不填，代码也不会报错</strong></font><br><font color="#00B2EE"><strong>6. 函数的参数可以写多个</strong></font><br><font color="#00B2EE"><strong>7. 函数如果有默认值和无默认值的参数，通常把无默认值的参数写在最前面</strong></font><br><font color="#00B2EE"><strong>8. 函数体的变量与函数体外的变量没有关系</strong></font><br><font color="#00B2EE"><strong>9. 函数体中若有return,return 后的代码不执行</strong></font><br><font color="#00B2EE"><strong>10. 函数执行完后,return 可把函数体内的值，带带函数体外</strong></font><br><font color="#00B2EE"><strong>11. 函数的执行没有顺序关系，可以在定义处之前的位置调用</strong></font><br><font color="#00B2EE"><strong>12. 函数不能重载</strong></font></blockquote><p>&emsp;<br>&emsp;</p><h4 id="1-2-回调函数"><a href="#1-2-回调函数" class="headerlink" title="1.2 回调函数"></a><font color="#3CB371" face="Comic sans MS">1.2 回调函数</font></h4><p><strong>一个函数作为另外一个函数的</strong><font color="red"><strong>参数</strong></font>。</p><font face="Comic sans MS">回调函数，可以配合匿名函数和变量函数实现更加优美、复杂的一种函数结构。<br>回调函数，就是在处理一个功能的时候，我让让这个功能自定义能力再强一些，我准许调用这个函数的时候，还可以传入一个函数配合、协助进行处理。<br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token keyword">function</span> woziji<span class="token punctuation">(</span><span class="token variable">$one</span>,<span class="token variable">$two</span>,<span class="token variable">$func</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       //我规定：检查<span class="token variable">$func</span>是否是函数，如果不是函数停止执行本段代码，返回false       if<span class="token punctuation">(</span><span class="token operator">!</span>is_callable<span class="token punctuation">(</span><span class="token variable">$func</span><span class="token punctuation">))</span><span class="token punctuation">{</span>               <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span>       //我把<span class="token variable">$one</span>、<span class="token variable">$two</span>相加，再把<span class="token variable">$one</span>和<span class="token variable">$two</span>传入<span class="token variable">$func</span>这个函数中处理一次       //<span class="token variable">$func</span>是一个变量函数，参见变量函数这一章       <span class="token keyword">echo</span> <span class="token variable">$one</span> + <span class="token variable">$two</span> + <span class="token variable">$func</span><span class="token punctuation">(</span><span class="token variable">$one</span>,<span class="token variable">$two</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>//我们定义几个函数试试<span class="token keyword">function</span> plusx2<span class="token punctuation">(</span> <span class="token variable">$foo</span> , <span class="token variable">$bar</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token variable">$foo</span>+<span class="token variable">$bar</span><span class="token punctuation">)</span>*2<span class="token punctuation">;</span>       <span class="token keyword">return</span> <span class="token variable">$result</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> jian<span class="token punctuation">(</span> <span class="token variable">$x</span> , <span class="token variable">$y</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$x</span> - <span class="token variable">$y</span><span class="token punctuation">;</span>   <span class="token keyword">return</span> <span class="token variable">$result</span><span class="token punctuation">;</span><span class="token punctuation">}</span>//调用一下函数，woziji，向里面传入参数试试<span class="token keyword">echo</span> woziji<span class="token punctuation">(</span>20,10,<span class="token string">'plusx2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//将plusx2改成jian试试结果<span class="token keyword">echo</span> woziji<span class="token punctuation">(</span>20,10,<span class="token string">'jian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><blockquote><p><strong>处理过程是这样的:</strong><br>    1.将20赋值给形参$one,10赋值给了$two，而plusx2或者jian这两个变量函数，赋值给了$func<br>    2.在woziji这个函数中判断plusx2或者jian是否为函数，不是函数就return false 停止执行了<br>    3.显示plusx2或者jian是函数。因此$one = 20, $two =10相加了，相加后，$one和$two又带入到了了$func($one,$two)中。<br>    4.带入至里面后而$func，是可变的，可以为plusx2或者jian。如果为plusx2的话，$one = 20,$two = 10 的这个两个结果又给        了plusx2函数里面的$foo和$bar<br>    5.$foo + $bar 乘以2后将结果返回至woziji这个函数功能体的运算处：$one + $two + $func($one,$two);<br>    6.这样得到了运算结果<br>现在我们明白了回调函数：在一个调数里面，再传入一个函数名，将函数名加上()括号。识为变量函数，配合执行。</p></blockquote><p>&emsp;<br>&emsp;</p><h4 id="1-3-变量函数"><a href="#1-3-变量函数" class="headerlink" title="1.3 变量函数"></a><font color="#3CB371" face="Comic sans MS">1.3 变量函数</font></h4><font color="red"><strong>function demo(){}<br>$fu = ‘demo’;<br>$fu();</strong><br></font><p>&emsp;</p><font face="Comic sans MS">在之前的变量部份，我们学习了可变变量。可变函数仅仅是可变变量的一个变种、变形表达。<br><font color="#00B2EE"><strong>可变函数</strong></font>，我们也会称呼为变量函数。简单回顾一下之前的知识点：<br></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span> <span class="token variable">$hello</span> <span class="token operator">=</span> <span class="token string">'world'</span><span class="token punctuation">;</span><span class="token variable">$world</span> <span class="token operator">=</span> <span class="token string">'你好'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//输出的结果为：你好</span><span class="token keyword">echo</span> $<span class="token variable">$hello</span><span class="token punctuation">;</span> <span class="token delimiter">?></span></code></pre><blockquote><p>因为$hello先被解释成了world，再world前加上$符就输出了：你好。</p></blockquote><p>&emsp;<br>而<font color="#00B2EE"><strong>变量函数</strong></font>的用法是这样的：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string">'天王盖地虎'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string">'小鸡炖蘑菇'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$fu</span> <span class="token operator">=</span> <span class="token string">'demo'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//把$fu变为了demo,把demo后加上了一个括号，就执行函数了</span><span class="token variable">$fu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//把$fu的值改为test字符串再试试？</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;</p><h4 id="1-4-匿名函数"><a href="#1-4-匿名函数" class="headerlink" title="1.4 匿名函数"></a><font color="#3CB371" face="Comic sans MS">1.4 匿名函数</font></h4><p><strong>匿名函数，也就是</strong><font color="red"><strong>没有函数名的函数。</strong></font></p><p>匿名函数的第一种用法，直接把赋数赋值给变量，调用变量即为调用函数。<br>匿名函数的写法比较灵活。</p><font color="#00B2EE"><strong>1.变量函数式的匿名函数</strong></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$greet</span> <span class="token operator">=</span> function<span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">echo</span> <span class="token variable">$name</span><span class="token keyword">.</span><span class="token string">'，你好'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token variable">$greet</span><span class="token punctuation">(</span><span class="token string">'明天'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$greet</span><span class="token punctuation">(</span><span class="token string">'PHP中文网'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><blockquote><p>上例中的函数体没有函数名，通过$greent加上括号来调用的，这就是匿名函数。</p></blockquote><p>&emsp;</p><font color="#00B2EE"><strong>2.回调式的匿名函数</strong></font><br>实际使用场景中，我们要通过一个函数实现更多的功能。但是，我又不想专门定义一个函数。我们回顾一下，我们回调函数的例子：<br><br><font face="Comic sans MS"></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token keyword">function</span> woziji<span class="token punctuation">(</span><span class="token variable">$one</span>,<span class="token variable">$two</span>,<span class="token variable">$func</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       //我规定：检查<span class="token variable">$func</span>是否是函数，如果不是函数停止执行本段代码，返回false       if<span class="token punctuation">(</span><span class="token operator">!</span>is_callable<span class="token punctuation">(</span><span class="token variable">$func</span><span class="token punctuation">))</span><span class="token punctuation">{</span>               <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span>       //我把<span class="token variable">$one</span>、<span class="token variable">$two</span>相加，再把<span class="token variable">$one</span>和<span class="token variable">$two</span>传入<span class="token variable">$func</span>这个函数中处理一次       //<span class="token variable">$func</span>是一个变量函数，参见变量函数这一章       <span class="token keyword">echo</span> <span class="token variable">$one</span> + <span class="token variable">$two</span> + <span class="token variable">$func</span><span class="token punctuation">(</span><span class="token variable">$one</span>,<span class="token variable">$two</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>woziji<span class="token punctuation">(</span>20,30,function<span class="token punctuation">(</span> <span class="token variable">$foo</span> , <span class="token variable">$bar</span><span class="token punctuation">)</span><span class="token punctuation">{</span>               <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token variable">$foo</span>+<span class="token variable">$bar</span><span class="token punctuation">)</span>*2<span class="token punctuation">;</span>               <span class="token keyword">return</span> <span class="token variable">$result</span><span class="token punctuation">;</span>           <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p>&emsp;<br>仔细推理一下过程哟。只不过在之前的章节当中，plusx2换成了我们的匿名函数：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?phpfunction<span class="token punctuation">(</span> <span class="token variable">$foo</span> , <span class="token variable">$bar</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token variable">$foo</span>+<span class="token variable">$bar</span><span class="token punctuation">)</span>*2<span class="token punctuation">;</span>       <span class="token keyword">return</span> <span class="token variable">$result</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>因此，函名函数在调用的时候没有函数名。我们可以采用以上的一些方法来使用匿名函数。</p></blockquote><p>&emsp;<br>&emsp;</p><h4 id="1-5-内部函数"><a href="#1-5-内部函数" class="headerlink" title="1.5 内部函数"></a><font color="#3CB371" face="Comic sans MS">1.5 内部函数</font></h4><p><strong>内部函数，是指</strong><font color="red"><strong>在函数内部又声明了一个函数。</strong></font></p><font face="Comic sans MS"><strong>注意事项：</strong><br>1. 内部函数名，不能是已存在的函数名<br>2. 假设在函数a里面定义了一个内部函数，不能定用两次函数a。<br></font><p>我们下面来看代码，你将很快的学习会：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token keyword">function</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'我是函数foo哟，调一下我才会执行定义函数bar的过程&lt;br />'</span><span class="token punctuation">;</span> <span class="token keyword">function</span> bar<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">echo</span> <span class="token string">'在foo函数内部有个函数叫bar函数&lt;br />'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>//现在还不能调用bar<span class="token punctuation">(</span><span class="token punctuation">)</span>函数，因为它还不存在//bar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //如果现在调用会报错foo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//现在可以调用bar<span class="token punctuation">(</span><span class="token punctuation">)</span>函数了，因为foo<span class="token punctuation">(</span><span class="token punctuation">)</span>函数的执行使得bar<span class="token punctuation">(</span><span class="token punctuation">)</span>函数变为已定义的函数bar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//再调一次foo<span class="token punctuation">(</span><span class="token punctuation">)</span>看看是不是会报错？  会报错foo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><blockquote><p>仔细观察和实验后你会得出如下的结论：<br>   1.foo()调用两次会报错<br>   2.如果不调foo()函数无法执行bar函数，因为bar是在foo的内部</p></blockquote><p>&emsp;<br>&emsp;</p><h4 id="1-6-参数的引用"><a href="#1-6-参数的引用" class="headerlink" title="1.6 参数的引用"></a><font color="#3CB371" face="Comic sans MS">1.6 参数的引用</font></h4><p>在变量这个函数中，我们学习了变量的引用，我们来回顾一下知识：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token variable">$b</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token variable">$a</span><span class="token punctuation">;</span><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token punctuation">.</span><span class="token string">'---------'</span><span class="token punctuation">.</span><span class="token variable">$b</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><blockquote><p>上述知识点的在变量章节中，变量引用有讲述，是指变量$a和$b指向到了同一个存储位置，来存值。</p></blockquote><p>&emsp;</p><font color="#FF7F00"><strong>而函数的参数引用，也是这个意思，将形参和实参指向到同一个位置。如果形参在函数体内发生变化，那么实参的值也发生变化。我们来通过实验来看看：</strong></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$foo</span> <span class="token operator">=</span> 100<span class="token punctuation">;</span>//注意：在<span class="token variable">$n</span>前面加上了<span class="token operator">&amp;</span>符<span class="token keyword">function</span> demo<span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token variable">$n</span> <span class="token operator">=</span> 10<span class="token punctuation">;</span>       <span class="token keyword">return</span> <span class="token variable">$n</span> + <span class="token variable">$n</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span>  demo<span class="token punctuation">(</span><span class="token variable">$foo</span><span class="token punctuation">)</span>.<span class="token string">'&lt;br />'</span><span class="token punctuation">;</span>//你会发生<span class="token variable">$foo</span>的值变为了10<span class="token keyword">echo</span> <span class="token variable">$foo</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><blockquote><p>通过上例，我们发现实参为$foo，在调用demo的时候，<font color="red"><strong>让$foo和$n指向到了同一个存储区域</strong></font>，当$n的值发生变化的时候。那么$foo的值也发生变化。</p></blockquote><p>&emsp;<br>&emsp;</p><h4 id="1-7-递归函数"><a href="#1-7-递归函数" class="headerlink" title="1.7 递归函数"></a><font color="#3CB371" face="Comic sans MS">1.7 递归函数</font></h4><p>递归函数，递归只是一个名字，而递归函数的规定：<font color="red"><strong>函数体内调用函数自己</strong></font>。<br>递归在实际工作中主要是用在：<font color="red"><strong>文件和文件夹操作</strong></font>的时候有使用到。</p><font face="Comic sans MS"><font color="#00B2EE"><strong>几个思维上的盲区：</strong></font><br>  1.代码是从上到下执行的，所有代码没有exit等停止符，函数必须执行完。<br>  2.如果函数从函数A跳至函数B后，必须把函数B执行完成再执行函数A余下的代码。<br>  3.递归函数必须要能执行完有结束条件，不然函数就会限入死循环。函数会永远的自我执行下去。<br></font><p>我们来写一代码码来理解一下：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$num</span> <span class="token operator">=</span> 10<span class="token punctuation">;</span>//调用一次函数A<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>A<span class="token punctuation">(</span><span class="token variable">$num</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> A<span class="token punctuation">(</span> <span class="token variable">$arg</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token variable">$arg</span><span class="token punctuation">;</span>   //在函数A里面去，跑去执行函数B去了   B<span class="token punctuation">(</span><span class="token variable">$arg</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">echo</span> <span class="token string">'我们需要不断的努力，努力到上天都为我们感动'</span><span class="token punctuation">;</span>   <span class="token keyword">echo</span> <span class="token variable">$arg</span><span class="token keyword">.</span><span class="token string">'&lt;br />'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> B<span class="token punctuation">(</span> <span class="token variable">$number</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token keyword">echo</span> <span class="token variable">$number</span><span class="token punctuation">;</span>       <span class="token keyword">echo</span> <span class="token string">'俺是狗蛋，执行完了&lt;br />'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p><strong>结论：</strong><br>1.执行函数A到一半的时候，跑去执行了函数B<br>2.执行完函数B，先显示出来的是：“俺是狗蛋，执行完了”，接着显示的才是：“我们需要不断的努力，努力到上天都为我们感动”<br>3.也就是证明了我们所说思维盲区里面的内容，代码从上到下执行，代码必须执行完。</p></blockquote><p>&emsp;<br>  我们来写一个简单的递归代码,让函数自己调用自己。</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token variable">$n</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">dg</span><span class="token punctuation">(</span> <span class="token variable">$n</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token variable">$n</span><span class="token punctuation">.</span><span class="token string">'&lt;br />'</span><span class="token punctuation">;</span>   <span class="token variable">$n</span> <span class="token operator">=</span> <span class="token variable">$n</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$n</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">//在函数体内调用了dg自己哟</span>       <span class="token function">dg</span><span class="token punctuation">(</span><span class="token variable">$n</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>       <span class="token keyword">echo</span> <span class="token string">'--------------'</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span>   <span class="token keyword">echo</span> <span class="token string">'俺是狗蛋，俺还没执行'</span> <span class="token punctuation">.</span> <span class="token variable">$n</span> <span class="token punctuation">.</span> <span class="token string">'&lt;br />'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><blockquote><p>我们来仔细推理一次：<br>   1.第一次调用dg()，将数字$n = 2传到dg中，先显示出来了2<br>   2.然后将$n - 1 $n的值为了1<br>   3.接着判断$n 是否大于0,肯定是大于0的，所以调用递归自己，再把自己执行一次。<br>   4.而第二次在执行自己dg()的时候，而最下面的 echo ‘俺是狗蛋，俺还没执行’ . $n . ‘<br>‘; 还没有执行到。等待执行完成后再来执行<br>   5.$n此时等于1 ，所以显示出来1。<br>   6.$n把自己减了一次，$n的结果为0<br>   7.$n大于0肯定不成立的，所以显示了一条:”————–”<br>   8.而这个时候该执行：echo ‘俺是狗蛋，俺还没执行’ . $n . ‘<br>‘;<br>   9.第二次执行dg()执行完成。第一次dg()的代码还没执行完，将第4点中的余下代码执行完。</p></blockquote><p>&emsp;<br>&emsp;</p><h4 id="1-8-静态变量"><a href="#1-8-静态变量" class="headerlink" title="1.8 静态变量"></a><font color="#3CB371" face="Comic sans MS">1.8 静态变量</font></h4><font face="Comic sans MS"><font color="red"><strong>静态变量的特点是：</strong></font>声明一个静态变量，第二次调用函数的时候，静态变量不会再初始化变量，会在原值的基础上读取执行。<br>实际上:全局变量本身就是静态存储方式,<font color="red"><strong>所有的全局变量都是静态变量</strong></font><br></font><font color="#FF7F00"><strong>以下讲述局部静态变量和全局静态变量：</strong></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//--------------如何理解static静态变量-----------</span><span class="token comment" spellcheck="true">/** 普通局部变量 */</span><span class="token keyword">function</span> <span class="token function">local</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token variable">$loc</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//这样，如果直接不给初值0是错误的。</span> <span class="token operator">++</span><span class="token variable">$loc</span><span class="token punctuation">;</span> <span class="token keyword">echo</span> <span class="token variable">$loc</span> <span class="token punctuation">.</span> <span class="token string">'&lt;br>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">local</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span><span class="token function">local</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span><span class="token function">local</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span><span class="token keyword">echo</span> <span class="token string">'===================================&lt;br/>'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/** static静态局部变量 */</span><span class="token keyword">function</span> <span class="token function">static_local</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">static</span> <span class="token variable">$local</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//此处可以不赋0值</span> <span class="token variable">$local</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token keyword">echo</span> <span class="token variable">$local</span> <span class="token punctuation">.</span> <span class="token string">'&lt;br>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">static_local</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span><span class="token function">static_local</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//2</span><span class="token function">static_local</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//3</span><span class="token comment" spellcheck="true">//echo $local; 注意虽然静态变量，但是它仍然是局部的，在外不能直接访问的。</span><span class="token keyword">echo</span> <span class="token string">'=======================================&lt;br>'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/** static静态全局变量(实际上:全局变量本身就是静态存储方式,所有的全局变量都是静态变量) */</span><span class="token keyword">function</span> <span class="token function">static_global</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">global</span> <span class="token variable">$glo</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//此处，可以不赋值0，当然赋值0，后每次调用时其值都为0，每次调用函数得到的值都会是1，</span> <span class="token comment" spellcheck="true">//但是不能想当然的写上"static"加以修饰，那样是错误的.</span> <span class="token variable">$glo</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token keyword">echo</span> <span class="token variable">$glo</span> <span class="token punctuation">.</span> <span class="token string">'&lt;br>'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">static_global</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span><span class="token function">static_global</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//2</span><span class="token function">static_global</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//3</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br>&emsp;<br>&emsp;<br>&emsp;</p><h3 id="二-系统函数"><a href="#二-系统函数" class="headerlink" title="二. 系统函数"></a><font color="#FF6347" face="Comic sans MS">二. 系统函数</font></h3><h4 id="2-1-使用介绍"><a href="#2-1-使用介绍" class="headerlink" title="2.1 使用介绍"></a><font color="#3CB371" face="Comic sans MS">2.1 使用介绍</font></h4><font color="#00B2EE">[<a href="http://www.php.cn" target="_blank" rel="noopener">PHP手册下载</a>]</font><br>1. 如果代码能赚钱，帮你赚钱最多的是基本语法<br>2. 如果你还在当程序员，你看手册的时间可能比你看老婆的时间还长<br><br><font face="Comic sans MS">使用函数的重点是三块：<br>    1.了解函数的<font color="red">功能</font>，特别是常用函数的功能<br>    2.了解函数的<font color="red">参数</font><br>    3.了解函数的<font color="red">返回值</font><br></font><blockquote><p>我们针对上面的三块，讲解6个函数，这6个函数，概况了函数的基本用法的全部注意事项：</p><font color="#00B2EE"><strong>1. 直接返回布尔型，如bool copy ()<br>2. 带有MIXED参数的函数如何调用。Mixed表示任何类型的数据。如Array_unshift()<br>3. 参数中带有&amp;符的参数，一定要传一个变量做为参数。函数里面改变了他的值。<br>4. 带有[]的参数，表示可选项。<br>5. 带有…的参数，表示可以传任意多个参数。<br>6. 带有callback的参数，表示回调函数。需要传一个函数进来。Array_map()<br>7. 函数支持的版本要了解。</strong><br></font></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>1. 直接返回布尔型</strong></font><br><font color="red"><strong>bool</strong></font> <strong>copy ( string $source , string $dest [, resource $context ] )</strong><br></font><blockquote><p><strong>这个函数的功能为：</strong> 拷备一个文件<br><strong>返回值为为：</strong> bool型值，就是成功返回true，失败返回false<br><strong>参数为：</strong> 两个字符串的值，一个是copy的源文件，一个为目标文件。第三个参数可选的，不常用，我们不管它。</p></blockquote><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token string">'abc.txt'</span><span class="token punctuation">,</span><span class="token string">'bcd.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'复制成功'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'复制失败'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>2. Mixed表示任何类型的数据。如Array_unshift()</strong></font> </font><br><font color="red"><strong>int</strong></font> array_unshift ( array &amp;$array , <font color="red"><strong>mixed</strong></font>  $value1 [, mixed $… ] )<br><br><font face="Comic sans MS"></font><blockquote><p><strong>功能：</strong> 操作一个数组，向数组中之前插入其他类型的参数。<br><strong>返回值：</strong> <font color="#FF7F00"><strong>int 类型</strong></font>，可能就是插入成功最后的个数<br><strong>参数：</strong> <font color="#FF7F00"><br><strong>第一个参数为&amp;符</strong></font>，也就是在操作的过程中，改变了第一个参数的值。引用传参。也就是操作这个数组，向这个数组中传入参数。会直接改变这个数组的值。<font color="#FF7F00"><br><strong>第二个参数为mixed</strong></font>，因为数组可以存入多个不同的类型.mixed是指混合的意思。因此，mixed是指可传入任意类型<font color="#FF7F00"><br><strong>第三个数数加了中括号[ ]</strong></font>，我们所有遇到中括号的。都是指后面的参数可传，也可以不传。<br>第四，最后还看到了三个…(省略号)。代表可以传入任意多个参数。</p></blockquote><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$queue</span> <span class="token operator">=</span> array<span class="token punctuation">(</span><span class="token string">"凤姐"</span>, <span class="token string">"芙蓉"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>array_unshift<span class="token punctuation">(</span><span class="token variable">$queue</span>, <span class="token string">"杨幂"</span>, <span class="token string">"姚晨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>print_r<span class="token punctuation">(</span><span class="token variable">$queue</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span>运行结果：Array <span class="token punctuation">(</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> 杨幂 <span class="token punctuation">[</span>1<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> 姚晨 <span class="token punctuation">[</span>2<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> 凤姐 <span class="token punctuation">[</span>3<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> 芙蓉 <span class="token punctuation">)</span></code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>3. 遇到callback的传函数或者匿名函数进去协助处理，让功能更强大。</strong></font><br></font><br>bool array_walk ( array &amp;$array , <font color="red"><strong>callable</strong></font> $callback [, mixed $userdata = NULL ] )<br><br><font face="Comic sans MS"></font><blockquote><p><font color="#FF7F00"><strong>功能：</strong></font><br>传入一个回调函数，将数组的原来的组操作，并且发生变化。<font color="#FF7F00"><br><strong>返回值：</strong></font><br>bool 值 也就是意味着，提示成功或者失败<font color="#FF7F00"><br><strong>参数：</strong></font><br>第一个参数是要操作的数组。<br>第二个参数是callback 代表着可以传入函数或者匿名函数。</p></blockquote><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$shuaige</span> <span class="token operator">=</span> array<span class="token punctuation">(</span><span class="token string">"a"</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">"wuyanzhu"</span>, <span class="token string">"b"</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">"huangxiaoming"</span>, <span class="token string">"c"</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">"ninzetao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> test_print<span class="token punctuation">(</span><span class="token variable">$item2</span>, <span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token variable">$key</span> <span class="token keyword">.</span><span class="token string">" ---"</span><span class="token keyword">.</span> strtoupper<span class="token punctuation">(</span><span class="token variable">$item2</span><span class="token punctuation">)</span> <span class="token keyword">.</span> <span class="token string">"&lt;br />\n"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token string">'&lt;pre>'</span><span class="token punctuation">;</span>var_dump<span class="token punctuation">(</span><span class="token variable">$shuaige</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'&lt;/pre>'</span><span class="token punctuation">;</span>array_walk<span class="token punctuation">(</span><span class="token variable">$shuaige</span>, <span class="token string">'test_print'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'用自定义函数test_print执行后的效果：'</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'&lt;pre>'</span><span class="token punctuation">;</span>var_dump<span class="token punctuation">(</span><span class="token variable">$shuaige</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">'&lt;/pre>'</span><span class="token punctuation">;</span>?<span class="token operator">></span>运行结果：array<span class="token punctuation">(</span>3<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>  string<span class="token punctuation">(</span>8<span class="token punctuation">)</span> <span class="token string">"wuyanzhu"</span>  <span class="token punctuation">[</span><span class="token string">"b"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>  string<span class="token punctuation">(</span>13<span class="token punctuation">)</span> <span class="token string">"huangxiaoming"</span>  <span class="token punctuation">[</span><span class="token string">"c"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>  string<span class="token punctuation">(</span>8<span class="token punctuation">)</span> <span class="token string">"ninzetao"</span><span class="token punctuation">}</span>a ---WUYANZHUb ---HUANGXIAOMINGc ---NINZETAO用自定义函数test_print执行后的效果：array<span class="token punctuation">(</span>3<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>  string<span class="token punctuation">(</span>8<span class="token punctuation">)</span> <span class="token string">"wuyanzhu"</span>  <span class="token punctuation">[</span><span class="token string">"b"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>  string<span class="token punctuation">(</span>13<span class="token punctuation">)</span> <span class="token string">"huangxiaoming"</span>  <span class="token punctuation">[</span><span class="token string">"c"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>  string<span class="token punctuation">(</span>8<span class="token punctuation">)</span> <span class="token string">"ninzetao"</span><span class="token punctuation">}</span></code></pre><blockquote><p>通过上例，我们发现数组中的每个参数和值都被修改了。上例大家只需要理解看见传callback的，需要传入函数协助处理就可以。不用理解。我们在下一章的数组部份，学习完数组，大家可以再看看。<br>函数支持的版本号很重要。</p></blockquote><p>&emsp;<br>&emsp;</p><h4 id="2-2-文件包含函数"><a href="#2-2-文件包含函数" class="headerlink" title="2.2 文件包含函数"></a><font color="#3CB371" face="Comic sans MS">2.2 文件包含函数</font></h4><font face="Comic sans MS">在实际开发中，常常需要把程序中的公用代码放到一个文件中，使用这些代码的文件只需要包含这个文件即可。这种方法有助于提高代码的重用性，给代码的编写与维护带来很大的便利。在PHP中， 有<br><font color="#00B2EE"><strong>include</strong></font><br><font color="#00B2EE"><strong>include_once</strong></font><br><font color="#00B2EE"><strong>require</strong></font><br><font color="#00B2EE"><strong>require_once</strong></font><br>四种方法包含一个文件。<br></font><table><thead><tr><th style="text-align:center">函数</th><th style="text-align:center">包含失败</th><th style="text-align:left">特点</th></tr></thead><tbody><tr><td style="text-align:center">Inlcude</td><td style="text-align:center">返回一条警告</td><td style="text-align:left">文件继续向下执行。通常用于动态包含</td></tr><tr><td style="text-align:center">Require</td><td style="text-align:center">一个致命的错</td><td style="text-align:left">代码就不会继续向下执行。通常包含极为重要的文件，整个代码甭想执行</td></tr><tr><td style="text-align:center">Include_once</td><td style="text-align:center">返回一条警告</td><td style="text-align:left">除了原有include的功能以外，它还会做once检测，如果文件曾经已经被被包含过，不再包含</td></tr><tr><td style="text-align:center">Require_once</td><td style="text-align:center">一个致命的错</td><td style="text-align:left">除了原的功能一外，会做一次once</td></tr></tbody></table><p>&emsp;</p><table><tr><td bgcolor="#ADD8E6"><font face="Comic sans MS"><font color="red"><strong>注意：</strong></font><br>1，少用_once带once，因为它会消耗更多的资源去做检测的工作。<br>2，特高级<br>Include文件只需要编译一次，因为每次包含include都会再执行一次对应的代码，如何减少include再次执行<br>时，需要重新解析的过程。<br></font></td></tr></table><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>1. include包含函数的功能。</strong></font><br></font><br>创建一个functions.php文件，里面写上两个函数：<font color="#FF6347">(1)↓↓</font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//functions.php文件<span class="token keyword">function</span> demo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'aaaa'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'cccdddd'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><p>&emsp;<br>在functions.php的同级目录下，我再创建一个user.php文件把functions.php文件包含进来。这样我的函数就可以专门放在functions.php里面，哪儿需要用到这些函数的时候，我就从哪儿包含进来：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//user.phpinclude <span class="token string">'functions.php'</span><span class="token punctuation">;</span>//可以直接调用demo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p>&emsp;<br><strong>接下来我们对比include和require：</strong><font color="#FF6347">(2)↓↓</font><br>代码中，我们先用include来<strong>包含不存在</strong>的test.php文件，</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//user.phpinclude <span class="token string">'functions.php'</span><span class="token punctuation">;</span>include <span class="token string">'test.php'</span><span class="token punctuation">;</span>//可以直接调用demo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p>再用require包含 不存在的test.php文件：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//user.phpinclude <span class="token string">'functions.php'</span><span class="token punctuation">;</span>require <span class="token string">'test.php'</span><span class="token punctuation">;</span>//可以直接调用demo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><blockquote><p><font color="#FF6347"><strong>通过上例的对比我们发现：</strong></font><br>(1) 如果test.php文件不存在include 会发出警告继续执行demo()和test()函数。<br>(2) 而requre则直接报错，demo()和test()函数无法继续执行。</p></blockquote><p>&emsp;<br>我们通过表格知道了:<strong>inlcude</strong> 和<strong>include_once</strong>的区别在于，<font color="#00B2EE"><strong>检测是否重复包含。</strong></font><font color="red"><strong>如果重复包含了include_once不会再包含 对应的文件了，而include 则不管这些。有没引入过文件，都再引入一次。</strong></font>include使用两次会报错，而include_once不会报错！</p><p>同样刚刚的user.php我们再实验一下,我们将functions.php包含两次，分别使用<strong>include</strong>和<strong>include_once</strong>：<font color="#FF6347">(3)↓↓</font></p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//user.php//这儿被包含了两次同样的函数定义文件哟include <span class="token string">'functions.php'</span><span class="token punctuation">;</span>include <span class="token string">'functions.php'</span><span class="token punctuation">;</span>//可以直接调用demo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span>运行后系统会报错！！！</code></pre><p>改为<strong>include_once</strong>再试一次：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//user.php//这儿被包含了两次同样的函数定义文件哟include_once <span class="token string">'functions.php'</span><span class="token punctuation">;</span>include_once <span class="token string">'functions.php'</span><span class="token punctuation">;</span>//可以直接调用demo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span>运行后系统不会报错！！！</code></pre><blockquote><p><strong>结论：</strong><br>我们在函数定义章节讲过，函数不能定义两次，否则会报错。<font color="#FF7F00"><strong>使用include时</strong></font>，因为我们将 functions.php包含了两次所以执行了两次，<font color="#FF7F00"><strong>因此报这个错误</strong></font>。<br>而<font color="#FF7F00"><strong>include_once不报错</strong></font>的原因是因为：他检测了functions.php曾经包含过，不再进行包含引入了。</p></blockquote><font face="Comic sans MS">而<strong>require</strong>和<strong>require_once</strong>的功能，大家用你最最聪明的小脑袋是不是就能推理出来了呢？require_once有两个特点：<br>1. 包含的文件必须存在，否则停止执行<br>2. 会做重复包含检查哟<br></font><p>&emsp;<br>&emsp;</p><h4 id="2-3-数学常用函数"><a href="#2-3-数学常用函数" class="headerlink" title="2.3  数学常用函数"></a><font color="#3CB371" face="Comic sans MS">2.3  数学常用函数</font></h4><p>在PHP程序中常常需要进行数据处理运算，这就需要使用数学函数。<font color="#00B2EE"><strong>数学函数是最简单、最常用的系统函数</strong></font>。本章以数学函数为例讲解系统函数的调用方法。</p><p>只需要记最常用的一些即可，最常用的列表：</p><table><thead><tr><th style="text-align:center">函数名</th><th style="text-align:center">描述</th><th style="text-align:left">实例</th><th style="text-align:left">输入</th><th style="text-align:left">输出</th></tr></thead><tbody><tr><td style="text-align:center">abs()</td><td style="text-align:center">求绝对值</td><td style="text-align:left">$abs = abs(-4.2); //4.2</td><td style="text-align:left">数字</td><td style="text-align:left">绝对值数字</td></tr><tr><td style="text-align:center">ceil()</td><td style="text-align:center">进一法取整</td><td style="text-align:left">echo ceil(9.999); // 10</td><td style="text-align:left">浮点数</td><td style="text-align:left">进一取整</td></tr><tr><td style="text-align:center">floor()</td><td style="text-align:center">舍去法取整</td><td style="text-align:left">echo floor(9.999); // 9</td><td style="text-align:left">浮点数</td><td style="text-align:left">直接舍去小数部分</td></tr><tr><td style="text-align:center">fmod()</td><td style="text-align:center">浮点数取余</td><td style="text-align:left">“$x = 5.7;$y = 1.3;<br>$r = fmod($x, $y);<br>// $r equals 0.5, <br>because 4 *  1.3 + 0.5 = 5.7”</td><td style="text-align:left">两个浮点数,x&gt;y</td><td style="text-align:left">浮点余数</td></tr><tr><td style="text-align:center">pow()</td><td style="text-align:center">返回数的n次方</td><td style="text-align:left">echo pow(-1, 20); // 1</td><td style="text-align:left">基础数n次方</td><td style="text-align:left">乘方值</td></tr><tr><td style="text-align:center">round()</td><td style="text-align:center">浮点数四舍五入</td><td style="text-align:left">echo round(1.95583, 2);// 1.96</td><td style="text-align:left">一个数值</td><td style="text-align:left">保留小数点后多少位,默认为0,舍入后的结果</td></tr><tr><td style="text-align:center">sqrt()</td><td style="text-align:center">求平方根</td><td style="text-align:left">echo sqrt(9); //3</td><td style="text-align:left">被开方的数</td><td style="text-align:left">平方根</td></tr><tr><td style="text-align:center">max()</td><td style="text-align:center">求最大值</td><td style="text-align:left">“echo max(1, 3, 5, 6, 7);  <br>// 7 echo max(array(2, 4, 5)); <br>// 5”</td><td style="text-align:left">多个数字或数组</td><td style="text-align:left">返回其中的最大值</td></tr><tr><td style="text-align:center">min()</td><td style="text-align:center">求最小值</td><td style="text-align:left">min</td><td style="text-align:left">多个数字或数组</td><td style="text-align:left">返回其中的最小值</td></tr><tr><td style="text-align:center">mt_rand()</td><td style="text-align:center">更好的随机数</td><td style="text-align:left">echo mt_rand(0,9);//n</td><td style="text-align:left">最小/最大,随机数</td><td style="text-align:left">随机返回范围内的值</td></tr><tr><td style="text-align:center">rand()</td><td style="text-align:center">随机数</td><td style="text-align:left">echo rand()</td><td style="text-align:left">最小/最大,随机数</td><td style="text-align:left">随机返回范围内的值</td></tr><tr><td style="text-align:center">pi()</td><td style="text-align:center">获取圆周率值</td><td style="text-align:left">echo pi(); <br>// 3.1415926535898</td><td style="text-align:left">无</td><td style="text-align:left">获取圆周率</td></tr></tbody></table><p>&emsp;<br>&emsp;</p><h4 id="2-4-获取时期时间信息函数"><a href="#2-4-获取时期时间信息函数" class="headerlink" title="2.4  获取时期时间信息函数"></a><font color="#3CB371" face="Comic sans MS">2.4  获取时期时间信息函数</font></h4><font face="Comic sans MS">在正式学习日期函数前大家得了解几个概念：<br><font color="#00B2EE"><strong>1. 时区</strong><br><strong>2. 世界时</strong><br><strong>3 .unix时间戳</strong></font><br></font><blockquote><p><font color="#FF7F00"><strong>时区</strong></font><br>这个概念，之前大家听说过很多。我们来啰嗦两句，我们现实生活中使用的实区，在电脑里面也是一样有规定的。<br>1884年在华盛顿召开国际经度会议时，为了克服时间上的混乱，规定将全球划分为24个时区。<br>在中国采用首都北京所在地东八区的时间为全国统一使用时间。</p></blockquote><blockquote><p><font color="#FF7F00"><strong>世界时</strong></font><br>不光是天文学家使用格林尼治时间（英文简写:GMT），就是在新闻报刊上也经常出现这个名词。我们知道各地都有各地的地方时间。如果对国际上某一重大事情，用地方时间来记录，就会感到复杂不便．而且将来日子一长容易搞错。因此，天文学家就提出一个大家都能接受且又方便的记录方法，那就是以格林尼治（英国某地区）的地方时间为标准。</p></blockquote><blockquote><p><font color="#FF7F00"><strong>unix时间戳</strong></font><br>电脑本身不认识时间，我们在电脑里面设置一个时间方便运算。于是我们规定了一种计算方式，unix时间戳。<br>从Unix纪元（1970 年 1月1日零时）开始到一个时间经过的秒数。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>1. 设置时区</strong></font><br>如果，我们是跨国的多语方程序，我们通常是通过在配置文件里面来写好了个时区，每次程序运行的时候。都会读取这个时区的设置，来显示时间。<br><br>设置时区的函数为：<br>1). <font color="red"><strong>date_default_timezone_get()</strong></font><br>2). <font color="red"><strong>date_default_timezone_set()</strong></font><br></font><p>&emsp;</p><font color="#FF6347">(1)↓↓</font><br>第一个函数就不重点讲解了，比较简单。<br>用法如下：<br><font color="#00B2EE"><strong>string date_default_timezone_get ( void )</strong></font><br>功能如下：<strong>取得一个脚本中所有日期时间函数所使用的默认时区</strong><br>示例：<br><font color="#00B2EE"></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">echo</span> <span class="token function">date_default_timezone_get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span>输出<span class="token punctuation">:</span><span class="token constant">UTC</span></code></pre><p>&emsp;</p><font color="#FF6347">(2)↓↓</font><br>第二个函数是重点：<br>用法如下：<br><font color="#00B2EE"><strong>bool date_default_timezone_set ( string $timezone_identifier )</strong></font><br>功能如下：<strong>用于所有日期时间函数的默认时区</strong><font color="#00B2EE">&emsp;[注：<a href="http://php.net/manual/zh/timezones.php" target="_blank" rel="noopener">时区列表请详见官方手册</a>]</font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//定义一下时区常量，以后你可以放到配置文件里define<span class="token punctuation">(</span><span class="token string">'TIME_ZONE'</span>,<span class="token string">'Asia/shanghai'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//执行函数date_default_timezone_set<span class="token punctuation">(</span>TIME_ZONE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> date<span class="token punctuation">(</span><span class="token string">'Y-m-d H:i:s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span>输出：2019-02-17 13:03:42</code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>2. time()获取当前的unix时间戳</strong></font><br>以下代码输出当前时间的Unix时间戳。<br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php   <span class="token variable">$time</span><span class="token operator">=</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   print_r<span class="token punctuation">(</span> <span class="token variable">$time</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span>程序运行结果：1421597858</code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>3. “亚麻跌”是PHP学习时间处理的关键</strong></font><br><font color="red"><strong>Y</strong></font> &emsp;英文是 year， 为年份   代表年 ——亚<br><font color="red"><strong>m</strong></font> &emsp;英文代表month，为月份  代表月 ——麻<br><font color="red"><strong>d</strong></font> &emsp;英文代表day， 为日期   代表日 ——跌<br><font color="red"><strong>H:i:s</strong></font> &emsp;代表的是：时分秒<br><font color="red"><strong>h</strong></font> &emsp;的英文为：hour 代表小时<br><font color="red"><strong>i</strong></font>&emsp; 的英文为：minute 代表分钟<br><font color="red"><strong>s</strong></font>&emsp; 的英文为：second 代表秒<br></font><p>所以我们需要输出前前的年份，月份，日期的话。例如：1997年7月1日，我们就可以用到上面的三个参数。</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token keyword">echo</span> date<span class="token punctuation">(</span><span class="token string">'Y年m月d日'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span>2019年02月17日</code></pre><p>&emsp;<br>写全了就是：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//就可以显示出来当前的时间了哟。<span class="token keyword">echo</span> date<span class="token punctuation">(</span><span class="token string">'Y-m-d H:i:s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="red"><strong>date函数</strong></font>用于将一个时间进行格式化输出，以方便时间的显示或存储。其语法格式如下：<br><font color="#00B2EE"><strong>string date ( string $forrnat [, int $timestamp] )</strong></font><br>在参数列表中:<br>$timestamp是一个时间戳，函数将这个时间戳按$format规定的格式输出。<br>如果$timestamp没有输入值，则默认为当前的时间。<br>$format是一个时间输出格式的字符串，需要使用规定的字符构造输出格式。<br></font><p>&emsp;</p><font color="#FF7F00"><strong>date函数的格式参数表：</strong></font><table><thead><tr><th style="text-align:center">字符</th><th style="text-align:left">说明</th><th style="text-align:left">返回值</th></tr></thead><tbody><tr><td style="text-align:center">d</td><td style="text-align:left">月份中的第几天，有前导零的2位数字</td><td style="text-align:left">01到31</td></tr><tr><td style="text-align:center">D</td><td style="text-align:left">英文星期几，3个字母</td><td style="text-align:left">Mon到Sun</td></tr><tr><td style="text-align:center">j</td><td style="text-align:left">月份中的第几天，没有前导零</td><td style="text-align:left">1到31</td></tr><tr><td style="text-align:center">l(字母)</td><td style="text-align:left">英文星期几</td><td style="text-align:left">Sunday到 Saturday</td></tr><tr><td style="text-align:center">N</td><td style="text-align:left">1格式数字表示的星期</td><td style="text-align:left">1（表示星期一）到7（表示星期天)</td></tr><tr><td style="text-align:center">S</td><td style="text-align:left">每月天数后面的英文后缀，2个字符</td><td style="text-align:left">st，nd，rd或者th。可以和jg一起用</td></tr><tr><td style="text-align:center">w</td><td style="text-align:left">星期中的第几天，数字表示</td><td style="text-align:left">0（表示星期天）到 6（表示星期六）</td></tr><tr><td style="text-align:center">z</td><td style="text-align:left">一年中的第几天</td><td style="text-align:left">0到366</td></tr><tr><td style="text-align:center">W</td><td style="text-align:left">年份中的第几周，每周从星期一开始</td><td style="text-align:left">42（当年的第42周）</td></tr><tr><td style="text-align:center">F</td><td style="text-align:left">月份，完整的文本格式</td><td style="text-align:left">January 到 December</td></tr><tr><td style="text-align:center">m</td><td style="text-align:left">数字表示月份，有前导零</td><td style="text-align:left">01 到 12</td></tr><tr><td style="text-align:center">M</td><td style="text-align:left">3个字母缩写表示的月份</td><td style="text-align:left">Jan 到Dec</td></tr><tr><td style="text-align:center">n</td><td style="text-align:left">数字表示月份，没有前导零</td><td style="text-align:left">1 到 12</td></tr><tr><td style="text-align:center">t</td><td style="text-align:left">给定月份所应有的天数</td><td style="text-align:left">28 到 31</td></tr><tr><td style="text-align:center">L</td><td style="text-align:left">是否为闰年</td><td style="text-align:left">如果是闰年为1，否则为o</td></tr><tr><td style="text-align:center">o</td><td style="text-align:left">格式年份数字</td><td style="text-align:left">例如2007</td></tr><tr><td style="text-align:center">Y</td><td style="text-align:left">4 位数字完整表示年份</td><td style="text-align:left">例如1999或2008</td></tr><tr><td style="text-align:center">y</td><td style="text-align:left">2 位数字表示的年份</td><td style="text-align:left">例如99或08</td></tr><tr><td style="text-align:center">a</td><td style="text-align:left">小写的上午和下午值</td><td style="text-align:left">am或pm</td></tr><tr><td style="text-align:center">A</td><td style="text-align:left">大写的上午和下午值</td><td style="text-align:left">AM或PM</td></tr><tr><td style="text-align:center">g</td><td style="text-align:left">小时，12小时格式，没有前导零</td><td style="text-align:left">1到12</td></tr><tr><td style="text-align:center">G</td><td style="text-align:left">小时，24小时格式，没有前导零</td><td style="text-align:left">0 到 23</td></tr><tr><td style="text-align:center">i</td><td style="text-align:left">有前导零的分钟数</td><td style="text-align:left">00 到 59</td></tr><tr><td style="text-align:center">s</td><td style="text-align:left">秒数，有前导零</td><td style="text-align:left">00到59</td></tr><tr><td style="text-align:center">e</td><td style="text-align:left">时区标识    </td></tr><tr><td style="text-align:center">U</td><td style="text-align:left">从Unix纪元开始至今的秒数</td><td style="text-align:left">长整型数字</td></tr></tbody></table><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>4. getdate获取当前系统时间</strong></font><br><font color="red"><strong>getdate</strong></font>用来获取当前系统的时间，或者获得一个时间戳的具体含义。时间戳是一个长整数，表示getdate的语法格式如下所示。<br><font color="red"><strong>array getdate ([ int $timestamp = time() ] )</strong></font><br>函数的返回值是一个根据timestamp得到的包含有时间信息的<strong>数组</strong>。如果没有参数，则会返回当前的时间。getdate返回的数组，键名包括时间和日期的完整信息。<br></font><table><thead><tr><th style="text-align:center">键名</th><th style="text-align:left">说明</th><th style="text-align:left">返回值</th></tr></thead><tbody><tr><td style="text-align:center">secnods</td><td style="text-align:left">秒</td><td style="text-align:left">数字0到 59</td></tr><tr><td style="text-align:center">minutes</td><td style="text-align:left">分钟</td><td style="text-align:left">数字0到59</td></tr><tr><td style="text-align:center">hours</td><td style="text-align:left">小时</td><td style="text-align:left">数字 0到 23</td></tr><tr><td style="text-align:center">mday</td><td style="text-align:left">月份中第几天    数字</td><td style="text-align:left">1到 31</td></tr><tr><td style="text-align:center">wday</td><td style="text-align:left">星期中第几天    数字</td><td style="text-align:left">0（表示星期天）到6（表示星期六）</td></tr><tr><td style="text-align:center">mon</td><td style="text-align:left">月份</td><td style="text-align:left">数字 1 到 12</td></tr><tr><td style="text-align:center">year</td><td style="text-align:left">年</td><td style="text-align:left">4 位数字表示的完整年份</td></tr><tr><td style="text-align:center">yday</td><td style="text-align:left">一年中第几天    数字</td><td style="text-align:left">0到365</td></tr><tr><td style="text-align:center">weekday</td><td style="text-align:left">星期几的英文</td><td style="text-align:left">Sunday到 Saturday</td></tr><tr><td style="text-align:center">month</td><td style="text-align:left">月份的英文</td><td style="text-align:left">January 到 December</td></tr><tr><td style="text-align:center">0</td><td style="text-align:left">自从Unix纪元开始的秒数</td><td style="text-align:left">长整型数字</td></tr></tbody></table><p>&emsp;<br>以下代码可以返回getdate 数组的详细信息。</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>   <span class="token variable">$mytime</span><span class="token operator">=</span><span class="token function">getdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">print_r</span><span class="token punctuation">(</span> <span class="token variable">$mytime</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br><strong>print_r</strong>可以输出一个数组中所有的键名与值。运行这段代码，结果如下所示。程序输出当前计算机的时间与日期详细信息：</p><pre class=" language-php"><code class="language-php"><span class="token keyword">Array</span><span class="token punctuation">(</span>    <span class="token punctuation">[</span>seconds<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">1</span>            <span class="token comment" spellcheck="true">//秒</span>    <span class="token punctuation">[</span>minutes<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">10</span>            <span class="token comment" spellcheck="true">//分钟</span>    <span class="token punctuation">[</span>hours<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">17</span>            <span class="token comment" spellcheck="true">//小时</span>    <span class="token punctuation">[</span>mday<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">18</span>            <span class="token comment" spellcheck="true">//日</span>    <span class="token punctuation">[</span>wday<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">0</span>            <span class="token comment" spellcheck="true">//星期中的第几天</span>    <span class="token punctuation">[</span>mon<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">1</span>            <span class="token comment" spellcheck="true">//月</span>    <span class="token punctuation">[</span>year<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">2015</span>            <span class="token comment" spellcheck="true">//年</span>    <span class="token punctuation">[</span>yday<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">17</span>            <span class="token comment" spellcheck="true">//年中的第几天</span>    <span class="token punctuation">[</span>weekday<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> Sunday        <span class="token comment" spellcheck="true">//星期</span>    <span class="token punctuation">[</span>month<span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> January        <span class="token comment" spellcheck="true">//月份</span>    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">1421597401</span>        <span class="token comment" spellcheck="true">//时间戳</span><span class="token punctuation">)</span></code></pre><p>&emsp;</p><font color="#FF6347">↓↓</font>理解了getdate函数和返回的数组以后，就很容易取得当前的时间信息了。下面的代码就是用getdate函数取得时间信息，调用返回时间数组的值输出时间信息。<br><font color="#00B2EE"></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php <span class="token variable">$mytime</span> <span class="token operator">=</span> getdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"年 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'year'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"月 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'mon'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"日 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'mday'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"时 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'hours'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"分 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'minutes'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"秒 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'seconds'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"一个小时中的第几钟 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'minutes'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"这是一分钟的第几秒 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'seconds'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"星期名称 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'weekday'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"月份名称 :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span><span class="token string">'month'</span><span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"时间戳   :"</span><span class="token keyword">.</span><span class="token variable">$mytime</span><span class="token punctuation">[</span>0<span class="token punctuation">]</span>.<span class="token string">"\n"</span><span class="token punctuation">;</span>?<span class="token operator">></span>运行结果：年 :2019 月 :2 日 :17 时 :5 分 :39 秒 :34 一个小时中的第几钟 :39 这是一分钟的第几秒 :34 星期名称 :Sunday 月份名称 :February 时间戳 :1550381974</code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>5. 日期验证函数</strong></font><br><font color="red"><strong>checkdate</strong></font>可以判断一个输出的日期是否有效。<br>在实际的工作中，我们需要经常用于检测常用于用户提交表单的数据验证。<br>例如：<strong>验证用户输入的时间是否正确</strong>。<br>函数的语法格式如下：<br><font color="red"><strong>bool checkdate ( int $month , int $day , int $year )</strong></font><br></font><br>&emsp;<br><font color="red"></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">checkdate</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">2018</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">checkdate</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">2011</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span>输出结果：<span class="token function">bool</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token function">bool</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span></code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>6.获取本地化时间戳函数</strong></font> </font><br><strong>mktime()函数、strtotime()函数。</strong><br><font color="#00B2EE">[注：<a href="http://www.php.cn/code/1116.html" target="_blank" rel="noopener">使用方法</a>]</font><p>&emsp;<br>&emsp;</p><h4 id="2-5-检测程序执行时间"><a href="#2-5-检测程序执行时间" class="headerlink" title="2.5  检测程序执行时间"></a><font color="#3CB371" face="Comic sans MS">2.5  检测程序执行时间</font></h4><font face="Comic sans MS">我们有的时经常需要做程序的执行时间执行效率判断。</font><br>实现的思路如下：<br><font color="red"></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//记录开始时间//记录结整时// 开始时间  减去（-）  结束时间  得到程序的运行时间?<span class="token operator">></span></code></pre><p>&emsp;<br>&emsp;</p><font face="Comic sans MS">可是不要忘了，程序的运行速度太快了。快到只有0.00000几秒的一刹那。那这个时候大家要记录一个特函的函数了：</font><br><font color="red"><strong>mixed microtime ([ bool $get_as_float ] )</strong></font><br><strong>microtime()这个函数，能够返回当前 Unix 时间戳和微秒数。</strong><br><font color="red"></font><blockquote><font color="#FF6347"><strong>参数：</strong><br>如果你传入true的话，将会返回一个浮点类型的时间，这样方便参与运算。</font></blockquote><p>模拟一个检测函数执行时间的例子，测试某个函数效率的快慢：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//开始时间<span class="token variable">$time_start</span> <span class="token operator">=</span> microtime<span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span>//循环一万次for<span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> 0 <span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> 10000 <span class="token punctuation">;</span> <span class="token variable">$i</span>++<span class="token punctuation">)</span><span class="token punctuation">{</span>   //你可以用上，mktime<span class="token punctuation">(</span><span class="token punctuation">)</span> 生成一个昨天的时间   //再用strtotime<span class="token punctuation">(</span><span class="token punctuation">)</span> 生成一个昨天的时间   //对比两个函数认的效率高<span class="token punctuation">}</span>//结整时间<span class="token variable">$time_end</span> <span class="token operator">=</span> microtime<span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span>//相减得到运行时间<span class="token variable">$time</span> <span class="token operator">=</span> <span class="token variable">$time_end</span> - <span class="token variable">$time_start</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"这个脚本执行的时间为 <span class="token variable">$time</span> seconds\n"</span><span class="token punctuation">;</span>?<span class="token operator">></span>运行结果：这个脚本执行的时间为 0.00016498565673828 seconds</code></pre><blockquote><p>最后输出的结果就是我们实际的函数的执行时间。你可以多对比几次，看看最终的结果。<br>谁的时间短，在实际的工作中，你就可以经常使用哪个函数。</p></blockquote><p>&emsp;<br>&emsp;</p><h4 id="2-6-字符串常用函数"><a href="#2-6-字符串常用函数" class="headerlink" title="2.6  字符串常用函数"></a><font color="#3CB371" face="Comic sans MS">2.6  字符串常用函数</font></h4><font color="red"><strong>数组</strong></font>、<font color="red"><strong>字符串</strong></font>和<font color="red"><strong>数据库</strong></font>是我们函数里面最、最、最常用的三类函数。<br><br><font face="Comic sans MS">当然PHP的字符串函数也有很多。我们最常使用的两个系列的字符串：<br>    1.单字节字符串处理函数<br>    2.多字节字符串处理函数<br>    3.字符串编码转换函数<br></font><blockquote><p><font color="#FF6347"><strong>我们来说说为什么要学这么多函数：</strong></font><br>    1.我们学的是中文，是双字节或者三字节的。老外的函数只能处理英文和数字这些单字节的字符串处理不鸟中文。达不到我们的功能需求<br>    2.有的时候需要做不同字符编码间的转换，例如：把GBK的转为UTF-8<br>    3.英文这些字符在电脑里又是必须要处理的</p></blockquote><p>&emsp;</p><blockquote><p>中文主要用的是GBK和utf-8两种编码格式。<br>GBK和utf-8是两个不同的编码委员会对于汉字进行的编码的标准。<br>他们规定GBK是双字节，也就是一个汉字占用2Bytes。<br>utf-8是三字节，一个汉字占用三个字节长度的存储空间。</p></blockquote><p>&emsp;</p><font color="#00B2EE">PHP常用函数：</font><table><thead><tr><th style="text-align:center">函数名</th><th style="text-align:left">描述</th><th style="text-align:left">实例</th></tr></thead><tbody><tr><td style="text-align:center">trim()</td><td style="text-align:left">删除字符串两端的空格或其他预定义字符</td><td style="text-align:left">“$str = “\r\nHello World!\r\n”; echo trim($str);</td></tr><tr><td style="text-align:center">rtrim()</td><td style="text-align:left">删除字符串右边的空格或其他预定义字符</td><td style="text-align:left">“$str = “Hello World!\n\n”; echo rtrim($str);”</td></tr><tr><td style="text-align:center">chop()</td><td style="text-align:left">rtrim()的别名</td><td style="text-align:left">同上</td></tr><tr><td style="text-align:center">ltrim()</td><td style="text-align:left">删除字符串左边的空格或其他预定义字符</td><td style="text-align:left">“$str = “\r\nHello World!”; echo ltrim($str);”</td></tr><tr><td style="text-align:center">dirname()</td><td style="text-align:left">回路径中的目录部分（我们把它归在了字符串函数里了）</td><td style="text-align:left">echo dirname(“c:/testweb/home.php”);</td></tr><tr><td style="text-align:center">str_pad()</td><td style="text-align:left">把字符串填充为指定的长度</td><td style="text-align:left">$str = “Hello World”; echo str_pad($str,20,”.”);</td></tr><tr><td style="text-align:center">str_repeat()</td><td style="text-align:left">重复使用指定字符串</td><td style="text-align:left">echo str_repeat(“.”,13);</td></tr><tr><td style="text-align:center">str_split()</td><td style="text-align:left">把字符串分割到数组中</td><td style="text-align:left">print_r(str_split(“Hello”));</td></tr><tr><td style="text-align:center">strrev()</td><td style="text-align:left">反转字符串</td><td style="text-align:left">echo strrev(“Hello World!”);</td></tr><tr><td style="text-align:center">wordwrap()</td><td style="text-align:left">按照指定长度对字符串进行折行处理</td><td style="text-align:left">“$str = “”An example on a long word is: Supercalifragulistic””; echo wordwrap($str,15);”</td></tr><tr><td style="text-align:center">str_shuffle()</td><td style="text-align:left">随机地打乱字符串中所有字符</td><td style="text-align:left">echo str_shuffle(“Hello World”);</td></tr><tr><td style="text-align:center">parse_str()</td><td style="text-align:left">将字符串解析成变量</td><td style="text-align:left">“parse_str(“id=23&amp;name=John%20Adams”,$myArray); print_r($myArray);”</td></tr><tr><td style="text-align:center">number_format()</td><td style="text-align:left">通过千位分组来格式化数字</td><td style="text-align:left">“echo number_format(“1000000”); echo number_format(“1000000”,2); echo number_format(“1000000”,2,””,””,””.””);”</td></tr><tr><td style="text-align:center">strtolower()</td><td style="text-align:left">字符串转为小写</td><td style="text-align:left">echo strtolower(“Hello WORLD!”);</td></tr><tr><td style="text-align:center">strtoupper()</td><td style="text-align:left">字符串转为大写</td><td style="text-align:left">echo strtoupper(“Hello WORLD!”);</td></tr><tr><td style="text-align:center">ucfirst()</td><td style="text-align:left">字符串首字母大写</td><td style="text-align:left">echo ucfirst(“hello world”);</td></tr><tr><td style="text-align:center">ucwords()</td><td style="text-align:left">字符串每个单词首字符转为大写</td><td style="text-align:left">echo ucwords(“hello world”);</td></tr><tr><td style="text-align:center">htmlentities()</td><td style="text-align:left">把字符转为HTML实体</td><td style="text-align:left">$str = “”John &amp; ‘Adams’””; echo htmlentities($str, ENT_COMPAT);</td></tr><tr><td style="text-align:center">htmlspecialchars()</td><td style="text-align:left">预定义字符转html编码    </td></tr><tr><td style="text-align:center">nl2br()</td><td style="text-align:left">\n转义为标签</td><td style="text-align:left">echo nl2br(“One line.\nAnother line.”);</td></tr><tr><td style="text-align:center">strip_tags()</td><td style="text-align:left">剥去 HTML、XML 以及 PHP 的标签</td><td style="text-align:left">echo strip_tags(“Hello world!”);</td></tr><tr><td style="text-align:center">addcslashes()</td><td style="text-align:left">在指定的字符前添加反斜线转义字符串中字符</td><td style="text-align:left">$str = “”Hello, my name is John Adams.” echo $str; echo addcslashes($str,’m’);”</td></tr><tr><td style="text-align:center">stripcslashes()</td><td style="text-align:left">删除由addcslashes()添加的反斜线</td><td style="text-align:left">echo stripcslashes(“Hello, \my na\me is Kai Ji\m.”);</td></tr><tr><td style="text-align:center">addslashes()</td><td style="text-align:left">指定预定义字符前添加反斜线</td><td style="text-align:left">$str = “Who’s John Adams?”;echo addslashes($str);</td></tr><tr><td style="text-align:center">stripslashes()</td><td style="text-align:left">删除由addslashes()添加的转义字符</td><td style="text-align:left">echo stripslashes(“Who\’s John Adams?”);</td></tr><tr><td style="text-align:center">quotemeta()</td><td style="text-align:left">在字符串中某些预定义的字符前添加反斜线</td><td style="text-align:left">$str = “Hello world. (can you hear me?)”; echo quotemeta($str);</td></tr><tr><td style="text-align:center">chr()</td><td style="text-align:left">从指定的 ASCII 值返回字符</td><td style="text-align:left">echo chr(052);</td></tr><tr><td style="text-align:center">ord()</td><td style="text-align:left">返回字符串第一个字符的 ASCII值</td><td style="text-align:left">echo ord(“hello”);</td></tr><tr><td style="text-align:center">strcasecmp()</td><td style="text-align:left">不区分大小写比较两字符串</td><td style="text-align:left">echo strcasecmp(“Hello world!”,”HELLO WORLD!”);</td></tr><tr><td style="text-align:center">strcmp()</td><td style="text-align:left">区分大小写比较两字符串    </td></tr><tr><td style="text-align:center">strncmp()</td><td style="text-align:left">比较字符串前n个字符,区分大小写    </td></tr><tr><td style="text-align:center">strncasecmp()</td><td style="text-align:left">比较字符串前n个字符,不区分大小写</td><td style="text-align:left">int strncasecmp ( string $str1 , string $str2 , int $len )</td></tr><tr><td style="text-align:center">strnatcmp()</td><td style="text-align:left">自然顺序法比较字符串长度,区分大小写</td><td style="text-align:left">int strnatcmp ( string $str1 , string $str2 )</td></tr><tr><td style="text-align:center">strnatcasecmp()</td><td style="text-align:left">自然顺序法比较字符串长度,不区分大小写</td><td style="text-align:left">int strnatcasecmp ( string $str1 , string $str2 )</td></tr><tr><td style="text-align:center">chunk_split()</td><td style="text-align:left">将字符串分成小块</td><td style="text-align:left">str chunk_split(str $body[,int $len[,str $end]])</td></tr><tr><td style="text-align:center">strtok()</td><td style="text-align:left">切开字符串</td><td style="text-align:left">str strtok(str $str,str $token)</td></tr><tr><td style="text-align:center">explode()</td><td style="text-align:left">使用一个字符串为标志分割另一个字符串</td><td style="text-align:left">array explode(str $sep,str $str[,int $limit])</td></tr><tr><td style="text-align:center">implode()</td><td style="text-align:left">同join,将数组值用预订字符连接成字符串</td><td style="text-align:left">string implode ( string $glue , array $pieces )</td></tr><tr><td style="text-align:center">substr()</td><td style="text-align:left">截取字符串</td><td style="text-align:left">string substr ( string $string , int $start [, int $length ] )</td></tr><tr><td style="text-align:center">str_replace()</td><td style="text-align:left">字符串替换操作,区分大小写</td><td style="text-align:left">mix str_replace(mix $search,,mix $replace,mix $subject[,int &amp;$num])</td></tr><tr><td style="text-align:center">str_ireplace()</td><td style="text-align:left">字符串替换操作,不区分大小写</td><td style="text-align:left">mix str_ireplace ( mix $search , mix $replace , mix $subject [, int &amp;$count ] )</td></tr><tr><td style="text-align:center">substr_count()</td><td style="text-align:left">统计一个字符串,在另一个字符串中出现次数</td><td style="text-align:left">int substr_count ( string $haystack , string $needle [, int $offset = 0 [, int $length ]] )</td></tr><tr><td style="text-align:center">substr_replace()</td><td style="text-align:left">替换字符串中某串为另一个字符串</td><td style="text-align:left">mixed substr_replace ( mixed $string , string $replacement , int $start [, int $length ] )</td></tr><tr><td style="text-align:center">similar_text()</td><td style="text-align:left">返回两字符串相同字符的数量</td><td style="text-align:left">int similar_text(str $str1,str $str2)</td></tr><tr><td style="text-align:center">strchr()</td><td style="text-align:left">返回一个字符串在另一个字符串中开始位置到结束的字符串</td><td style="text-align:left">string strstr ( string $str, string $needle , bool $before_needle )</td></tr><tr><td style="text-align:center">strrchr()</td><td style="text-align:left">返回一个字符串在另一个字符串中最后一次出现位置开始到末尾的字符串</td><td style="text-align:left">string strrchr ( string $haystack , mixed $needle )</td></tr><tr><td style="text-align:center">stristr()</td><td style="text-align:left">返回一个字符串在另一个字符串中开始位置到结束的字符串，不区分大小写</td><td style="text-align:left">string stristr ( string $haystack , mixed $needle [, bool $before_needle = false ] )</td></tr><tr><td style="text-align:center">strtr()</td><td style="text-align:left">转换字符串中的某些字符</td><td style="text-align:left">string strtr ( string $str , string $from , string $to )</td></tr><tr><td style="text-align:center">strpos()</td><td style="text-align:left">寻找字符串中某字符最先出现的位置</td><td style="text-align:left">int strpos ( string $haystack , mixed $needle [, int $offset = 0 ] )</td></tr><tr><td style="text-align:center">stripos()</td><td style="text-align:left">寻找字符串中某字符最先出现的位置,不区分大小写</td><td style="text-align:left">int stripos ( string $haystack , string $needle [, int $offset ] )</td></tr><tr><td style="text-align:center">strrpos()</td><td style="text-align:left">寻找某字符串中某字符最后出现的位置</td><td style="text-align:left">int strrpos ( string $haystack , string $needle [, int $offset = 0 ] )</td></tr><tr><td style="text-align:center">strripos()</td><td style="text-align:left">寻找某字符串中某字符最后出现的位置,不区分大小写</td><td style="text-align:left">int strripos ( string $haystack , string $needle [, int $offset ] )</td></tr><tr><td style="text-align:center">strspn()</td><td style="text-align:left">返回字符串中首次符合mask的子字符串长度</td><td style="text-align:left">int strspn ( string $str1 , string $str2 [, int $start [, int $length ]] )</td></tr><tr><td style="text-align:center">strcspn()</td><td style="text-align:left">返回字符串中不符合mask的字符串的长度</td><td style="text-align:left">int strcspn ( string $str1 , string $str2 [, int $start [, int $length ]] )</td></tr><tr><td style="text-align:center">str_word_count()</td><td style="text-align:left">统计字符串含有的单词数</td><td style="text-align:left">mix str_word_count(str $str,[])</td></tr><tr><td style="text-align:center">strlen()</td><td style="text-align:left">统计字符串长度</td><td style="text-align:left">int strlen(str $str)</td></tr><tr><td style="text-align:center">count_chars()</td><td style="text-align:left">统计字符串中所有字母出现次数(0..255)</td><td style="text-align:left">mixed count_chars ( string $string [, int $mode ] )</td></tr><tr><td style="text-align:center">md5()</td><td style="text-align:left">字符串md5编码</td><td style="text-align:left">$str = “Hello”; echo md5($str)</td></tr><tr><td style="text-align:center"><font color="red"><strong>iconv：</strong></font></td><td style="text-align:left"></td></tr><tr><td style="text-align:center">mb_substr</td><td style="text-align:left">获取字符串的部分</td><td style="text-align:left">string mb_substr ( string $str , int $start [, int $length = NULL [, string $encoding = mb_internal_encoding() ]] )</td></tr><tr><td style="text-align:center">mb_http_output</td><td style="text-align:left">设置/获取 HTTP 输出字符编码</td><td style="text-align:left">mixed mb_http_output ([ string $encoding = mb_http_output() ] )</td></tr><tr><td style="text-align:center">mb_strlen</td><td style="text-align:left">获取字符串的长度</td><td style="text-align:left">mixed mb_strlen ( string $str [, string $encoding = mb_internal_encoding() ] )</td></tr><tr><td style="text-align:center">iconv</td><td style="text-align:left">字符串按要求的字符编码来转换</td><td style="text-align:left">string iconv ( string $in_charset , string $out_charset , string $str )</td></tr><tr><td style="text-align:center">iconv_substr</td><td style="text-align:left">截取字符串的部分    </td></tr><tr><td style="text-align:center">iconv_get_encoding</td><td style="text-align:left">获取 iconv 扩展的内部配置变量    </td></tr><tr><td style="text-align:center">mb_substr_count</td><td style="text-align:left">统计字符串出现的次数    </td></tr><tr><td style="text-align:center">mb_check_encoding</td><td style="text-align:left">检查字符串在指定的编码里是否有效    </td></tr><tr><td style="text-align:center">mb_strrpos</td><td style="text-align:left">查找字符串在一个字符串中最后出现的位置    </td></tr><tr><td style="text-align:center">mb_split</td><td style="text-align:left">使用正则表达式分割多字节字符串    </td></tr><tr><td style="text-align:center">parse_url</td><td style="text-align:left">解释URL成为一个数组    </td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;PHP函数分为&lt;font color=&quot;red&quot;&gt;&lt;strong&gt;自定义函数&lt;/strong&gt;&lt;/font&gt;和&lt;font color=&quot;red&quot;&gt;&lt;strong&gt;系统函数&lt;/strong&gt;&lt;/font&gt; (oﾟvﾟ)ノ&lt;/p&gt;
    
    </summary>
    
      <category term="PHP" scheme="Treecatee.gitgub.io/categories/PHP/"/>
    
    
      <category term="PHP语言" scheme="Treecatee.gitgub.io/tags/PHP%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>PHP-正则表达式</title>
    <link href="Treecatee.gitgub.io/post/php-regular-expression/"/>
    <id>Treecatee.gitgub.io/post/php-regular-expression/</id>
    <published>2019-02-14T13:40:36.000Z</published>
    <updated>2019-03-06T16:37:21.715Z</updated>
    
    <content type="html"><![CDATA[<p>世界上最难懂的是道士的鬼符、医生的处方和程序员的正则表达示。(ง •_•)ง<br><a id="more"></a></p><p>&ensp;<br>&ensp;</p><center><font color="#00B2EE" face="Comic sans MS" size="5"><strong>PHP 正则表达式</strong></font></center><p>&emsp;<br>&emsp;</p><font color="red"><strong>正则表达示我们其实之前经常看到，它主要用在以下一些地方：</strong></font><br>1.匹配邮箱、手机号码、验证码<br>2.替换敏感的关键词。例如：涉及政治和骂人的话<br>3.文章采集。<br>4.早期的表情替换技术,ubb文件编码、markdown编辑器替换等<br>5.以后自己写模板引擎也需要用到正则表达示<br>其他….<br><font face="Comic sans MS"></font><blockquote><p>正则表达式是一种描述字符串结果的语法规则，是一个特定的格式化模式，可以匹配、替换、截取匹配的字符串。<font color="#00B2EE"><strong>常用的语言基本上都有正则表达式，如JavaScript、java</strong></font>等。其实，只有了解一种语言的正则使用，其他语言的正则使用起来，就相对简单些。文本主要围绕解决下面问题展开。</p></blockquote><hr><hr><h4 id="1-定界符"><a href="#1-定界符" class="headerlink" title="1. 定界符"></a><font color="#FF6347" face="Comic sans MS">1. 定界符</font></h4><font face="Comic sans MS">定界符，就是定一个边界，边界以内的就是正则表达示。<br>PHP的正则表达示定界符的规定如下：<br>定界符，<font color="#00B2EE"><strong>不能用a-zA-Z0-9\ 其他的都可以用。必须成对出现，有开始就有结束。</strong></font><br>我们来例几个例子：<br></font><table><thead><tr><th style="text-align:center">例子</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">/中间写正则/</td><td style="text-align:center">正确</td></tr><tr><td style="text-align:center">$中间写正则$</td><td style="text-align:center">正确</td></tr><tr><td style="text-align:center">%中间写正则%</td><td style="text-align:center">正确</td></tr><tr><td style="text-align:center">^中间写正则^</td><td style="text-align:center">正确</td></tr><tr><td style="text-align:center">@中间写正则@</td><td style="text-align:center">正确</td></tr><tr><td style="text-align:center">#中间写正则#</td><td style="text-align:center">正确</td></tr><tr><td style="text-align:center">(中间写正则)</td><td style="text-align:center">错误</td></tr><tr><td style="text-align:center">A中间写正则A</td><td style="text-align:center">错误</td></tr></tbody></table><p>&emsp;<br>&emsp;</p><h4 id="2-转义字符"><a href="#2-转义字符" class="headerlink" title=" 2. 转义字符 "></a><font face="Comic sans MS" color="#FF6347"> 2. 转义字符 </font></h4><font face="Comic sans MS">注：<font color="#FF7F00">\ </font>是转义字符，如果在以后正则表达示里面需要匹配/，如下：<br>/ / /<br>这个时候真要匹配/ 的时候，需要把定界符里面的/ 用转义字符转义一下，写成下面的例子：<br>/ <font color="#FF7F00">\</font>/ /<br>如果你觉得麻烦，遇到这种需要转义的字符的时候可以把两个正斜线（/ /）定界，改为其他的定界符（# #）。<br></font><p>&emsp;<br>&emsp;</p><h4 id="3-原子"><a href="#3-原子" class="headerlink" title=" 3. 原子 "></a><font face="Comic sans MS"><font color="#FF6347"> 3. 原子 </font></font></h4><font face="Comic sans MS"><font color="#00B2EE"><strong>原子</strong></font>是正则表达示里面的最小单位，原子说白了就是需要匹配的内容。一个成立的正则表达示当中必须最少要有一个原子。<br><font color="#00B2EE"><strong>所有可见不可见的字符就是原子！</strong></font><br><font color="red"><strong>说明：</strong></font>我们见到的空格、回车、换行、0-9、A-Za-z、中文、标点符号、特殊符号全为原子。<br>在做原子的实例前我们先来讲解一个函数,preg_match:<br><font color="red">int preg_match ( string $正则 , string $字符串 [, array &amp;$结果] )</font><br>功能：根据$正则变量，匹配$字符串变量。如果存在则返回匹配的个数，把匹配到的结果放到$结果变量里。如果没有匹配到结果返回0。<br><strong>注：</strong>上面是preg_match常用的主要几个参数。我在上面将另外几个参数没有列出来。因为，另外两个参数太不常用了。<br>我们来通过实验来证明：<br></font><font color="#FF6347">(1)↓↓</font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//定义一个变量叫zz，放正则表达示。为了方便大家记忆，如果你英文比较ok，建议把变量名还是写成//英文的<span class="token variable">$pattern</span>。<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/a/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'ddfdjjvi2jfvkwkfi24'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>因为我希望的是匹配a，而$string当是是不存在a的，所以不成功。</p></blockquote><font color="#FF6347">(2)↓↓</font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/wq/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'ssssswqaaaaaa'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>上面的字符串中s后存在wq，因此匹配成功。</p></blockquote><p>接下来我们匹配一个空格试试：</p><font color="#FF6347">(3)↓↓</font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/ /'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'sssssw aaaaa'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配到了，结果为：array<span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token string">" "</span> <span class="token punctuation">}</span></code></pre><blockquote><p>因上，$string这个变量的w字符后存在一个空格。所以匹配成功，输出了字符串类型，长度为1。只不过我们的肉眼不可见，看不到这个字符串而已。</p></blockquote><p>&emsp;</p><h4 id="4-特殊标识的原子"><a href="#4-特殊标识的原子" class="headerlink" title="4. 特殊标识的原子"></a><font face="Comic sans MS" color="#FF6347">4. 特殊标识的原子</font></h4><table><thead><tr><th style="text-align:center">原子</th><th style="text-align:left">说明</th><th style="text-align:left">等价式</th></tr></thead><tbody><tr><td style="text-align:center">\d</td><td style="text-align:left">匹配一个0-9</td><td style="text-align:left">[a-zA-Z0-9_] </td></tr><tr><td style="text-align:center">\D</td><td style="text-align:left">除了0-9以外的所有字符</td><td style="text-align:left">[^a-zA-Z0-9_]</td></tr><tr><td style="text-align:center">\w</td><td style="text-align:left">a-zA-Z0-9_</td><td style="text-align:left">[0-9]</td></tr><tr><td style="text-align:center">\W</td><td style="text-align:left">除了0-9A-Za-z_以外的所有字符</td><td style="text-align:left">[^0-9]</td></tr><tr><td style="text-align:center">\s</td><td style="text-align:left">匹配所有空白字符\n \t \r 空格</td><td style="text-align:left">[ \t\n\f\r]</td></tr><tr><td style="text-align:center">\S</td><td style="text-align:left">匹配所有非空白字符</td><td style="text-align:left">[^ \t\n\f\r]</td></tr><tr><td style="text-align:center">[ ]</td><td style="text-align:left">指定范围的原子</td><td style="text-align:left"></td></tr></tbody></table><font color="#FF6347">这个个需要记住，最好达到默写级别。记忆的时候成对记忆，\d是匹配一个0-9，那么\D 就是除了0-9以外的所有字符。上面已经说明的很清楚了，我们进行实验一步一步对这些进行学习。</font><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>1. \d匹配一个0-9</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\d/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'我爱喝9你爱不爱喝'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>2. \D匹配一个非0-9的值</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\D/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'121243中23453453'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配成功，匹配到了中。因为它不是0-9之间的字符。</code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>3. \w匹配一个a-zA-Z0-9_</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\w/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'新中_国万岁呀万岁'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配成功，匹配到了下划线。</code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>4. \W匹配一个非a-zA-Z0-9_</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\w/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'afasABCWEQR44231284737'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配失败。因为，上面上面全是a-zA-Z0-9_，没有非a-zA-Z0-9_。</code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>5. \s 匹配所有空白字符\n \t \r 空格</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\s/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"中国万岁"</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配成功，因为有一个回车。</code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>6. \S 非空字符</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\s/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"                 a       "</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配成功。虽然上面有空格，回车和缩进。但是，有一个非空白字符a。因此，匹配成功。</code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>7. [] 指定范围的原子</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/[0-5]\w+/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'6a'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">'1C'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>结论：<br>上例中0-5匹配$string失败，而$string1成功。因为，$string中的第一个数值为6，不在[0-5]的范围之内。</p></blockquote><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/[a-zA-Z0-9_]\w/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'ab'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">'9A'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>结论：$string和$string1都匹配成功。因为\w就是[a-zA-Z0-9_]</p></blockquote><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/[abc]\d+/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'a9'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">'b1'</span><span class="token punctuation">;</span><span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">'c5'</span><span class="token punctuation">;</span><span class="token variable">$string3</span> <span class="token operator">=</span> <span class="token string">'d4'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>结论：$string、$string1、$string2匹配成功，而$string3不成功。因为$string3超过了[abc]的范围，它是从d开始的。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>8. [\^ 字符] 不匹配指定区间的字符</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/[^0-9A-Za-z_]/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'aaaaab311dd'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">'!<span class="token variable">$@!#</span>%<span class="token variable">$#</span>^##'</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>结论：</p><ol><li>匹配$string不成功，但是匹配$string1的时候成功。因为中括号里面有个抑扬符。</li><li>^ 抑扬符在中括号里面的作用是不准以中括号里面的字符进行匹配。</li></ol></blockquote><p>&emsp;</p><h4 id="5-元字符"><a href="#5-元字符" class="headerlink" title="5. 元字符"></a><font face="Comic sans MS" color="#FF6347">5. 元字符</font></h4><font face="Comic sans MS"><font color="#00B2EE"><strong>抛出问题：</strong></font>\d 代表匹配一个字符。而我现在想要匹配十个八个，任意多个数字肿么办？<br>这个时候我们就要用到元字符。在使用原子的时候，发现只能够匹配一个字符，可是要匹配多个字符就出现了问题。<br>这个时候，我们需要借助<font color="#00B2EE">元字符</font>来帮我们修饰原子，实现更多的功能。<br></font><table><thead><tr><th style="text-align:center">元字符</th><th style="text-align:left">功能说明</th></tr></thead><tbody><tr><td style="text-align:center">*</td><td style="text-align:left">是代表匹配前面的一个原子，匹配0次或者任意多次前面的字符。</td></tr><tr><td style="text-align:center">+</td><td style="text-align:left">匹配一次或多前前面的一个字符</td></tr><tr><td style="text-align:center">?</td><td style="text-align:left">前面的字符可有可无【可选】 有或没有</td></tr><tr><td style="text-align:center">.</td><td style="text-align:left">更标准一些应该把点算作原子。匹配除了\n以外的所有字符</td></tr><tr><td style="text-align:center">丨</td><td style="text-align:left">或者。注：它的优先级最低了。</td></tr><tr><td style="text-align:center">^</td><td style="text-align:left">必须要以抑扬符之后的字符串开始</td></tr><tr><td style="text-align:center">$</td><td style="text-align:left">必须要以$之前的字符结尾</td></tr><tr><td style="text-align:center">\b</td><td style="text-align:left">词边界</td></tr><tr><td style="text-align:center">\B</td><td style="text-align:left">非边界</td></tr><tr><td style="text-align:center">{m}</td><td style="text-align:left">有且只能出现m次</td></tr><tr><td style="text-align:center">{n,m}</td><td style="text-align:left">可以出现n到m次</td></tr><tr><td style="text-align:center">{m,}</td><td style="text-align:left">至少m次，最大次数不限制</td></tr><tr><td style="text-align:center">()</td><td style="text-align:left">改变优先级或者将某个字符串视为一个整体，匹配到的数据取出来也可以使用它</td></tr></tbody></table><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>1. + 匹配最少1次前面的字符</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\d+/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"迪奥和奥迪250都是我最爱"</span><span class="token punctuation">;</span>//待会儿再试试中间没有0-9的情况//<span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"迪奥和奥迪都是我最爱"</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配成功，证明了\d+中的+。\d是匹配数字，而+是最少匹配一次前面的字符。</code></pre><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>2. * 匹配0次或者任意多次前面的字符</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\w*/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"!@!@!!@#@!<span class="token variable">$@#!</span>"</span><span class="token punctuation">;</span>//待会儿再试试中间没有0-9的情况//<span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"!@#!@#!abcABC#@#!"</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>说明，注释掉的$string1和$string都匹配成功了。因为，\w是匹配的0-9A-Za-z_，而*是说明前面的\w可以不存在。如果存在可以有1个或者多个。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>3. ? 前面的字符出现0次或者1次，可有可无</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/ABC\d?ABC/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"ABC1ABC"</span><span class="token punctuation">;</span>//待会儿再试试中间没有0-9的情况//<span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"ABC888888ABC"</span><span class="token punctuation">;</span>//<span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"ABCABC"</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>匹配$string,$string2成功，但是匹配$string1失败。<br>因为匹配前后都是ABC，中间是一个0-9。0-9可有可无，但是不能有多个。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>4. . (点) 匹配除\n以外的所有字符</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/gg.+gg/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"ABC1ABC"</span><span class="token punctuation">;</span>if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else<span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>匹配$string,$string2成功，但是匹配$string1失败。<br>因为匹配前后都是ABC，中间是一个0-9。0-9可有可无，但是不能有多个。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>5. |（竖线），或者，优先级最低</strong></font><br></font><p>我们通过实验来看优先级和或者的匹配</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/abc|bcd/'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"abccd"</span><span class="token punctuation">;</span><span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"ggggbcd"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string1</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><p>我们来看看：<br>    1.最开始我匹配的想法是想匹配的是abccd或者是abbcd。可是，匹配$string1和$string2，匹配出来的结果却是abc和bcd.<br>    2.实现了或者匹配，匹配出来了abc或者是bcd。它还没有字符串连续在一起的优先级高。</p><p>那么问题来了，我要匹配上例中的abccd或者是abbcd怎么办？</p><font color="red">需要使用到<strong>()</strong>来改变优先级。</font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/ab(c|b)cd/'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"起来abccd阅兵"</span><span class="token punctuation">;</span><span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"ggggbcd"</span><span class="token punctuation">;</span><span class="token variable">$string3</span> <span class="token operator">=</span> <span class="token string">'中国abbcd未来'</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string1</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配到了，结果为：array<span class="token punctuation">(</span>2<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>5<span class="token punctuation">)</span> <span class="token string">"abccd"</span> <span class="token punctuation">[</span>1<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token string">"c"</span> <span class="token punctuation">}</span></code></pre><blockquote><p>结论：<br>   1.确实匹配了了abccd或者abbcd（$string1 or $string3）。<br>   2.但是匹配的数组里面多了一个元素，这个元素的下标为1<br>   3.()中的内容只要匹配成功，会把匹配到的数据放到下标为1的这个数组元素中。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>6. ^ （抑扬符），必须要以^之后的字符串开始</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/^猪哥好帅\w+/'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"猪哥好帅abccdaaaasds"</span><span class="token punctuation">;</span>//<span class="token variable">$string2</span>没有以猪哥好帅开始<span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"帅abccdaaaasds"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string1</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>通过实验发现以下结论：<br>   1.$string1匹配成功，$string2没有匹配成功<br>   2.因为$string1是以指定的字符开始的<br>   3.而$string2并没有以^之后的字符开始<br>   4.翻译这个正则的意思就是：以要猪哥好帅开始后面接a-zA-Z0-9_最少一个字符。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>7. $ （美元符）必须要以$之前的字符结束</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\d+努力$/'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"12321124333努力"</span><span class="token punctuation">;</span>//<span class="token variable">$string2</span><span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"12311124112313力"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string1</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>我们运行一下看一下结果，得出来的结论：<br>   1.$string1 匹配成功，而$string2匹配不成功<br>   2.$之前的字符是\d+，后面接着中文的努力。<br>   3.因此，匹配的是这一个整体。\d指的是0-9的整型,+号代表最少一个0-9</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>8. \b和\B 词边界和非词边界</strong></font><br></font><p>我们来讲解什么是边界：</p><p>   1.正则表达示是有边界的，这个边界是定界符的开始和结尾是正则的边界。</p><p>   2.this是一个英文单词，后面加上一个空格，意味着这个词结束了，到达了这个词的边界</p><p>\b词边界，就是指必须要在最前或者最后。<br>\B非边界，就是不能在一个正则表达示的最前或者最后。</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\w+\b/'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"this is a apple"</span><span class="token punctuation">;</span><span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"thisis a apple"</span><span class="token punctuation">;</span><span class="token variable">$string3</span> <span class="token operator">=</span> <span class="token string">"thisisaapple"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string1</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>结论：<br>   1.$string1、$string2和$string3都匹配成功。<br>   2.$string1匹配的时候this 空格是边界<br>   3.$string2匹配的时候thisis是边界<br>   4.$string3匹配的时候，thisisaapple到了整个正则表达示的最后，因此也是边界。所以匹配成功。</p></blockquote><p>我们来实验一下非词边界：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/\Bthis/'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"hellothis9"</span><span class="token punctuation">;</span>//<span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"hello this9"</span><span class="token punctuation">;</span>//<span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"this9中国万岁"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string1</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>总结：<br>   1.匹配$string1成功而$string2不成功。<br>   2.因为\B后接的是this，所以this不能在词边界（空格和开始结尾）的位置出现。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>9. {m}有且只能出现m次</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/喝\d{3}酒/'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"喝988酒"</span><span class="token punctuation">;</span>//<span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"喝98811酒"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string1</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>结论：<br>上例中\d{3}我规定了0-9只能出现3次，多一次少一次都不行。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>10. {n,m} 可以出现n到m次</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/喝\d{1,3}酒/'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"喝9酒"</span><span class="token punctuation">;</span>//<span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"喝988酒"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string1</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>结论：<br>上例中\d{1,3}我规定了0-9只能出现1次，2次或者3次。其它次数都是错的</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>11. {m,} 至少m次，最大次数不限制</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$zz</span> <span class="token operator">=</span> <span class="token string">'/喝\d{2,}/'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">"喝9"</span><span class="token punctuation">;</span>//<span class="token variable">$string2</span> <span class="token operator">=</span> <span class="token string">"喝98"</span><span class="token punctuation">;</span>//<span class="token variable">$string3</span> <span class="token operator">=</span> <span class="token string">"喝98122121"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$zz</span>, <span class="token variable">$string1</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>结论：<br>上例中\d{2,}我规定喝后面的0-9最少出现两次，最多次数不限。因此$string1是匹配不成功的，$string2是匹配成功的。$string3是匹配成功的。</p></blockquote><p>&emsp;</p><h4 id="6-模式修正符"><a href="#6-模式修正符" class="headerlink" title="6. 模式修正符"></a><font face="Comic sans MS"><font color="#FF6347">6. 模式修正符</font></font></h4><font face="Comic sans MS">我们通过元字符和原子完成了正则表达示的入门。有一些特殊情况我们依然需要来处理。<br>如果abc在第二行的开始处如何匹配？<br><font color="red">我不希望正则表达示特别贪婪的匹配全部，只匹配一部份怎么办？</font><br>这个时候，我们就需要用到下面的这些模式匹配来增强正则的功能。<br><br><font color="#00B2EE"><strong>常用的模式匹配符有：</strong></font><br></font><table><thead><tr><th style="text-align:center">模式匹配符</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">i</td><td style="text-align:left">模式中的字符将同时匹配大小写字母.</td></tr><tr><td style="text-align:center">m</td><td style="text-align:left">字符串视为多行</td></tr><tr><td style="text-align:center">s</td><td style="text-align:left">将字符串视为单行,换行符作为普通字符.</td></tr><tr><td style="text-align:center">x</td><td style="text-align:left">将模式中的空白忽略.</td></tr><tr><td style="text-align:center">A</td><td style="text-align:left">强制仅从目标字符串的开头开始匹配.</td></tr><tr><td style="text-align:center">D</td><td style="text-align:left">模式中的美元元字符仅匹配目标字符串的结尾.</td></tr><tr><td style="text-align:center">U</td><td style="text-align:left">匹配最近的字符串.</td></tr></tbody></table><font face="Comic sans MS">模式匹配符的用法如下：<font color="red"><strong>/ 正则表达示/模式匹配符</strong></font> &emsp;   <font color="#00B2EE">模式匹配符是放在正则表达式的最后的。</font><br></font>例如： /\w+/<font color="red"><strong>s</strong></font> <p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>1. i 不区分大小写</strong></font><br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php //在后面加上了一个i     <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/ABC/i'</span><span class="token punctuation">;</span> <span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'8988abc12313'</span><span class="token punctuation">;</span><span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">'11111ABC2222'</span><span class="token punctuation">;</span> if<span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span><span class="token punctuation">{</span>     <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>     var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>else<span class="token punctuation">{</span>     <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>结论，不论是$string还是$string1全都匹配成功了。因此，在后面加上了i之后，能够不共分匹配内容的大小写。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>2. m 视为多行</strong></font><br></font><font color="red">正则在匹配的时候，要匹配的目标字符串我们通常视为一行。</font><br><font color="#00B2EE"><strong>“行起始”元字符（^）</strong></font>仅仅匹配字符串的起始，<font color="#00B2EE"><strong>“行结束”元字符（$）</strong></font>仅仅匹配字符串的结束。<br>当设定了此修正符，“行起始”和“行结束”除了匹配整个字符串开头和结束外，还分别匹配其中的换行符的之后和之前。<br><font color="red"><strong>注意：</strong></font><strong>如果要匹配的字符串中没有“\n”字符或者模式中没有 ^ 或 $，则设定此修正符没有任何效果。</strong><br><br>我们通过实验和代码来验证一下这个特点：<br>第一次匹配，你会发现匹配不成功：<font color="#FF6347">(1)↓↓</font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/^a\d+/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"我的未来在自己手中我需要不断的努力a9是一个不错的字符表示怎么办呢，其实需要不断奋进"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>    var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><p>&emsp;<br>第二次匹配，我们加上m 试试：<font color="#FF6347">(2)↓↓</font></p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/^a\d+/m'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"我的未来在自己手中我需要不断的努力a9是一个不错的字符表示怎么办呢，其实需要不断奋进"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>    var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配到了，结果为：array<span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>2<span class="token punctuation">)</span> <span class="token string">"a9"</span> <span class="token punctuation">}</span></code></pre><blockquote><p>哦耶！匹配成功了。/^a\d+/ 匹配的内容是a9，必须得在行开始处。在第二行也被匹配成功了。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>3. s 视为一行</strong></font><br>如果设定了此修正符，模式中的圆点元字符（.）匹配所有的字符，包括换行符。<br></font><br>第一次，不加模式匹配符s：<font color="#FF6347">(1)↓↓</font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/新的未来.+\d+/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'新的未来987654321'</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><p>&emsp;<br>第二次，在正则表达示后面加上模式匹配符s:<font color="#FF6347">(2)↓↓</font></p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/新的未来.+\d+/s'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"新的未来987654321"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配到了，结果为：array<span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>22<span class="token punctuation">)</span> <span class="token string">"新的未来 987654321"</span> <span class="token punctuation">}</span></code></pre><blockquote><p>结论：</p><ol><li>因为在新的未来，未来后面有一个换行</li><li>而.(点)是匹配非空白字符以外的所有字符。因此，第一次不成功</li><li>第二次，加上了s模式匹配符。因为，加上后.（点）能匹配所有字符。</li></ol></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>4. x 忽略空白字符</strong></font><br> 1. 如果设定了此修正符，模式中的空白字符除了被转义的或在字符类中的以外完全被忽略。<br> 2. 未转义的字符类外部的#字符和下一个换行符之间的字符也被忽略。<br></font><ul><li><font color="#FF6347">(1)↓↓</font>我们先来实验一下忽略空白行等特性：</li></ul><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/a b c /x'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'学英语要从abc开始'</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配到了，结果为：array<span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>3<span class="token punctuation">)</span> <span class="token string">"abc"</span> <span class="token punctuation">}</span></code></pre><blockquote><p>这样也能匹配成功。<br>在$pattern里面有空格，每个abc后面有一个空格。而$string里面没有空格。<br>所以x忽略空白字符。</p></blockquote><ul><li><font color="#FF6347">(2)↓↓</font>而第二句话从字面上比较难理解：</li></ul><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//重点观察这一行<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/a b c #我来写一个注释/x'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'学英语要从abc开始'</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$matches</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$matches</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配到了，结果为：array<span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>3<span class="token punctuation">)</span> <span class="token string">"abc"</span> <span class="token punctuation">}</span></code></pre><blockquote><p>结果也匹配成功了！<br>我们发现，<font color="red">x的第二个特性是忽略：#字符和下一个换行符之间的字符也被忽略</font>。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>5. e 将匹配项找出来，进行替换</strong></font><br>e模式也叫逆向引用。主要的功能是将正则表达式括号里的内容取出来，放到替换项里面替换原字符串。<br>使用这个模式匹配符前必须要使用到<font color="#00B2EE"><strong>preg_replace()</strong></font>。<br><font color="red"><strong>mixed preg_replace ( mixed $正则表达式 , mixed $用于取代字符串的字串 , mixed $目标字符串)</strong></font><br><strong>preg_replace的功能：</strong>使用正则表达式 ，找到目标字符串。然后用’用于取代字符串的字串’进行替换。<br></font><p>在正式讲解前我们回顾一下之前的知识，我们故意的把每个要匹配的原子外面都加上括号：<font color="#FF6347">↓↓</font></p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//加上了括号<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/(\d+)([a-z]+)(\d+)/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'987abc321'</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$match</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$match</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配到了，结果为：array<span class="token punctuation">(</span>4<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>9<span class="token punctuation">)</span> <span class="token string">"987abc321"</span> <span class="token punctuation">[</span>1<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>3<span class="token punctuation">)</span> <span class="token string">"987"</span> <span class="token punctuation">[</span>2<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>3<span class="token punctuation">)</span> <span class="token string">"abc"</span> <span class="token punctuation">[</span>3<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>3<span class="token punctuation">)</span> <span class="token string">"321"</span> <span class="token punctuation">}</span></code></pre><blockquote><p>这是我们之前讲括号的时候：匹配到的内容外面有括号。会把括号里面的内容，也放到数组的元素里面。如图中的：987、abc、321。</p></blockquote><p>&emsp;<br>我们接下来看正则表达示中的e模式：<font color="#FF6347">↓↓</font></p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"{April 15, 2003}"</span><span class="token punctuation">;</span>//<span class="token string">'w'</span>匹配字母，数字和下划线，<span class="token string">'d'</span>匹配0-99数字，<span class="token string">'+'</span>元字符规定其前导字符必须在目标对象中连续出现一次或多次<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">"/{(\w+) (\d+), (\d+)}/i"</span><span class="token punctuation">;</span><span class="token variable">$replacement</span> <span class="token operator">=</span> <span class="token string">"\<span class="token variable">$2</span>"</span><span class="token punctuation">;</span>//字符串被替换为与第 n 个被捕获的括号内的子模式所匹配的文本<span class="token keyword">echo</span> preg_replace<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$replacement</span>, <span class="token variable">$string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span>运行结果：15</code></pre><blockquote></blockquote><p>结论：</p><ol><li>上例中\$2 指向的是正则表达示的第一个(\d+)。相当于把15又取出来了</li><li>替换的时候，我写上\$2。将匹配项取出来，用来再次替换匹配的结果。</li></ol><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>6. U 贪婪模式控制</strong></font><br>正则表达式默认是贪婪的，也就是尽可能的最大限度匹配。<br></font><p>我们来看看正则表达示是如何贪婪的：<font color="#FF6347">↓↓</font></p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/&lt;div>.*&lt;\/div>/'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"&lt;div>你好&lt;/div>&lt;div>我是&lt;/div>"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$match</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$match</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>运行结果：匹配到了，结果为：array<span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>34<span class="token punctuation">)</span> <span class="token string">"你好我是"</span> <span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p>我们来看看结果，得到如下结论。它从“<br>你好”直接匹配到了“我是<br>”。进行了最大范围的匹配。</p></blockquote><p>&emsp;<br>同样一段代码我们再加大写的U，再看看效果：<font color="#FF6347">↓↓</font></p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/&lt;div>.*&lt;\/div>/U'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"&lt;div>你好&lt;/div>&lt;div>我是&lt;/div>"</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$match</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$match</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span>运行结果：匹配到了，结果为：array<span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span> string<span class="token punctuation">(</span>17<span class="token punctuation">)</span> <span class="token string">"你好"</span> <span class="token punctuation">}</span></code></pre><blockquote><p>我们发现，只匹配出来了：&lt;div>你好&lt;/div><br>这样，把正则的贪婪特性取消掉。让它找到了最近的匹配，就OK了。</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>7. A 从目标字符串的开头开始匹配</strong></font><br>此模式类似于元字符中的^（抑扬符）效果。<br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/this/A'</span><span class="token punctuation">;</span><span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">'hello this is a '</span><span class="token punctuation">;</span>//<span class="token variable">$string1</span> <span class="token operator">=</span> <span class="token string">'this is a '</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern</span>, <span class="token variable">$string</span>, <span class="token variable">$match</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span>   var_dump<span class="token punctuation">(</span><span class="token variable">$match</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span><span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><blockquote><p><strong>结论：</strong><br>   1.如果加A模式修正符的时候匹配不出来$string，不加时能匹配出来<br>   2.如果加上了A模式修正符的时候能匹配出来$string1,因为必须要从开始处开始匹配</p></blockquote><p>&emsp;</p><font face="Comic sans MS"><font color="#00B2EE"><strong>8. D 结束$符后不准有回车</strong></font><br>如果设定了此修正符，模式中的美元元字符仅匹配目标字符串的结尾。没有此选项时，如果最后一个字符是换行符的话，美元符号也会匹配此字符之前。<br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token string">'/\w+this$/'</span><span class="token punctuation">;</span> <span class="token variable">$pattern1</span> <span class="token operator">=</span> <span class="token string">'/\w+this$/D'</span><span class="token punctuation">;</span> <span class="token variable">$string</span> <span class="token operator">=</span> <span class="token string">"hellothis "</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>preg_match<span class="token punctuation">(</span><span class="token variable">$pattern1</span>, <span class="token variable">$string</span>, <span class="token variable">$match</span><span class="token punctuation">))</span> <span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token string">'匹配到了，结果为：'</span><span class="token punctuation">;</span> var_dump<span class="token punctuation">(</span><span class="token variable">$match</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>else <span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token string">'没有匹配到'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> ?<span class="token operator">></span></code></pre><blockquote><p><strong>结论：</strong><br>1.如pattern 在匹配$string的时候，$string的字符串this后有一个回车。在没有加D匹配符的时候也能匹配成功<br>2.如pattern 在匹配$string的时候，加上了D。$string的字符串this后有空格，匹配不成功。</p></blockquote><p>&emsp;</p><h4 id="7-写正则的诀窍和常用正则"><a href="#7-写正则的诀窍和常用正则" class="headerlink" title="7. 写正则的诀窍和常用正则"></a><font face="Comic sans MS" color="#FF6347">7. 写正则的诀窍和常用正则</font></h4><font face="Comic sans MS">写正则的诀窍</font><br>女孩和男孩恋爱时的诀窍通常是：测试你是不是对我好一点，如果是的，咱们的关系就更好一点。<br>而正则的诀窍和恋爱的诀窍基本一致：<font color="red">写一点、测一点。</font><br>因为，<strong>我们需要不断的正则，用preg_match对比是不是能匹配成功。成功了，再写后面的一点。直到写完，全部匹配成功为止！</strong><br><font face="Comic sans MS">例如，我要写一个邮箱的正则。我先要做的事情，将常用的邮箱格式全部列出来。例如：<br><a href="mailto:phpcn@php.cn" target="_blank" rel="noopener">phpcn@php.cn</a> &emsp; <a href="mailto:phpcn@corp.baidu.cm" target="_blank" rel="noopener">phpcn@corp.baidu.cm</a> &emsp; <a href="mailto:phpcn@126.com" target="_blank" rel="noopener">phpcn@126.com</a>  &emsp;<a href="mailto:phpcn@xxx.com" target="_blank" rel="noopener">phpcn@xxx.com</a>  &emsp;<a href="mailto:12345@qq.com" target="_blank" rel="noopener">12345@qq.com</a><br></font><table><tr><td bgcolor="#ADD8E6"><font face="Comic sans MS">  常用的格式主要有这样一些。那我们就可以来分析：<br>    1.先匹配@之前的字符 \w+（因为是0-9A-Za-z_）<br>    2.第二个跟一个@符<br>    3.第三个再写上[a-zA-Z0-9-]+ 因为qq和126这些主域名是不能有下划线的<br>    4.corp.baidu. 或者是126. 通常邮箱后缀都是这样的。所以我们可以写成：([a-zA-Z0-9-]+.){1,2}<br>    5.上面的是将 <strong>.</strong> 转义，让它是本身的意思。括号重复的区间最少一次，最多两次。<br>    6.后面接下com|cn|org|gov.cn|net|edu.cn等就可以了<br></font></td></tr></table><p>因此，我们的正则表达式我使用：<br>/\w+@([a-zA-Z0-9-]+.){1,2}(com|cn|org|gov.cn|net|edu.cn)/<br>或<br>/\w+@([a-zA-Z0-9_]+)\.(com|cn|org|gov.cn|net|edu.cn)/<br>邮箱的正则就被我写成功了。ฅʕ•̫͡•ʔฅ</p><p>&emsp;</p><h4 id="8-常用正则函数"><a href="#8-常用正则函数" class="headerlink" title="8. 常用正则函数"></a><font face="Comic sans MS" color="#FF6347">8. 常用正则函数</font></h4><table><thead><tr><th style="text-align:center">函数名</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">preg_filter</td><td style="text-align:left">执行一个正则表达式搜索和替换</td></tr><tr><td style="text-align:center">preg_grep</td><td style="text-align:left">返回匹配模式的数组条目</td></tr><tr><td style="text-align:center">preg_match</td><td style="text-align:left">执行一个正则表达式匹配</td></tr><tr><td style="text-align:center">preg_match_all</td><td style="text-align:left">执行一个全局正则表达式匹配</td></tr><tr><td style="text-align:center">preg_replace_callback_array</td><td style="text-align:left">传入数组，执行一个正则表达式搜索和替换使用回调</td></tr><tr><td style="text-align:center">preg_replace_callback</td><td style="text-align:left">执行一个正则表达式搜索并且使用一个回调进行替换</td></tr><tr><td style="text-align:center">preg_replace</td><td style="text-align:left">执行一个正则表达式的搜索和替换</td></tr><tr><td style="text-align:center">preg_split</td><td style="text-align:left">通过一个正则表达式分隔字符串</td></tr></tbody></table><p>&emsp;<br><strong>正则关于面试常遇到的问题</strong><br>面试中经常考到的几个正则达达示是：</p><ol><li>匹配邮箱</li><li>匹配手机号</li><li>匹配一个网址</li><li>用正则匹配某个格式，取出某个例</li><li>写一个采集器<br>其他….</li></ol><p>面试的第4题和第5题我对大家不担心，因为只要大家认真学习了我给的前五节的内容。第4，5题推理就行。<br>因为，通常在技术答题面试环节，是时候准许查手机的！  ヾ(๑╹◡╹)ﾉ”</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;世界上最难懂的是道士的鬼符、医生的处方和程序员的正则表达示。(ง •_•)ง&lt;br&gt;
    
    </summary>
    
      <category term="PHP" scheme="Treecatee.gitgub.io/categories/PHP/"/>
    
    
      <category term="PHP语言" scheme="Treecatee.gitgub.io/tags/PHP%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>PHP-命名空间</title>
    <link href="Treecatee.gitgub.io/post/php-namespace/"/>
    <id>Treecatee.gitgub.io/post/php-namespace/</id>
    <published>2019-02-14T02:09:57.000Z</published>
    <updated>2019-03-06T16:37:24.867Z</updated>
    
    <content type="html"><![CDATA[<p>(oﾟvﾟ)ノ<br><a id="more"></a></p><blockquote><blockquote><p><font color="red">如果没有定义任何命名空间，所有的类与函数的定义都是在全局空间</font>，与 PHP 引入命名空间概念前一样。在名称前加上前缀 \ 表示该名称是全局空间中的名称，即使该名称位于其它的命名空间中时也是如此。对于函数和常量来说，如果当前命名空间中不存在该函数或常量，PHP 会退而使用全局空间中的函数或常量。</p></blockquote></blockquote><blockquote><blockquote><p><font color="#00B2EE"><strong>名称解析遵循下列规则：</strong></font></p><ol><li>对完全限定名称的函数，类和常量的调用在编译时解析。例如 new \A\B 解析为类 A\B。</li><li>所有的非限定名称和限定名称（非完全限定名称）根据当前的导入规则在编译时进行转换。例如，如果命名空间 A\B\C 被导入为 C，那么对 C\D\e() 的调用就会被转换为 A\B\C\D\e()。</li><li>在命名空间内部，所有的没有根据导入规则转换的限定名称均会在其前面加上当前的命名空间名称。例如，在命名空间 A\B 内部调用C\D\e()，则 C\D\e() 会被转换为 A\B\C\D\e() 。</li><li>非限定类名根据当前的导入规则在编译时转换（用全名代替短的导入名称）。例如，如果命名空间 A\B\C 导入为C，则 new C() 被转换为 new A\B\C() 。</li><li>在命名空间内部（例如A\B），对非限定名称的函数调用是在运行时解析的。例如对函数 foo() 的调用是这样解析的：<br>(1). 在当前命名空间中查找名为 A\B\foo() 的函数<br>(2). 尝试查找并调用 全局(global) 空间中的函数 foo()。</li><li>在命名空间（例如A\B）内部对非限定名称或限定名称类（非完全限定名称）的调用是在运行时解析的。下面是调用 new C() 及 new D\E() 的解析过程： new C()的解析:<br>(1). 在当前命名空间中查找A\B\C类。<br>(2). 尝试自动装载类A\B\C。<br><font color="red">new D\E()的解析:</font><br>(1). 在类名称前面加上当前命名空间名称变成：A\B\D\E，然后查找该类。<br>(2). 尝试自动装载类 A\B\D\E。<br>为了引用全局命名空间中的全局类，必须使用完全限定名称 new \C()。</li></ol></blockquote></blockquote><hr><hr><p>&emsp;<br>&emsp;</p><font face="Comic sans MS">对于命名空间，官方文档已经说得很详细<font color="red">[<a href="http://www.php.net/manual/zh/language.namespaces.rationale.php" target="_blank" rel="noopener">查看</a>]</font>，我在这里做了一下实践和总结。<br><font color="red">命名空间一个最明确的目的就是解决<strong>重名问题</strong></font>，PHP中不允许两个函数或者类出现相同的名字，否则会产生一个致命的错误。这种情况下只要避免命名重复就可以解决，<font color="red">最常见的一种做法是约定一个前缀</font>。<br><br>例：项目中有两个模块：article和message board，它们各自有一个处理用户留言的类Comment。之后我可能想要增加对所有用户留言的一些信息统计功能，比如说我想得到所有留言的数量。这时候调用它们Comment提供的方法是很好的做法，但是同时引入各自的Comment类显然是不行的，代码会出错，在另一个地方重写任何一个Comment也会降低维护性。那这时只能重构类名，我约定了一个命名规则，在类名前面加上模块名，像这样：Article_Comment、MessageBoard_Comment<br><br>可以看到，名字变得很长，那意味着以后使用Comment的时候会写上更多的代码（至少字符多了）。并且，以后如果要对各个模块增加更多的一些整合功能，或者是互相调用，发生重名的时候就需要重构名字。当然在项目开始的时候就注意到这个问题，并规定命名规则就能很好的避免这个问题。<font color="red">另一个解决方法可以考虑使用命名空间。</font><p>&emsp;</p><font color="#00B2EE"><strong>注明：</strong></font><br>本文提到的常量：PHP5.3开始const关键字可以用在类的外部。const和define都是用来声明常量的（它们的区别不详述），<font color="red">但是在命名空间里，define的作用是全局的，而const则作用于当前空间。</font>我在文中提到的常量是指使用const声明的常量。<br><br><br><font color="#00B2EE"><strong>基础：</strong></font><br>命名空间将代码划分出不同的空间（区域），每个空间的常量、函数、类（为了偷懒，我下边都将它们称为元素）的名字互不影响， 这个有点类似我们常常提到的‘封装’的概念。<br>创建一个命名空间需要使用namespace关键字，这样：<br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php//创建一个名为<span class="token string">'Article'</span>的命名空间namespace Article<span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p>&emsp;</p><font color="red"><strong>要注意的是，当前脚本文件的第一个命名空间前面不能有任何代码，下面的写法都是错误的：</strong></font><pre class=" language-bash"><code class="language-bash">//例一//在脚本前面写了一些逻辑代码<span class="token operator">&lt;</span>?php<span class="token variable">$path</span> <span class="token operator">=</span> <span class="token string">"/"</span><span class="token punctuation">;</span>class Comment <span class="token punctuation">{</span> <span class="token punctuation">}</span>namespace Article<span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><pre class=" language-bash"><code class="language-bash">//例二//在脚本前面输出了一些字符<span class="token operator">&lt;</span>html<span class="token operator">></span><span class="token operator">&lt;</span>/html<span class="token operator">></span><span class="token operator">&lt;</span>?phpnamespace Article<span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p>为什么要说第一个命名空间呢？<font color="red">因为同一脚本文件中可以创建多个命名空间。</font><br>下面我创建了两个命名空间，顺便为这两个空间各自添加了一个Comment类元素：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//创建一个名为'Article'的命名空间</span><span class="token keyword">namespace</span> <span class="token package">Article</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//此Comment属于Article空间的元素</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//创建一个名为'MessageBoard'的命名空间</span><span class="token keyword">namespace</span> <span class="token package">MessageBoard</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//此Comment属于MessageBoard空间的元素</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;<br><strong>在不同空间之间不可以直接调用其它元素，需要使用命名空间的语法：</strong></p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">namespace</span> <span class="token package">Article</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token keyword">namespace</span> <span class="token package">MessageBoard</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//调用当前空间（MessageBoard）的Comment类</span><span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//调用Article空间的Comment类</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Article<span class="token punctuation">\</span>Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><blockquote><blockquote><p>可以看到，在MessageBoard空间中调用article空间里的Comment类时，使用了一种像文件路径的语法： \空间名\元素名<br>除了类之外，对函数和常量的用法是一样的，下面我为两个空间创建了新的元素，并在MessageBoard空间中输出了它们的值。</p></blockquote></blockquote><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?phpnamespace Article<span class="token punctuation">;</span>const PATH <span class="token operator">=</span> <span class="token string">'/article'</span><span class="token punctuation">;</span><span class="token keyword">function</span> getCommentTotal<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> 100<span class="token punctuation">;</span><span class="token punctuation">}</span>class Comment <span class="token punctuation">{</span> <span class="token punctuation">}</span>namespace MessageBoard<span class="token punctuation">;</span>const PATH <span class="token operator">=</span> <span class="token string">'/message_board'</span><span class="token punctuation">;</span><span class="token keyword">function</span> getCommentTotal<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> 300<span class="token punctuation">;</span><span class="token punctuation">}</span>class Comment <span class="token punctuation">{</span> <span class="token punctuation">}</span>//调用当前空间的常量、函数和类<span class="token keyword">echo</span> PATH<span class="token punctuation">;</span> ///message_board<span class="token keyword">echo</span> getCommentTotal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //300<span class="token variable">$comment</span> <span class="token operator">=</span> new Comment<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>//调用Article空间的常量、函数和类<span class="token keyword">echo</span> \Article\PATH<span class="token punctuation">;</span> ///article<span class="token keyword">echo</span> \Article\getCommentTotal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //100<span class="token variable">$article_comment</span> <span class="token operator">=</span> new \Article\Comment<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p>然后我的确得到了Article空间的元素数据。<br>&emsp;</p><font face="Comic sans MS"><font color="red"><strong>子空间</strong></font><br>命名空间的调用语法像文件路径一样是有道理的，它允许我们自定义子空间来描述各个空间之间的关系。<br>抱歉我忘了说，article和message board这两个模块其实都是处于同一个blog项目内。如果用命名空间来表达它们的关系，是这样：<br></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//我用这样的命名空间表示处于blog下的article模块</span><span class="token keyword">namespace</span> <span class="token package">Blog<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//我用这样的命名空间表示处于blog下的message board模块</span><span class="token keyword">namespace</span> <span class="token package">Blog<span class="token punctuation">\</span>MessageBoard</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//调用当前空间的类</span><span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//调用Blog\Article空间的类</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Blog<span class="token punctuation">\</span>Article<span class="token punctuation">\</span>Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>而且，子空间还可以定义很多层次，比如说 Blog\Article\Archives\Date</p><p>&emsp;</p><font face="Comic sans MS"><font color="red"><strong>公共空间</strong></font><br>我有一个common_inc.php脚本文件，里面有一些好用的函数和类：</font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?php<span class="token keyword">function</span> getIP<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>class FilterXSS <span class="token punctuation">{</span> <span class="token punctuation">}</span>?<span class="token operator">></span></code></pre><p>&emsp;</p><font face="Comic sans MS">在一个命名空间里引入这个脚本，脚本里的元素不会归属到这个命名空间。如果这个脚本里没有定义其它命名空间，它的元素就始终处于公共空间中：<br></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?phpnamespace Blog\Article<span class="token punctuation">;</span>//引入脚本文件include <span class="token string">'./common_inc.php'</span><span class="token punctuation">;</span><span class="token variable">$filter_XSS</span> <span class="token operator">=</span> new FilterXSS<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //出现致命错误：找不到Blog\Article\FilterXSS类<span class="token variable">$filter_XSS</span> <span class="token operator">=</span> new \FilterXSS<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //正确?<span class="token operator">></span></code></pre><p>&emsp;</p><font face="Comic sans MS"><br>调用公共空间的方式是直接在元素名称前加 \ 就可以了，否则PHP解析器会认为我想调用当前空间下的元素。除了自定义的元素，还包括PHP自带的元素，都属于公共空间。<br>要提一下，其实公共空间的函数和常量不用加 \ 也可以正常调用（不明白PHP为什么要这样做），但是为了正确区分元素，还是建议调用函数的时候加上 \<br><br><strong>名称术语</strong><br>在说别名和导入之前，需要知道关于空间三种名称的术语，以及PHP是怎样解析它们的。官方文档说得非常好，我就直接拿来套了。<br><br>1.非限定名称，或不包含前缀的类名称，例如 $comment = new Comment();。如果当前命名空间是Blog\Article，Comment将被解析为Blog\Article\Comment。如果使用Comment的代码不包含在任何命名空间中的代码（全局空间中），则Comment会被解析为Comment。<br><br>2.限定名称，或包含前缀的名称，例如 $comment = new Article\Comment();。如果当前的命名空间是Blog，则Comment会被解析为Blog\Article\Comment。如果使用Comment的代码不包含在任何命名空间中的代码（全局空间中），则Comment会被解析为Comment。<br><br>3.完全限定名称，或包含了全局前缀操作符的名称，例如 $comment = new \Article\Comment();。在这种情况下，Comment总是被解析为代码中的文字名(literal name)Article\Comment。<br><br>其实可以把这三种名称类比为文件名（例如 comment.php）、相对路径名（例如 ./article/comment.php）、绝对路径名（例如 /blog/article/comment.php），这样可能会更容易理解。<br><br>我用了几个示例来表示它们：<br></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token comment" spellcheck="true">//创建空间Blog</span><span class="token keyword">namespace</span> <span class="token package">Blog</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//非限定名称，表示当前Blog空间</span><span class="token comment" spellcheck="true">//这个调用将被解析成 Blog\Comment();</span><span class="token variable">$blog_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//限定名称，表示相对于Blog空间</span><span class="token comment" spellcheck="true">//这个调用将被解析成 Blog\Article\Comment();</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Article<span class="token punctuation">\</span>Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//类前面没有反斜杆\</span><span class="token comment" spellcheck="true">//完全限定名称，表示绝对于Blog空间</span><span class="token comment" spellcheck="true">//这个调用将被解析成 Blog\Comment();</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Blog<span class="token punctuation">\</span>Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//类前面有反斜杆\</span><span class="token comment" spellcheck="true">//完全限定名称，表示绝对于Blog空间</span><span class="token comment" spellcheck="true">//这个调用将被解析成 Blog\Article\Comment();</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>Blog<span class="token punctuation">\</span>Article<span class="token punctuation">\</span>Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//类前面有反斜杆\</span><span class="token comment" spellcheck="true">//创建Blog的子空间Article</span><span class="token keyword">namespace</span> <span class="token package">Blog<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre><p>&emsp;</p><font face="Comic sans MS">其实之前我就一直在使用非限定名称和完全限定名称，现在它们终于可以叫出它们的名称了。<br><strong>别名和导入</strong><br>别名和导入可以看作是调用命名空间元素的一种快捷方式。PHP并不支持导入函数或常量。<br>它们都是通过使用use操作符来实现：<br></font><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">namespace</span> <span class="token package">Blog<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//创建一个BBS空间（我有打算开个论坛）</span><span class="token keyword">namespace</span> <span class="token package">BBS</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//导入一个命名空间</span><span class="token keyword">use</span> <span class="token package">Blog<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//导入命名空间后可使用限定名称调用元素</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Article<span class="token punctuation">\</span>Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//为命名空间使用别名</span><span class="token keyword">use</span> <span class="token package">Blog<span class="token punctuation">\</span>Article</span> <span class="token keyword">as</span> Arte<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用别名代替空间名</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Arte<span class="token punctuation">\</span>Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//导入一个类</span><span class="token keyword">use</span> <span class="token package">Blog<span class="token punctuation">\</span>Article<span class="token punctuation">\</span>Comment</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//导入类后可使用非限定名称调用元素</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//为类使用别名</span><span class="token keyword">use</span> <span class="token package">Blog<span class="token punctuation">\</span>Article<span class="token punctuation">\</span>Comment</span> <span class="token keyword">as</span> Comt<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用别名代替空间名</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>我注意到，如果导入元素的时候，当前空间有相同的名字元素将会怎样？显然结果会发生致命错误。<br>例：</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?phpnamespace Blog\Article<span class="token punctuation">;</span>class Comment <span class="token punctuation">{</span> <span class="token punctuation">}</span>namespace BBS<span class="token punctuation">;</span>class Comment <span class="token punctuation">{</span> <span class="token punctuation">}</span>Class Comt <span class="token punctuation">{</span> <span class="token punctuation">}</span>//导入一个类use Blog\Article\Comment<span class="token punctuation">;</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> new Comment<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //与当前空间的Comment发生冲突，程序产生致命错误//为类使用别名use Blog\Article\Comment as Comt<span class="token punctuation">;</span><span class="token variable">$article_comment</span> <span class="token operator">=</span> new Comt<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //与当前空间的Comt发生冲突，程序产生致命错误?<span class="token operator">></span></code></pre><p>&emsp;<br><strong>动态调用</strong><br>PHP提供了namespace关键字和__NAMESPACE__魔法常量动态的访问元素，__NAMESPACE__可以通过组合字符串的形式来动态访问：</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">namespace</span> <span class="token package">Blog<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token constant">PATH</span> <span class="token operator">=</span> <span class="token string">'/Blog/article'</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Comment</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//namespace关键字表示当前空间</span><span class="token keyword">echo</span> <span class="token keyword">namespace</span>\<span class="token package">PATH</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">///Blog/article</span><span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">namespace<span class="token punctuation">\</span>Comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//魔法常量__NAMESPACE__的值是当前空间名称</span><span class="token keyword">echo</span> <span class="token constant">__NAMESPACE__</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//Blog\Article</span><span class="token comment" spellcheck="true">//可以组合成字符串并调用</span><span class="token variable">$comment_class_name</span> <span class="token operator">=</span> <span class="token constant">__NAMESPACE__</span> <span class="token punctuation">.</span> <span class="token string">'\Comment'</span><span class="token punctuation">;</span><span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token variable">$comment_class_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter">?></span></code></pre><p>字符串形式调用问题<br>上面的动态调用的例子中，我们看到了字符串形式的动态调用方式，如果要使用这种方式要注意两个问题。</p><font color="red"><strong>1. 使用双引号的时候特殊字符可能被转义</strong></font><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?phpnamespace Blog\Article<span class="token punctuation">;</span>class name <span class="token punctuation">{</span> <span class="token punctuation">}</span>//我是想调用Blog\Article\name<span class="token variable">$class_name</span> <span class="token operator">=</span> __NAMESPACE__ <span class="token keyword">.</span> <span class="token string">"\name"</span><span class="token punctuation">;</span> //但是\n将被转义为换行符<span class="token variable">$name</span> <span class="token operator">=</span> new <span class="token variable">$class_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //发生致命错误?<span class="token operator">></span></code></pre><p>&emsp;</p><p><font color="red"><strong>2. 不会认为是限定名称</strong></font><br>PHP在编译脚本的时候就确定了元素所在的空间，以及导入的情况。而在解析脚本时字符串形式调用只能认为是非限定名称和完全限定名称，而永远不可能是限定名称。</p><pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span><span class="token keyword">namespace</span> <span class="token package">Blog</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//导入Common类</span><span class="token keyword">use</span> <span class="token package">Blog<span class="token punctuation">\</span>Article<span class="token punctuation">\</span>Common</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//我想使用非限定名称调用Blog\Article\Common</span><span class="token variable">$common_class_name</span> <span class="token operator">=</span> <span class="token string">'Common'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//实际会被当作非限定名称，也就表示当前空间的Common类，但我当前类没有创建Common类</span><span class="token variable">$common</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token variable">$common_class_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//发生致命错误：Common类不存在</span><span class="token comment" spellcheck="true">//我想使用限定名称调用Blog\Article\Common</span><span class="token variable">$common_class_name</span> <span class="token operator">=</span> <span class="token string">'Article\Common'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//实际会被当作完全限定名称，也就表示Article空间下的Common类，但我下面只定义了Blog\Article空间而不是Article空间</span><span class="token variable">$common</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token variable">$common_class_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//发生致命错误：Article\Common类不存在</span><span class="token keyword">namespace</span> <span class="token package">Blog<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Common</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token delimiter">?></span></code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;(oﾟvﾟ)ノ&lt;br&gt;
    
    </summary>
    
      <category term="PHP" scheme="Treecatee.gitgub.io/categories/PHP/"/>
    
    
      <category term="PHP语言" scheme="Treecatee.gitgub.io/tags/PHP%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
</feed>
